var postCommon={};if(typeof window.nhn=="undefined"){window.nhn={}}if(!nhn.husky){nhn.husky={}}postCommon.Comment=$Class({nCount:0,$init:function(){},closeAndSetFocus:function(b,a){var c,d;c=$("CommentFrm"+b);if(!c){return false}if(!$Element(c).visible()){$Fn(function(){this._setFocusToComment(c)},this).attach(c,"load");postView.cmtControl(1,a||1,b)}else{this._setFocusToComment(c)}},_setFocusToComment:function(b){var c,a,d;d=b.contentWindow;c=d.$("formCommentLoginUser");if(c){a=$$.getSingle("textarea",c);if(a){setTimeout($Fn(function(){a.focus();if(this.nCount<5){this.nCount++;this._setFocusToComment(b)}d=c=a=null},this).bind(),200)}}}});postCommon.ListTable=$Class({_bFirstTopListOpen:false,bCheckAll:false,listData:null,TOP:"top",BOTTOM:"bottom",$init:function(){this.setListTableTemplate();this.elTopList=$("toplist");this.elBottomList=$("postListBottom");this.elTopListMenu=$("toplistmenu");this.elTopListBtn=$("toplistBtn");this.elTopListBtnImg=$("topListBtnImg");this._wfOnKeyupOrChange=$Fn(this._onKeyupOrChange,this)},toggleTopList:function(){if(!this.elTopList){return}if(!$Element(this.elTopList).visible()){this._showTopList()}else{this._hideTopList()}},syncPage:function(){nPostListCount=pagePerPostCount;nPostPage=currentPage;nTopListCount=this.getCurrentTopListCount();return(isThumbnailList?1:Math.ceil((nPostListCount*nPostPage-(nPostListCount-1))/nTopListCount))},_showTopList:function(){if(!this._bFirstTopListOpen){this._bFirstTopListOpen=true;this.currentPage=userTopListCurrentPage||this.syncPage()||1;this.loadPostList({listType:this.TOP,countPerPage:this.getCurrentTopListCount(),currentPage:this.currentPage})}$Element(this.elTopList).show();if(this.elTopListMenu){$Element(this.elTopListMenu).show()}if(this.elTopListBtn){$Element(this.elTopListBtn).html("목록닫기")}if(this.elTopListBtnImg){var a=$Element(this.elTopListBtnImg);a.addClass("ico1");a.removeClass("ico2")}},_hideTopList:function(){$Element(this.elTopList).hide();if(this.elTopListMenu){$Element(this.elTopListMenu).hide()}if(this.elTopListBtn){$Element(this.elTopListBtn).html("목록열기")}if(this.elTopListBtnImg){var a=$Element(this.elTopListBtnImg);a.removeClass("ico1");a.addClass("ico2")}this.checkAllPost(false);this._resetTagEdit()},_resetTagEdit:function(){var c,b,a;c=$$("a._cancelTag",this.elTopList);for(b=0,a=c.length;b<a;b++){if($Element(c[b].parentNode).visible()){$Element(c[b]).fireEvent("click")}}c=b=a=null},loadBottomList:function(c,b,a){if(!b){return}this.bottomLogNo=c;this.bottomIsFirstPage=a;this.loadPostList({logNo:search_logNo,isFirstPage:a,listType:this.BOTTOM,currentPage:currentPage})},_getListApiUrl:function(b,a,c){b=b||this.TOP;return"/PostTitleListAsync.nhn?blogId="+blogId+"&listType="+b+"&viewdate="+viewDate+"&currentPage="+a+"&categoryNo="+categoryNo+"&parentCategoryNo="+parentCategoryNo+(c?"&countPerPage="+c:"")},loadPostList:function(f){var j,c,b,h,g,d,a;j=f.logNo||"";c=f.listType||this.TOP;b=f.isFirstPage;h=f.currentPage||1;g=f.countPerPage;d=c==this.TOP?$Fn(this._onResponseTopList,this).bind():$Fn(this._onResponseBottomList,this).bind();a=this._getListApiUrl(c,h,g)+(b?"&isFirstPage="+b:"");new $Ajax(a,{method:"get",onerror:function(){},onload:d}).request();j=c=b=h=g=d=a=null},goPageList:function(b,a){this.currentPage=b;if(a==this.BOTTOM){this.loadPostList({logNo:this.bottomLogNo,isFirstPage:this.bottomIsFirstPage,listType:this.BOTTOM,currentPage:this.currentPage})}else{this._nHeightTopList=this.elTopList.offsetHeight;this.loadPostList({listType:this.TOP,currentPage:this.currentPage,countPerPage:this.getCurrentTopListCount()})}},getCurrentTopListCount:function(){var a=$("changeListCount");return !a?userTopListCount||topListPostCount:$$("option",a)[a.selectedIndex].value},setCurrentListCount:function(b){var a=$("changeListCount");if(!a){return}$$.getSingle("option[value="+b+"]",a).selected=true;a=null},_onResponseTopList:function(a){if(a.text().indexOf("resultCode")<0){return false}var c=function(){return new Function("return "+$S(a.text()).trim())()}();if(c.resultCode!="S"){return}this.listData=c.postList;this._makeListTable(c,this.TOP);if(c.isTagEnabled&&blogOwner){postListTag.loadTagListTableInfo(c.tagQueryString)}this.setCurrentListCount(c.countPerPage);this.toggleListTopManager(true);if(userTopListManageOpen&&!this.bFirstOpenList){this.bFirstOpenList=true;this.openListTopManager()}if(this._bPageFirstLoad){if(isFirstPage){var b;if(searchImg!=""){b=$(searchImg);if(b){utility.gotoTag(searchImg)}}else{if(searchVid!=""){b=$(searchVid);if(b){utility.gotoTag(searchVid)}}}if(!b){utility.gotoTag("post_1")}}else{if(isAfterWrite){utility.gotoTag("post_1")}}this._bPageFirstLoad=false}if(this._nHeightTopList!=0){nDiffHeight=this._nHeightTopList-this.elTopList.offsetHeight;if(parent){parent.scrollBy(0,-nDiffHeight)}this._nHeightTopList=0}},_onResponseBottomList:function(a){if(a.text().indexOf("resultCode")<0){return false}var b=$Json(a.text()).toObject();if(b.resultCode!="S"){return}this._makeListTable(b,this.BOTTOM);if(this.elBottomList){$Element(this.elBottomList).show()}},setListTableTemplate:function(){this.aTopListHead=[];this.aTopListBody=[];this.aTopListFooter=[];this.aTopListHead.push('<div class="listtbl"><div class="fil5 dline"></div>');this.aTopListHead.push('<form method="post" name="listTopForm" id="listTopForm">');this.aTopListHead.push('<input type="hidden" name="logNoStruct" id="logNoStruct" /><input type="hidden" value="'+blogId+'" name="blogId" />');this.aTopListHead.push('<input type="hidden" value="'+blogNo+'" name="paperNo"/><input type="hidden" value="'+categoryNo+'" name="categoryNo"/><input type="hidden" value="" name="dstCategory"/>');this.aTopListHead.push('<input type="hidden" value="" name="dstCategoryName"/><input type="hidden" value="'+blogId+'" name="chtagname"/><input type="hidden" name="logType" value="mylog"/>');this.aTopListHead.push('<table cellspacing="0" cellpadding="0"><tbody>');this.aTopListBody.push('<tr valign="top"><td class="t1">');if(blogOwner){this.aTopListBody.push('<input class="logno-checkbox" type="checkbox" name="logNo" value="#{LOG_NO}" #{LOG_DISABLED} />');this.aTopListBody.push('<input type="checkbox" name="catNo" value="#{CATE_NO}" style="display:none;" #{LOG_DISABLED} />');this.aTopListBody.push('<input type="hidden" name="sourceCode" value="#{SOURCE_CODE}">')}this.aTopListBody.push('<img height="2" width="2" class="fil3 pcol2b" src="'+imageURL+'/nblog/spc.gif"/>');this.aTopListBody.push("</td>");this.aTopListBody.push('<td class="t2"><a class="pcol2 _setTop _setTopListUrl itemfont" href="'+blogURL+"/PostView.nhn?blogId="+blogId+"&logNo=#{LOG_NO}&categoryNo=#{CATE_NO}&parentCategoryNo=#{PARENT_CATE_NO}&viewDate="+viewDate+"&currentPage=#{CURRENT_PAGE}&postListTopCurrentPage="+postListTopCurrentPage+'&isAfterWrite=true">#{PRE_TITLE}#{TITLE}#{POST_TITLE}</a>&nbsp;');this.aTopListBody.push("#{COMMENT_COUNT_AREA}");this.aTopListBody.push("#{VIEW_ICON}");this.aTopListBody.push("#{SEARCH_ICON}");this.aTopListBody.push("#{BLOCK_ICON}");this.aTopListBody.push("#{GREENREVIEW_ICON}");this.aTopListBody.push("</td>");this.aTopListBody.push('<td class="t3"><input type="text" readonly="readonly" class="fil5 pcol2" value="#{SCRAP_CNT}"/></td>');this.aTopListBody.push('<td class="t4"><input type="text" readonly="readonly" class="fil5 pcol2" value="#{RELAY_CNT}"/></td>');this.aTopListBody.push('<td class="t5"><input type="text" readonly="readonly" class="fil5 pcol2" value="#{DATE}"/></td></tr>');this.aTopListBody.push("<tr>");this.aTopListBody.push("<td></td>");this.aTopListBody.push('<td colspan="4">');this.aTopListBody.push('<div id="tagTopName_#{LOG_NO}" class="post-tag pcol2 post-tag-view" #{LOG_BLIND}>&nbsp;<a href="#" class="edit hand _returnFalse _showTagEditBox _tagRosRestrict _param(EDIT|#{LOG_NO}|TOP)" ><img src="'+imageURL+'/nblog/btn_edit_2.gif" width="23" height="11" /></a></div>');this.aTopListBody.push('<div class="post-tag pcol2" style="display:none">');this.aTopListBody.push('<input type=text class="tag_inp" title="태그를 입력해 주세요" value="" /> ');this.aTopListBody.push('<a href="#" class="pcol2 _saveTag _returnFalse _param(TOP|#{LOG_NO})">태그저장</a> ');this.aTopListBody.push('<img src="'+imageURL+'/imgs/nblog/spc.gif" class="fil3 pcol2b" width="1" height="11" /> ');this.aTopListBody.push('<a href="#" class="pcol2 _cancelTag _returnFalse _param(TOP|#{LOG_NO})">취소</a>');this.aTopListBody.push("</div>");this.aTopListBody.push("</td></tr>");this.aTopListBody.push('<tr><td colspan="5"><img height="1" width="1" class="fil3 pcol2b" src="'+imageURL+'/imgs/nblog/spc.gif"/></td></tr>');this.aTopListFooter.push("</tbody></table></form></div>");this.aTopListFooter.push('<div class="listbtn"><table cellspacing="0" cellpadding="0"><tbody><tr valign="top">');this.aTopListFooter.push('<td class="t1 checkall-checkbox">');if(blogOwner){this.aTopListFooter.push('<input type="checkbox" name="checkall" id="checkall" class="_checkAllPost" #{LOG_DISABLED}/>')}this.aTopListFooter.push("</td>");this.aTopListFooter.push('<td class="t2 pcol2 checkall-text">');if(blogOwner){this.aTopListFooter.push('<label for="checkall">전체선택</label></td>')}this.aTopListFooter.push('<td class="t3">');if(blogOwner){this.aTopListFooter.push('<span class="links">');this.aTopListFooter.push('<a href="#" class="pcol2 _cfmAuthUpdatePost _rosRestrict _returnFalse">포스트설정 변경</a> <span class="inblock fil3 pcol2">|</span> ');this.aTopListFooter.push('<a href="#" class="pcol2 tag-reffernce _cfmPostRegistTagName _rosRestrict _tagRosRestrict _returnFalse">태그달기</a> <span class="tag-reffernce inblock fil3 pcol2">|</span> ');this.aTopListFooter.push('<a href="#" class="pcol2 _cfmMovePost _rosRestrict _returnFalse">이동</a> <span class="inblock fil3 pcol2">|</span> ');this.aTopListFooter.push('<a href="#" class="pcol2 _cfmDeletePost _rosRestrict _returnFalse">삭제</a>');this.aTopListFooter.push("</span>");this.aTopListFooter.push('<a href="#" id="btnSwitchManager" class="_toggleListTopManager _rosRestrict _returnFalse"><img src="'+imageURL+'/nblog/button_toplist_mgmt_open.gif" alt="글관리 열기"></a>');this.aTopListFooter.push('<img src="'+imageURL+'/nblog/spc.gif" width="1" height="16" alt="" class="fil3 pcol2b borderx">')}this.aTopListFooter.push('<select id="changeListCount" class="_changeListCount">');this.aTopListFooter.push('<option value="5">5줄 보기</option>');this.aTopListFooter.push('<option value="10">10줄 보기</option>');this.aTopListFooter.push('<option value="15">15줄 보기</option>');this.aTopListFooter.push('<option value="20">20줄 보기</option>');this.aTopListFooter.push('<option value="30">30줄 보기</option>');this.aTopListFooter.push("</select>");this.aTopListFooter.push("</td></tr></tbody></table></div>");this.aTopListFooter.push('<div class="paging tc">#{PAGING}</div>');this.aBottomListHead=[];this.aBottomListBody=[];this.aBottomListFooter=[];this.aBottomListHead.push('<div class="post"><div class="post-back"><table cellspacing="0" cellpadding="0" class="post-head"><tbody><tr><td class="htl"/><td class="htc"/><td class="htr"/></tr></tbody></table>');this.aBottomListHead.push('<table cellspacing="0" cellpadding="0" class="post-body"><tbody><tr><td class="bcl"/><td class="bcc"><div id="bottom-list"><table class="post-top"><tbody>');this.aBottomListHead.push('<tr><td valign="bottom"><div class="improve-list-tit"><h5 class="pcol2">&lsquo;<span class="pcol3">#{CATEGORY_NAME}</span>&rsquo; 카테고리의 다른 글</h5>');this.aBottomListHead.push('</div><p class="fil3 dline"/></td></tr></tbody></table>');this.aBottomListHead.push('<table cellspacing="0" cellpadding="0" border="0" class="improve-list"><tbody>');this.aBottomListBody.push('<tr><td class="lt">');this.aBottomListBody.push('<a class="pcol2 _setTop" href="'+blogURL+"/PostView.nhn?blogId="+blogId+"&logNo=#{LOG_NO}&categoryNo=#{CATE_NO}&parentCategoryNo=#{PARENT_CATE_NO}&viewDate="+viewDate+"&currentPage=#{CURRENT_PAGE}&postListTopCurrentPage="+postListTopCurrentPage+"&from="+from+'">#{PRE_TITLE}#{TITLE}#{POST_TITLE}</a>&nbsp;');this.aBottomListBody.push("#{COMMENT_COUNT_AREA}");this.aBottomListBody.push("#{VIEW_ICON}");this.aBottomListBody.push('</td><td class="date fil5 pcol2"><p>#{DATE}</p></td>');this.aBottomListBody.push('</tr><tr><td height="1" class="fil3 pcol2b" colspan="2"/></tr>');this.aBottomListFooter.push("</tbody></table></div>");this.aBottomListFooter.push('<div class="paging tc"><div class="itop"><a href="#"><span class="pcol2 i1"><em>▲</em> top</span></a></div>#{PAGING}</div></td><td class="bcr"/></tr></tbody></table>');this.aBottomListFooter.push('<table cellspacing="0" cellpadding="0" class="post-footer"><tbody><tr><td class="ftl"/><td class="ftc"/><td class="ftr"/></tr></tbody></table>');this.aBottomListFooter.push("</div></div>")},_makeListTable:function(t,f){var g,n,q,k,h,m,l,x,b,u,a,r,s,w,c,v,z,p,o,y,j;g=[];if(f==this.TOP){n=this.aTopListHead;q=this.aTopListBody;k=this.aTopListFooter}else{if(f==this.BOTTOM){n=this.aBottomListHead;q=this.aBottomListBody;k=this.aBottomListFooter}}if(categoryName){g.push(n.join("").replace(/#\{CATEGORY_NAME\}/g,utility.decodeURIComponentForJava(categoryName)))}else{g.push(n.join(""))}h=t.postList;m=t.parameters.categoryNo;l=t.parameters.parentCategoryNo;x=t.parameters.currentPage;z='<img src="'+imageURL+'/nblog/#{ICON}" class="#{ICON_CLASS}" width="#{WIDTH}" height="#{HEIGHT}" title="#{ICON_NAME}" />';if(h){for(w=0,c=h.length;w<c;w++){p=h[w];o=q.join("");if(p.searchYn=="false"&&blogOwner){b="ico_sopen2.gif";u="i_open";a="46";r="15";s="검색비허용";y=z;y=y.replace(/#\{ICON\}/g,b);y=y.replace(/#\{ICON_CLASS\}/g,u);y=y.replace(/#\{ICON_NAME\}/g,s);y=y.replace(/#\{WIDTH\}/g,a);y=y.replace(/#\{HEIGHT\}/g,r);o=o.replace(/#\{SEARCH_ICON\}/g,y)}else{o=o.replace(/#\{SEARCH_ICON\}/g,"")}if(p.isPostBlocked=="1"&&p.isBlockTmpForced=="0"){b="ico_restrict.gif";u="i_open";a="38";r="15";s="이용제한";j=z;j=j.replace(/#\{ICON\}/g,b);j=j.replace(/#\{ICON_CLASS\}/g,u);j=j.replace(/#\{ICON_NAME\}/g,s);j=j.replace(/#\{WIDTH\}/g,a);j=j.replace(/#\{HEIGHT\}/g,r);o=o.replace(/#\{BLOCK_ICON\}/g,j)}else{o=o.replace(/#\{BLOCK_ICON\}/g,"")}if(p.greenReviewBannerYn||p.greenReviewBannerVisible){var d='<span style="display:inline-block;position:relative;top:2px;margin-left:4px"><a href="'+greenReviewCampaignURL+'/greenReview" target="_blank"><img src="'+imageURL+'/nblog/mylog/post/ico_grv.gif" width="17" height="13" title="그린리뷰" /></a></span>';o=o.replace(/#\{GREENREVIEW_ICON\}/g,d)}else{o=o.replace(/#\{GREENREVIEW_ICON\}/g,"")}if(p.isPostNotOpen=="1"){b="00ico_lock_p_2.gif";u="key";a="9";r="11";s="비공개";o=o.replace(/#\{VIEW_ICON\}/g,z)}else{switch(p.openType){case"1":b="ico_open2.gif";u="i_open";a="39";r="15";s="이웃공개";o=o.replace(/#\{VIEW_ICON\}/g,z);break;case"3":b="ico_open1.gif";u="i_open";a="39";r="15";s="서로이웃공개";o=o.replace(/#\{VIEW_ICON\}/g,z);break;case"0":b="00ico_lock_p_2.gif";u="key";a="9";r="11";s="비공개";o=o.replace(/#\{VIEW_ICON\}/g,z);break;default:o=o.replace(/#\{VIEW_ICON\}/g,"")}}if(p.isBlockTmpForced=="1"){o=o.replace(/#\{LOG_BLIND\}/g,(p.isPostSelectable=="1"?'style="display:none;"':""))}o=o.replace(/#\{LOG_DISABLED\}/g,(p.isPostSelectable=="1"?'disabled="disabled"':""));o=o.replace(/#\{LOG_NO\}/g,p.logNo);o=o.replace(/#\{CURRENT_PAGE\}/g,x);o=o.replace(/#\{CATE_NO\}/g,m);o=o.replace(/#\{TITLE\}/g,'<span class="itemfont">'+utility.decodeURIComponentForJava(p.title)+"</span>");o=o.replace(/#\{SCRAP_CNT\}/g,p.scrapCount);o=o.replace(/#\{RELAY_CNT\}/g,p.relayCount);o=o.replace(/#\{DATE\}/g,p.addDate);o=o.replace(/#\{SOURCE_CODE\}/g,p.sourceCode);o=o.replace(/#\{ICON\}/g,b);o=o.replace(/#\{ICON_CLASS\}/g,u);o=o.replace(/#\{ICON_NAME\}/g,s);o=o.replace(/#\{WIDTH\}/g,a);o=o.replace(/#\{HEIGHT\}/g,r);o=o.replace(/#\{COMMENT_COUNT_AREA\}/g,(p.commentCount>0?'<span class="num pcol3">(<strong>#{COMMENT_COUNT}</strong>)</span>'.replace(/#\{COMMENT_COUNT\}/g,p.commentCount):""));o=o.replace(/#\{PRE_TITLE\}/g,search_logNo==p.logNo?"<b><u>":"");o=o.replace(/#\{POST_TITLE\}/g,search_logNo==p.logNo?"</u></b>":"");o=o.replace(/#\{PARENT_CATE_NO\}/g,l);g.push(o)}}v=k.join("");v=v.replace(/#\{PAGING\}/g,t.pagingHtml);v=v.replace(/#\{LOG_DISABLED\}/g,(t.isAllPostSelectable=="1"?'disabled="disabled"':""));g.push(v);if(f==this.TOP){if($("changeListCount")){this._wfOnKeyupOrChange.attach($("changeListCount"),"change")}if(this.elTopList){$Element(this.elTopList).html(g.join(""));this._wfOnKeyupOrChange.attach($("changeListCount"),"change")}}else{if(f==this.BOTTOM){if(this.elBottomList){$Element(this.elBottomList).html(g.join(""))}}}n=q=k=h=m=l=x=b=u=a=r=s=w=c=v=z=p=o=y=j=g=null},getListLogNo:function(){var a,g,d,c,f,b;a=$("listTopForm");g=$$("input[type=checkbox][name=logNo]",a);d=[];c=g.length;for(f=0;f<c;f++){b=g[f];if(b.checked){d.push("&logNo=");d.push(b.value)}}a=g=c=f=b=null;return d.join("")},checkAllPost:function(d){var b,c,g,a,f;b=$("listTopForm");c=$("checkall");g=$$("input[name=logNo][type=checkbox][disabled=false]",b);a=g.length;this.bCheckAll=typeof d=="boolean"?d:c.checked;for(f=0;f<a;f++){g[f].checked=this.bCheckAll}if(c){c.checked=this.bCheckAll}b=c=g=a=f=null},toggleListTopManager:function(a){var b=a?false:true;if(!$Element(this.elTopList).hasClass("show-list-manager-mode")==b){this.openListTopManager()}else{this.closeListTopManager()}b=null},openListTopManager:function(){var a=$("btnSwitchManager");if(!a){return}$Element(this.elTopList).addClass("show-list-manager-mode");if(!(Number(tagOpenModeType)>0)&&!$Element(this.elTopList).hasClass("disable-tag")){$Element(this.elTopList).addClass("disable-tag")}$Element(a).html('<img src="'+imageURL+'/nblog/button_toplist_mgmt_close.gif" alt="글관리 닫기">');a=null},closeListTopManager:function(){var a=$Element($("btnSwitchManager"));if(!a){return}$Element(this.elTopList).removeClass("show-list-manager-mode");a.html('<img src="'+imageURL+'/nblog/button_toplist_mgmt_open.gif" alt="글관리 열기">');this.checkAllPost(false);this._resetTagEdit();if(isMemolog){utility.writelcs(100097023)}a=null},getCheckboxChecked:function(){return $$("input[name=logNo][type=checkbox][checked=true]",$("listTopForm"))},cfmPostRegistTagName:function(){var b=this.getCheckboxChecked().length;var a=$$("input[name=logNo][type=checkbox]",$("listTopForm")).length;if(b>0){window.open("/PostTagRegistConfirm.nhn?blogId="+blogId+"&cnt="+a,"_postTagCfm","width=400,height=190")}else{alert("포스트를 선택하세요.")}b=null},cfmAuthUpdatePost:function(){window._nBlogPageId=utility.getRandNumber();if(this.getCheckboxChecked().length>0){window.open("/MultiplePostOptionsUpdateForm.nhn?blogId="+blogId+"&logNoStruct=","_postAuthUpdateCfm","width=495,height=280")}else{alert("포스트를 선택하세요.")}},cfmMovePost:function(){if(this.getCheckboxChecked().length>0){window.open((isMemolog?"/memo/MemologPostCategoryMoveForm.nhn":"/PostCategoryMoveForm.nhn")+"?blogId="+blogId,"_postMoveCfm","width=330,height=270")}else{alert("포스트를 선택하세요.")}nCheckedCnt=null},cfmDeletePost:function(){var a,c,d,b;d=[];b=[];aElChecked=this.getCheckboxChecked();a=aElChecked.length;for(c=0;c<a;c++){d.push($$.getSingle("~input[type=hidden][name=sourceCode]",aElChecked[c]).value);b.push(aElChecked[c].value)}$("logNoStruct").value=utility.arrays2JsonStr(["logNo","sourceCode"],[b,d]);if(a>0){window.open(isMemolog?"/post/memologPostDeleteConfirm.jsp":"/post/postDeleteConfirm.jsp","_postDeleteCfm","width=330,height=190")}else{alert("포스트를 선택하세요.")}a=c=d=b=null},_onKeyupOrChange:function(b){var c=b.element;var a=b.key();if($Element(c).hasClass("_changeListCount")&&(b.type=="keyup"&&(b.htKey.up||b.htKey.down||b.htKey.left||b.htKey.right)||b.type=="change")){this.loadPostList({logNo:this.topLog,listType:this.TOP,countPerPage:this.getCurrentTopListCount()})}},_onUseMe2DayClicked:function(a){new Ajax("/Me2DayUseMe2DayAsync.nhn",{method:"post",params:{blogId:blogId},onerror:function(){},onload:$Fn(function(b){var c;try{c=b.json()}catch(d){alert("일시적으로 장애가 발생하였습니다. 잠시 후 다시 시도해 주세요.");return}if(c.result&&c.code==1){utility.showLayer($("noticelayercontents"),$("me2dayactivation"),-50)}else{if(c.result){utility.showLayer($("noticelayercontents"),$("me2dayactivation"),-50)}else{top.location.href=adminURL+"/AdminMain.nhn?blogId="+userId+"&Redirect=Me2Dayadm"}}},this).bind()}).request()},_onCloseMe2DayActivationClicked:function(a){if(typeof top.mainFrame=="undefined"){top.location.href=mylogURL+"/NBlogTop.nhn?blogId="+userId+"&Redirect=Me2Day"}else{top.mainFrame.location.href=mylogURL+"/NBlogTop.nhn?blogId="+userId+"&Redirect=Me2Day"}},checkBlock:function(a){if(penalty.isBlocked()){penalty.showMessage();a.stop();return false}return true}});postCommon.View=$Class({COMMENT:"1",RELAY:"2",SYMPATHY:"3",$init:function(){this.deleteNo=null;this.arrChkopen=["0","0","0","0","0","0","0","0","0","0","0"];this.arrChkopen[0]="1";this.setSendPost()},resizeAllPosts:function(){var c=document.getElementsByName("outerDL");for(var b=0,a=c.length;b<a;b++){this.resizePost(c[b])}},resizePost:function(c){if(c){this.elDl=c}else{c=this.elDl}try{this.dd=$$.getSingle("dd",c);this.dt=$$.getSingle("dt",c);var d=$Element(c);var b=$Element(this.dd);var g=$Element(this.dt);d.css({width:"100%"});var a=d.width();if(a!=0&&g.width()==a){weldd.css({width:"100%"})}else{b.width(d.width()-g.width()-Math.abs(parseInt(g.css("marginLeft"),10)+parseInt(g.css("marginRight"),10)))}if(b.width()==""||b.width()==0){setTimeout($Fn(function(){this.resizePost()},this).bind(),100)}}catch(f){setTimeout($Fn(function(){try{this.resizePost()}catch(h){}},this).bind(),100)}},cmtControl:function(j,b,f,n,o,k,u){var t,g,p;n=n||0;o=o||0;j=j+"";var c=$("CommentFrm"+f);var m=$("RewFrm"+f);var h=$("sympathyFrm"+f);var q=$("Com"+b);var v=$Element(c);var d=$Element(m);var r=$Element(h);var w=v.visible();var l=d.visible();var a=r.visible();t=$("Comi"+f);g=$("Rew"+f);p=$("Sympathy"+f);switch(j){case this.COMMENT:if(u==2||u==6){alert("이 게시물은 게시중단 되어\n덧글 열람 및 작성이 불가합니다.");return}if(!w){v.show();c.src="/CommentList.nhn?blogId="+blogId+"&logNo="+f+"&page="+n+"&postSeq="+b+"&categoryNo="+o+"&viewdate="+k+"&isMemolog="+isMemolog;this.selectButton(t);this.releaseButton(p);r.hide();utility.writeNewLcs(gdidTag[b],"sti","blog_comment")}else{this.releaseButton(t);v.hide()}break;case this.RELAY:if(u==2||u==6){alert("이 게시물은 게시중단 되어\n엮인글 열람 및 작성이 불가합니다.");return}if(!l){d.show();m.src="/PostRelayList.nhn?blogId="+blogId+"&fno="+b+"&logNo="+f;this.selectButton(g);this.releaseButton(p);r.hide();utility.writeNewLcs(gdidTag[b],"sti","blog_relay")}else{this.releaseButton(g);d.hide()}break;case this.SYMPATHY:if(u==2||u==6){alert("이 게시물은 게시중단 되어\n공감하기 및 열람이 불가합니다.");return}if(!a||this.arrChkopen[b]!=j){r.show();h.src="/SympathyHistoryList.nhn?blogId="+blogId+"&logNo="+f;this.selectButton(p);v.hide();d.hide();this.releaseButton(g);this.releaseButton(t);utility.writeNewLcs(gdidTag[b],"sti","blog_sympathy")}else{this.releaseButton(p);r.hide(h)}break}this.arrChkopen[b]=j;w=v.visible();l=d.visible();a=r.visible();var s=$Element(q);if(!w&&!l&&!a){s.removeClass("ico1");s.addClass("ico2")}else{s.removeClass("ico2");s.addClass("ico1")}},setCommentCount:function(b,c){var a=$Element($("Comi"+c));if(!a){return}if(b==0){a.html("덧글 쓰기")}else{a.html("덧글 "+b+"개")}a=null},setRelayCount:function(b,c){var a=$Element($("Rew"+c));if(!a){return}if(b==0){a.html("엮인글 쓰기")}else{a.html("엮인글 "+b+"개")}a=null},setSympathyCount:function(b,c){var a=$Element($("Sympathy"+c));if(!a){return}if(b==0){if(blogOwner){a.html("공감")}else{$Element($("spc_sympathy_"+c)).hide();a.hide()}}else{a.html("공감 "+b+"개")}elBtn=null},selectButton:function(b){var a=$Element($(b));if(!a){return}a.removeClass("pcol2");a.addClass("pcol3")},releaseButton:function(b){var a=$Element($(b));if(!a){return}a.removeClass("pcol3");a.addClass("pcol2")},event_sublayer:function(h){var k=h[0];var j=h[1];var b=h[2];var l=$("EventCommentFrm"+k);var d=$("EventCom"+k);var g=$("EventComi"+k);var f=$Element(l);var a=$Element(d);var c=$Element(g);if(!l){return}if(!f.hasClass("_attachOnLoad")){f.addClass("_attachOnLoad")}if(!f.visible()){l.src="/PostEventCommentMain.nhn?blogId="+blogId+"&fno="+k+"&eventNo="+j+"&eventType="+b+"&skinId="+skinId+"&skinType="+skinType;a.addClass("ico1");a.removeClass("ico2");c.addClass("on");f.show()}else{f.hide(l);a.addClass("ico2");a.removeClass("ico1");c.removeClass("on")}},stopqmsg:function(){$Element($("mrblogcontents")).hide();$("closeMrBlog").src="/MrBlogQuestionDismiss.nhn?blogId="+blogId+"&flag=0"},hideNoticeLayer:function(){new $Ajax("/NoticeLayerClickAsync.nhn",{method:"post",onerror:function(){},onload:function(){}}).request({blogId:blogId})},sympathy:function(a,c,d){if(c==2||c==6){alert("이 게시물은 게시중단 되어\n공감하기 및 열람이 불가합니다.");return}var b="/PostSympathyAddAndCountAsync.nhn";new $Ajax(b,{method:"post",onerror:function(){},onload:$Fn(function(f){try{var j=f.json()}catch(h){return false}if(j.resultCode==3){var g=blogURL+"/npost/common/reloadOpenerParentAndClose.jsp";window.open("http://nid.naver.com/nidlogin.login?mode=form&template=plogin&url="+g,"loginPopup","width=400,height=267");return}if(j.resultCode==5){alert(j.message);return}if(j.resultCode!=1){alert(j.message)}if(j.count>0&&j.resultCode!=2){this.setSympathy(j.logNo,j.count)}},this).bind()}).request({blogId:blogId,logNo:a})},setSympathy:function(b,d){var a=$("Sympathy"+b);var g=$Element(a);g.show();if($("spc_sympathy_"+b)){$Element("spc_sympathy_"+b).show()}g.html("공감 "+d+"개");var c=$("sympathyFrm"+b);if(c){try{c.contentWindow.location.reload()}catch(f){}}if(!$Element(c).visible()){g.fireEvent("click")}},realModifyPost:function(d,a,c,g){var b="";var h=$$.getSingle("._checkBlock",$("post-admin"));if(h){rxCategoryNo=/&categoryNo=(\d{1,})&/;sCategoryNo=rxCategoryNo.test(h.href)?rxCategoryNo.exec(h.href)[1]:0;if(/&accessCategoryNo=/.test(h.href)){b="&accessCategoryNo="+sCategoryNo}else{b="&accessParentCategoryNo="+sCategoryNo}}var f=(isMemolog?"/MemologMain.nhn":"/NBlogMain.nhn");location.href=f+"?Redirect=Update&blogId="+blogId+"&cpage="+c+"&sourceCode="+d+"&logNo="+a+b},modifyPost:function(b,c,a){loginObj.isLogin($Fn(function(){if(readOnlyStatus){alert(readOnlyLinkErrorMsg);return}var d="/ScrapBlackListCheck.nhn";new $Ajax(d,{method:"POST",onerror:function(){},onload:$Fn(function(h){var g=h.json();var f=nickName?nickName+"("+blogId+")":blogId;if(g.isVisitorBlackListed){alert(f+" 님은 글쓰기 제한 기능을 사용하고 있습니다.")}else{this._modifyPost(b,c,a)}},this).bind()}).request({blogId:blogId,blogNo:blogNo,blogNickName:nickName,sourceBlogNo:blogNo,sourceBlogId:blogId,sourceBlogNickName:nickName})},this).bind(),loginObj.openLayeredLogin)},_modifyPost:function(c,k,h){if(k==null){k=this.modifyNo}var l=aPostBaseInfo[k].split("|");var a=l[0];var d=l[1];var f=aPostSendInfo[k];var g=l[2];var j=l[3];var b=l[4];var m=l[5];if(d!=0&&($Agent().navigator().version=="5.5"&&$Agent().navigator().ie)){alert("IE 5.5에서는 템플릿쓰기를 수정 할 수 없습니다. IE 6.0 이상을 사용해 주세요.")}else{if(m==4){alert("죄송합니다. 수정 권한이 없습니다.");return false}if(m==2||m==6){alert("이 게시물은 게시중단 되어\n수정하실 수 없습니다.");return false}if(penalty.isBlocked()){penalty.showMessage();return false}if(f.length==0){this.realModifyPost(d,a,j,b)}else{if(h&&h=="realModify"){this.realModifyPost(d,a,j,b);return}if(this.makeLayerContent("modify",g)==true){this.upToLayer(c,$("sendPostLayer"))}else{this.realModifyPost(d,a,j,b)}this.modifyNo=k}}},realDeletePost:function(c,a,b){var d=document.deletePostFrm;if(!d){return}d.blogId.value=blogId;d.cpage.value=b;d.categoryNo.value=categoryNo;d.parentCategoryNo.value=parentCategoryNo;d.viewDate.value=viewDate;d.sourceCode.value=c;d.logNo.value=a;d.currentPage.value=b;d.action=(isMemolog?"/memo/MemologPostDelete.nhn":"/PostDelete.nhn");d.submit()},deletePost:function(b,c,a){if(readOnlyStatus){alert(readOnlyLinkErrorMsg);return}loginObj.isLogin($Fn(function(){this._deletePost(b,c,a)},this).bind(),loginObj.openLayeredLogin)},_deletePost:function(b,j,g){if(j==null){j=this.deleteNo}var k=aPostBaseInfo[j].split("|");var a=k[0];var c=k[1];var d=aPostSendInfo[j];var f=k[2];var h=k[3];if(d.length==0){if(confirm("포스트를 삭제하시겠습니까?")){this.realDeletePost(c,a,h)}}else{if(g&&g=="realDelete"){this.realDeletePost(c,a,h);return}if(this.makeLayerContent("delete",f)=="empty"){this.realDeletePost(c,a,h)}else{this.upToLayer(b,$("sendPostLayer"));this.deleteNo=j}}},getRecipePostStatus:function(d,b){var a=false;for(var c=0;c<d.length;c++){if(d[c].logNo==b){if(d[c].sourceCode==35&&d[c].copyYn==true){a=true}}}return a},getSendInfoForDelete:function(j){var f=aPostSendInfo[j];var h=[];var a=null;var c=[];var b=[];for(var g=0;g<f.length;g++){var d=f[g];if(d.publishingTag!="R"){a=(d.targetUrl)?"<a href='"+d.targetUrl+"' target='_blank'>"+d.targetService+"</a>":d.targetService;if(d.sourceTypeGroupId==0){c.push(((c.join(""))?", ":"")+a)}else{if(d.sourceTypeGroupId==1){b.push(((b.join(""))?", ":"")+a)}}a=null}}if(c.length>0){h.push("<li>네이버 서비스<span>"+c.join("")+"</span></li>\n")}if(b.length>0){h.push("<li>외부 서비스<span>"+b.join("")+"</span></li>\n")}return h},makeLayerContent:function(a,d){var l,k,f,m,n,g,c,h,b,j;l=false;h=false;k=[];f=aPostSendInfo[d];m="";n=$("sendPostLayerBtn");b=$Element(n);c=f.length;for(g=0;g<c;g++){if(f[g].copyYn){if(a=="delete"){k.push('<p class="tc ln15"><strong>이 글을 삭제하시겠습니까?</strong><br>#{SERVICE_NAME}에서 등록한 글은 #{SERVICE_NAME}에서 삭제해주세요.<br><a href="#{TARGET_URL}" target="_blank" style="color:#4C8D32;">#{SERVICE_NAME}에서 등록한 글 보기</a></p>');n.href="#";b.addClass("_deletePostConfirm");b.addClass("_returnFalse")}else{if(a=="modify"){k.push('<p class="tc ln15"><strong>#{SERVICE_NAME}에서 등록한 글입니다.</strong><br>#{SERVICE_NAME}에서 수정하시겠습니까?</p>');n.href=f[g].targetUrl;b.removeClass("_deletePostConfirm");b.removeClass("_returnFalse")}}l=true}else{if(a=="delete"&&!h){h=true;k.push('<p class="ln15"><strong>이 포스트를 삭제하시겠습니까?</strong><br>작성하신 글은 아래의 서비스로 보내신 글입니다.<br>삭제시 보낸 곳에서도 자동 삭제됩니다.</p>');k.push('<div class="post_data"><h3>글 보내기 정보</h3><ul id="sendPost_deleteList"></ul></div>')}n.href="#";b.addClass("_deletePostConfirm");b.addClass("_returnFalse")}m=k.join("");m=m.replace(/#\{SERVICE_NAME\}/g,f[g].targetService);m=m.replace(/#\{TARGET_URL\}/g,f[g].targetUrl)}if(m!=""){$("layerContent").innerHTML=m;j=$Element($("sendPost_deleteList"));if(j){j.html(this.getSendInfoForDelete(d))}}else{l="empty"}k=f=m=n=g=c=h=b=j=null;return l},upToLayer:function(c,f){var g=$Element(c).offset();var h=$Element(c);var j=$Element(f);var k=140;var d=320;var b=g.top-h.height()-k;b=b<0?0:b;var a=g.left-h.width()-d;j.css({left:a+"px",top:b+"px",zIndex:1001});j.show();oCurtain.showCurtain(f,0)},showFileLayer:function(f,h,g,b){var c,m,j,p,o,k,a,l;c=$("fileLayer");m=$Element(c);j=aPostFiles[h];p=$$.getSingle("ul",c);o=[];for(k=0,a=j.length;k<a;k++){o.push("<li onMouseOver=\"this.className='on'\" onMouseOut=\"this.className=''\">");o.push('<img width="11" height="10" alt="file" src="'+imageURL+'/imgs/ico_file.gif"/>');var d=j[k].encodedAttachFileName;if(!(j[k].licenseyn=="F"&&(g=="false"||g==null))){var r="";if(j[k].punishType!=0){r=" _showBlockAlertLayer _param("+j[k].encodedAttachFileName+"|"+j[k].encodedAttachFileUrl+"|"+h+"|"+j[k].punishType+") _returnFalse "}else{if(j[k].maliciousCodeYn=="true"){r=" _showMalwareAlertLayer _param("+j[k].encodedAttachFileName+"|"+j[k].encodedAttachFileUrl+"|"+h+") _returnFalse "}}var n=d;var q="";if(d.length>14){n=d.substr(0,14)+"..";q='title="'+d+'"'}d=' <a href="'+j[k].encodedAttachFileUrl+'?type=attachment" class="downFile '+r+'" '+q+">"+n+"</a>"}if(j[k].maliciousCodeYn=="true"){d=d+'<em class="bar">|</em><img src="'+imageURL+'/imgs/txt_infected.gif" width="48" height="10" alt="악성코드감염" />'}o.push(d);o.push("</li>")}p.innerHTML=o.join("");if(m.visible()&&typeof this._sPrevFileLayer!=="undefined"&&this._sPrevFileLayer===h){this.closeFileLayer()}else{m.css("zIndex",9999);m.show();utility.positionLayer(f,c,{sTargetPos:"br",sLayerPos:"tr"});this._sPrevFileLayer=h;l=m.height()+m.offset().top}j=k=a=o=p=c=m=l=null},showMalwareAlertLayer:function(b,g,d,f){var a,k,j,h,c;a=$("malwareAlertLayer");c=$Element(a);j=$("title_"+f);k=$$.getSingle("p",a);k.innerHTML=k.innerHTML.replace(/{FILENAME}/g,g);h=$$.getSingle("div.btns",a);h.innerHTML=h.innerHTML.replace(/FILEPATH/g,d+"?type=attachment");c.show();utility.ellipsisPage(a);utility.positionLayer(j,a,{sTargetPos:"br",sLayerPos:"tr",nDiffTop:0,nDiffLeft:16});c=a=k=null},closeMalwareAlertLayer:function(a){$Element($("malwareAlertLayer")).hide()},showBlockAlertLayer:function(c,h,d,g,a){var k,l,j,f,m,b;k=$("blockAlertLayer");m=$Element(k);j=$("title_"+g);l=$$("p",k);if(a==1){b="이 파일은 <span>저작권법 제103조(복제&middot;전송의 중단)</span>에 따라<br>저작권자의 요청에 의해 고객님외의 다른 방문자가<br>다운로드 할 수 없도록 이용이 제한되었습니다."}else{if(a==2){b="이 파일은 <span>서비스 운영원칙에서 제한하는 내용이 포함</span>되어 있어<br>고객님외의 다른 방문자가 다운로드 할 수 없도록<br>이용이 제한되었습니다."}else{if(a==3){b="이 파일은 정보통신망이용촉진및정보보호등에 관한<br>법률 제44조의2에 따라 관련 당사자의 요청에 의해<br><span>사생활침해/명예훼손의 사유</span>로 고객님외의 다른 방문자가<br>다운로드 할 수 없도록 이용이 제한되었습니다."}else{if(a==4){b="이 파일은 <span>저작권 침해의 우려가 있는 내용이 포함</span>되어 있어<br>고객님외의 다른 방문자가 다운로드 할 수 없도록<br>이용이 제한되었습니다."}}}}l[0].innerHTML=b;l[1].innerHTML="이용제한 파일 : "+h;f=$Element("blockAlertDownloadBtn");f.attr("href",d+"?type=attachment");m.show();utility.ellipsisPage(k);utility.positionLayer(j,k,{sTargetPos:"br",sLayerPos:"tr",nDiffTop:0,nDiffLeft:16});m=k=oUl=null},closeBlockAlertLayer:function(a){$Element($("blockAlertLayer")).hide()},closeFileLayer:function(){utility.closeLayer("fileLayer")},checkSendInfoUrl:function(b,a){switch(a.toLowerCase()){case"travel":utility.showLayer(b.element,$("travel_closing_popup"));b.stop();break}},showSendInfoLayer:function(c,f,a){var g=aPostSendInfo[f];var k=$("sendInfoLayer");var b=$Element(k);var h=[];var d=$Element($("sendInfoLayerDiv"));d.html("");for(i=0;i<g.length;i++){var j=g[i];h.push("<p><em>"+j.targetService+"</em> : ");h.push((j.targetUrl)?'<a href="'+j.targetUrl+'" target="_blank" class="_sendInfoUrl _param('+j.sourceType+')">'+j.targetCategoryDisplay+"</a>":j.targetCategoryDisplay);if(parseInt(j.reputationCnt)>0){h.push(' <span class="bar">|</span> <span class="yes">'+j.reputationName);h.push("<em>"+j.reputationCnt+"</em></span>")}h.push("</p>")}d.html(h.join(""));if(b.visible()&&typeof this._sPrevSendInfoLayer!=="undefined"&&this._sPrevSendInfoLayer===f){utility.closeLayer(k)}else{welLayer=$Element(k);welTarget=$Element(c);welLayer.show();welLayer.css({top:welTarget.offset().top+welTarget.height()+"px",left:welTarget.offset().left-(welLayer.width()/2)+"px",zIndex:500});utility.writelcs(100074999);this._sPrevSendInfoLayer=f;setTimeout(function(){b.css({zoom:1})},0)}},setSendPost:function(){for(var f=1,d=aPostSendInfo.length;f<d;f++){if(!aPostSendInfo[f]){continue}var b=aPostSendInfo[f];for(var c=0,g=b.length;c<g;c++){if(b[c].copyYn){var a=b[c].logNo;$Element($("sendPost_"+a)).hide();$Element($("sendPost_from_service_"+a)).show();$Element($("sendPost_from_service_H_"+a)).html('<a href="'+b[c].targetUrl+'" target="_blank">'+b[c].targetService+" &gt; "+b[c].targetCategoryDisplay+"</a>")}}}},reloadByUser:function(){location.href="/PostView.nhn?blogId="+blogId+"&logNo="+paramLogNo},resizePollIframe:function(a){},closeRosMsg:function(){$Element($("readonlynotice")).hide();document.cookie="ros|"+blogId+"=1; path=/"}});var MalWareManage={hideExternalLayerAll:function(){var a=$Element($("blockScrapLayerIdByMalware"));if(a){a.hide()}}};var MusicManage={showSendPostBlockLayer:function(b){this.hideExternalLayerAll();var a=$Element(parent.$("sendPostBlockLayerById"));var c=$Element(b).offset();a.css({top:$Element(self.frameElement).offset().top+c.top+"px",left:c.left+"px"});a.show();a=null;return false},showSendPostBlockModifyLayer:function(b){this.hideExternalLayerAll();var a=$Element(parent.$("sendPostBlockModifyLayerById"));var c=$Element(b).offset();a.css({top:$Element(self.frameElement).offset().top+c.top+"px",left:c.left+"px"});a.show();return false},hideExternalLayerAll:function(){var a=$Element($("blockScrapLayerId"));if(parent&&parent.$&&a){a.hide();$Element(parent.$("temporaryBlockScrapLayerId")).hide();$Element(parent.$("sendPostBlockModifyLayerById")).hide();$Element(parent.$("sendPostBlockLayerById")).hide()}},changeSendPostArea:function(a){var b=$Element($("send_post"));if(b.visible()){b.hide();$Element($("chageSendPostById")).show()}else{this.showSendPostBlockModifyLayer(a)}b=null}};nhn.husky.SE2View_Footnote=$Class({name:"SE2View_Footnote",$init:function(){this.sFootnoteTxtClassName="husky_se2_footnote_txt";this.sFootnoteAreaClassName="husky_se2_footnote_area";this.sFootnoteAttr="_se2_footnote";this.rxFrontTagRemover=/<(script|marquee)[^>]*\/?>/i;this.rxBackTagRemover=/<\/(?:\1)>/i;this.sFootnoteHoverLayerTemplate='<div style="z-index:99999;position:absolute;top:0;left:0;width:251px;padding:10px 6px 9px 11px;border:1px solid #777777;background:#ffffff;line-height:17px;color:#666666;word-break:break-all;word-wrap:break-word;"><strong style="display:block;margin-bottom:4px;color:#333333;font-size:12px;">각주<span class="husky_se2_footnote_idx" style="display:inline-block;margin:-3px 0 3px;font-family:tahoma;font-size:11px;vertical-align:middle">1</span></strong><span class="husky_se2_footnote_arrow" style="position:absolute;top:-6px;left:0px;width:9px;height:6px;background:url('+imageURL+'/imgs/icon_set.gif) 0 -411px no-repeat;"></span><span class="husky_se2_footnote_contents" style="font-size:12px;"></span></div>'},$ON_MSG_PAGE_LOADED:function(g){var h=document.createElement("DIV");h.innerHTML=this.sFootnoteHoverLayerTemplate;this.elHoverLayer=h.firstChild;this.welHoverLayer=$Element(this.elHoverLayer);this.elIdxArea=cssquery.getSingle("SPAN.husky_se2_footnote_idx",this.elHoverLayer);this.elArrowArea=cssquery.getSingle("SPAN.husky_se2_footnote_arrow",this.elHoverLayer);this.elContentsArea=cssquery.getSingle("SPAN.husky_se2_footnote_contents",this.elHoverLayer);g.insertBefore(this.elHoverLayer,g.firstChild);this.nHoverLeftMax=g.offsetWidth-this.elHoverLayer.offsetWidth-5;this.elHoverLayer.style.display="none";var f=cssquery("SPAN."+this.sFootnoteTxtClassName,g);var b=$Fn(this._onMouseOverFootnote,this);var d=$Fn(this._onMouseOutFootnote,this);for(var a=0,c=f.length;a<c;a++){b.detach(f[a],"mouseover");d.detach(f[a],"mouseout");b.attach(f[a],"mouseover");d.attach(f[a],"mouseout")}},_onMouseOverFootnote:function(g){var c=g.element;var d=$Element(g.element);var a=jindo.$Json(decodeURIComponent(c.getAttribute("jsonvalue"))).toObject().desc;a=a.replace(this.rxFrontTagRemover,"").replace(this.rxBackTagRemover,"");a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>");this.elContentsArea.innerHTML=a;this.elIdxArea.innerHTML=c.innerHTML;var b=d.offset();if(b.left>this.nHoverLeftMax){this.elArrowArea.style.left=(b.left-this.nHoverLeftMax)+"px";b.left=this.nHoverLeftMax}else{if(b.left<5){this.elArrowArea.style.left=b.left+"px";b.left=0}else{this.elArrowArea.style.left="5px";b.left-=5}}var f=$Document().scrollPosition();this.welHoverLayer.offset(b.top+f.top+20,b.left);this.elHoverLayer.style.display="block"},_onMouseOutFootnote:function(a){this.welHoverLayer.offset(0,0);this.elHoverLayer.style.display="none"}});var SummaryContent=$Class({$init:function(){this.sBtnHead="btnhead";this.sBtnTail="btntail";this.sMoreTail="moretail";this.htCacheContents={}},getSummaryContent:function(c,f,b){var a=b?c+"_"+b:c;var d=this.htCacheContents[a];if(typeof d!="undefined"){this.setMoreTail(a,d);this.showMoreArea(a)}else{f=f||blogId;new $Ajax("/SummaryContentFetch.nhn",{method:"post",onload:$Fn(function(h){var g,n,k,m,l,j;if(window.ActiveXObject){k=h.text();m=new ActiveXObject("Microsoft.XMLDOM");m.loadXML(k);l=m.documentElement;g=l.childNodes[0].text;n=l.childNodes[1].text}else{j=h.xml();g=j.childNodes[0].childNodes[1].textContent;n=j.childNodes[0].childNodes[3].textContent}this.setMoreTail(a,n);this.htCacheContents[a]=n;this.showMoreArea(a);g=n=k=m=l=j=null},this).bind()}).request({logNo:c,blogId:f,key:b})}},setMoreTail:function(a,b){$Element($(this.sMoreTail+a)).html(b)},getMoreTail:function(a){return $Element($(this.sMoreTail+a)).html()},moreOpen:function(a,b){a=typeof b!="undefined"?a+"_"+b:a;var c=this.htCacheContents[a];if(typeof c=="undefined"){this.htCacheContents[a]=this.getMoreTail(a)}else{this.setMoreTail(a,c)}this.showMoreArea(a);this.loadSummaryContents(a)},showMoreArea:function(b){$Element($(this.sBtnHead+b)).hide();$Element($(this.sBtnTail+b)).show();$Element($(this.sMoreTail+b)).css({position:"",left:"",top:"",display:""});var a=new nhn.husky.SE2View_Footnote();a.$ON_MSG_PAGE_LOADED(document.body)},moreClose:function(c,b){var a=b?c+"_"+b:c;this.setMoreTail(a,"");$Element($(this.sBtnHead+a)).show();$Element($(this.sBtnTail+a)).hide();$Element($(this.sMoreTail+a)).hide()},loadSummaryContents:function(a){$(this.sMoreTail+a).innerHTML=$(this.sMoreTail+a+"_contentsHidden").value}});var postComment=new postCommon.Comment();var postListTable=new postCommon.ListTable();var postView=new postCommon.View();var resizePollIframe=postView.resizePollIframe;var oSummaryContent=new SummaryContent();if(typeof postCommon=="undefined"){var postCommon={}}postCommon.Tag=$Class({$init:function(){this.restrictedTagChars=/[\x25\x26\x2b\x3c\x3e\x3f\x2f\x5c\x27\x22\x3d\n]|(\x5c\x6e)/g;this.tagData=null;this.currentTarget=null},isTagname:function(a){return a.match(this.restrictedTagChars)==null},validateTagString:function(b){var a=b.replace(this.restrictedTagChars,"");re=/[\x2c]+/g;return a.replace(re,",")},absoluteTagString:function(b,h){var g=this.validateTagString(b);var f=g.split(",");var d="";var a=f.length;if(a>h){a=h}for(var c=0;c<a;c++){d=d+f[c]+","}d=this.validateTagString(d);d=d.substring(0,d.length-1);return d},check_tagsvalidate:function(a,b,j){var f=true;var d=$$.getSingle("~ div",b);var g=$$.getSingle("input",d);g.value=this.validateTagString(g.value);g.value=this.eliminateDuplicate(g.value);var h=g.value.split(",").length;if(j){j.call()}if(h.length==1&&h[0].length==0){g.focus();alert("태그를 입력해주세요");return false}if(h>10){alert("태그는 최대 10개 까지 입력이 가능합니다.");g.value=this.absoluteTagString(g.value,10);g.focus();return false}var k;var c=100;k=this.isValidateTagLength(g.value,c);if(!k){alert("태그는  100자 이상 입력할 수 없습니다.");g.focus();return false}return true},check_tagvalidate:function(a,c){var b=a.value;if(b.match(this.restrictedTagChars)!=null){b=b.replace(this.restrictedTagChars,"");a.value=b}var d=/[\x2c][\x2c]+/g;if(b.match(d)!=null){b=b.replace(d,",");a.value=b}if(c){c.call()}},eliminateDuplicate:function(b){var g=this.validateTagString(b);var f=g.split(",");var d="";for(var c=0;c<f.length;c++){for(var a=0;a<c;a++){if(f[a]==f[c]){f[c]=""}}d=d+f[c]+","}d=this.validateTagString(d);d=d.substring(0,d.length-1);return d},isValidateTagLength:function(a,c){var d=a.split(",");for(var b=0;b<d.length;b++){if(d[b].length>c){return false}}return true},getLogNoFromTagQuery:function(f){var c=[];if(!f){return c}var d=f.split("&");for(var b=0,a=d.length;b<a;b++){if(!d[b]){continue}c.push(d[b].replace(/logNo=/,""))}return c},loadTagInfo:function(b,j){var d=j||tagParam;var f="&oldFirstPost=true";var g=new RegExp(f,"gi");var a=false;if(g.test(d)){d=d.replace(f,"");a=true}var h=this.getLogNoFromTagQuery(d);var c="/BlogTagListInfo.nhn";new $Ajax(c,{method:"post",onerror:function(){},onload:$Fn(function(k){this.tagData=[];if(typeof k!="undefined"){try{var n=k.json();if(!n){return}n=n.taglist;this.tagData=n;if(b=="popup"){this.callbackSaveTagInfo(n)}else{if(b=="list"){if(n.length>0){for(i=0;i<n.length;i++){this.setTagList(n[i].logno,n[i].tagName,(n.length-1==i)?"resize":null,$("tagTopName_"+n[i].logno),n[i].encTagName)}}}else{if(n.length>0){if(isMemolog){for(i=0;i<n.length;i++){this.setTagList(n[i].logno,n[i].tagName,(n.length-1==i)?"resize":null,$("tagTopName_"+n[i].logno),n[i].encTagName)}}for(i=0;i<n.length;i++){if($("tagList_"+n[i].logno)!=null){$("tagList_"+n[i].logno).style.display=""}this.setTagList(n[i].logno,n[i].tagName,(n.length-1==i)?"resize":null,$("tagList_"+n[i].logno),n[i].encTagName)}}}}}catch(l){var m=$$("div.post-tag[@display=block]");nCount=m.length;for(i=0;i<nCount;i++){$Element(m[i]).hide()}}}},this).bind()}).request({blogId:blogId,logNoList:h.join("|"),oldFirstPost:a,logType:(isMemolog?"memolog":"mylog")})},loadTagListTableInfo:function(a){this.loadTagInfo("list",a)},setTagList:function(h,s,n,b,o){var g=$Element(b);if(!g){return}var d=isMemolog?"memolog":"mylog";var m=false;var r=false;var l=utility.decodeURIComponentForJava(s).split(",");var q=o==undefined||o=="undefined"?l:o.split("%2C");var a='&nbsp;<a href="#" class="_showTagEditBox _rosRestrict _tagRosRestrict _param(EDIT|'+h+') _returnFalse"><img src="'+imageURL+'/nblog/btn_edit_2.gif" width="23" height="11" /></a>';var k=[];if(g.$value()==$("tagTopName_"+h)){r=true;a='&nbsp;<a href="#" class="_showTagEditBox _rosRestrict _tagRosRestrict _param(EDIT|'+h+'|TOP) _returnFalse" ><img src="'+imageURL+'/nblog/btn_edit_2.gif" width="23" height="11" /></a>'}for(var p=0,c=l.length;p<c;p++){var t;var f;if(l[p]==""){m=true;t="&nbsp;";k.push('<a href="#" class="pcol2 itemTagfont _returnFalse" style="cursor:default;">'+t+"</a>")}else{t=l[p];f=q[p];k.push('<a href="/PostListByTagName.nhn?blogId='+blogId+"&logType="+d+"&tagName="+f+'" class="pcol2 itemTagfont _setTop">'+t+"</a>")}if(p!=l.length-1){k.push(", ")}}var j=utility.getParam(g.className());if(!isMemolog){if(blogOwner){k.push(a)}}else{if(blogOwner||j&&j[0]=="true"){k.push(a)}}g.html(k.join(""));if(!r&&!m){g.show()}},setTagForLogNo:function(c){for(var b=0,a=this.tagData.length;b<a;b++){if(this.tagData[b].logno==c[0].logno){this.tagData[b]=c[0];return}}this.tagData.push(c[0])},getTagForLogNo:function(a){for(var c=0,b=this.tagData.length;c<b;c++){if(this.tagData[c].logno==a){return utility.decodeURIComponentForJava(this.tagData[c].tagName)}}},showTagEditBox:function(b,g){var a=$$.getSingle("~ div",g);var f=$$.getSingle("input",a);var c=this.getTagForLogNo(b);var d=utility.trim(c);f.value=utility.unescapeUnicode(d);$Element(g).hide();$Element(a).show();f=a=g=null},hideTagEditBox:function(b,c){var a=$$.getSingle("~ div",c);if(c.id.indexOf("tagTopName_")==-1||!blogOwner){$Element(c).show()}else{$Element(c).css({display:""})}$Element(a).hide();a=c=null},saveTag:function(b,c){var a=true;a=this.check_tagsvalidate(b,c);if(a){this.realSaveTag(b,c)}},realSaveTag:function(b,f){var a=$$.getSingle("~ div",f);var d=$$.getSingle("input",a);var c=$("saveTagName");this.currentTarget=f;c.logNo.value=b;c.chtagname.value=utility.trim(d.value);if(isMemolog){c.logType.value="memolog"}c.submit();c=d=a=f=null},callbackSaveTagInfo:function(aTagList){if(typeof(aTagList)=="string"){aTagList=eval("("+aTagList+")").taglist}if(aTagList.length>0){this.setTagForLogNo(aTagList);for(var i=0,nCount=aTagList.length;i<nCount;i++){var oTag=aTagList[i];if(this.currentTarget!=null){this.hideTagEditBox(oTag.logno,this.currentTarget)}this.setTagList(oTag.logno,oTag.tagName,"resize",$("tagList_"+oTag.logno));this.setTagList(oTag.logno,oTag.tagName,"resize",$("tagTopName_"+oTag.logno))}}}});var postListTag=new postCommon.Tag();var AdPostList=$Class({$init:function(a,f,b,d,c){this.nLogNo=a;this.nDirectorySeq=f;this.nIndex=b;this.bOldPostOneWeek=d;this.sModifyDateValue=c}});var AdPostObject=$Class({sBlogId:"",sAdPostSecurityParam:"",oContentShareObject:null,bExistAdPost:false,bUseAdPostInSide:false,aPostList:[],nCategoryDirectorySeq:0,nFirstLogNo:"",bPreview:false,bPreviewContent:false,bPreviewSide:false,nAlign:0,nCount:3,sContentSpanIdPrefix:"adPostInjectArea_",sSideSpanIdPrefix:"adPostWidget",bRemoconPreview:false,addAdPostList:function(a,f,b,d,c){this.aPostList.push(new AdPostList(a,f,b,d,c))},isPrintPreview:function(){return this.bPreviewContent||this.bPreviewSide},cannotViewCase:function(){return !this.oContentShareObject&&this.bUseAdPostInSide},isShowAdPost:function(){return !this.bPreview&&this.bExistAdPost&&!this.cannotViewCase()},isCleanSideAdPost:function(){return !this.bExistAdPost&&this.oContentShareObject&&$(this.sSideSpanIdPrefix)&&!this.bPreview}});var AdPostInject=$Class({oAdPost:null,$init:function(a){this.oAdPost=a},injectAdPost:function(){if(this.oAdPost.oContentShareObject){this._setAttributes();if(this.oAdPost.isPrintPreview()){this._preview();return}}this._injectAdPost();this._cleanSideAdPost()},_setAttributes:function(){this.oAdPost.bPreview=this.oAdPost.oContentShareObject.adPostPreview;this.oAdPost.bPreviewContent=this.oAdPost.oContentShareObject.adPostPreviewContent;this.oAdPost.bPreviewSide=this.oAdPost.oContentShareObject.adPostPreviewSide;this.oAdPost.nAlign=this.oAdPost.oContentShareObject.adPostAlign;this.oAdPost.nCount=this.oAdPost.oContentShareObject.adPostCount},_preview:function(){new $Ajax("/AdPostInjectPreviewAsync.nhn",{method:"POST",onload:$Fn(function(a){this._onLoadPreview(a)},this).bind()}).request({blogId:this.oAdPost.sBlogId,adPostArea:this.oAdPost.bPreviewSide?"1":"0",adPostAlign:this.oAdPost.nAlign,adPostCount:this.oAdPost.nCount})},_onLoadPreview:function(a){if(this.oAdPost.bPreviewSide&&parent.$(this.oAdPost.sSideSpanIdPrefix)){parent.$(this.oAdPost.sSideSpanIdPrefix).innerHTML=a.text()}else{if(this.oAdPost.bPreviewContent){var c=this.oAdPost.sContentSpanIdPrefix+this.oAdPost.nFirstLogNo;var b=this.oAdPost.bRemoconPreview?parent.$(c):$(c);if(b){b.innerHTML=a.text()}}}},_getTopReferer:function(){if(parent.parent.g_ShareObject){return parent.parent.g_ShareObject.referer}else{if(parent.g_ShareObject){return parent.g_ShareObject.referer}}return encodeURIComponent(document.referrer)},_injectAdPost:function(){if(this.oAdPost.isShowAdPost()){new $Ajax("/AdPostInjectAsync.nhn",{method:"POST",onload:$Fn(function(a){this._onLoadADInject(a)},this).bind()}).request(this._getInjectParams())}},_getInjectParams:function(){var c={};c.blogId=this.oAdPost.sBlogId;c["adPostInjectSecurity.sp"]=this.oAdPost.sAdPostSecurityParam;c["configure.adCount"]=this.oAdPost.nCount;c["configure.adAlign"]=this.oAdPost.nAlign;c["configure.categoryDirectorySeq"]=this.oAdPost.nCategoryDirectorySeq;c["configure.topReferer"]=this._getTopReferer();c["configure.requestReferer"]=encodeURIComponent(document.referrer);for(var b=0;b<this.oAdPost.aPostList.length;b++){var a=this.oAdPost.aPostList[b];c["configure.adPostInjectParams["+a.nIndex+"].logNo"]=a.nLogNo;c["configure.adPostInjectParams["+a.nIndex+"].directorySeq"]=a.nDirectorySeq;c["configure.adPostInjectParams["+a.nIndex+"].oldPostOneWeek"]=a.bOldPostOneWeek}return c},_onLoadADInject:function(b){if(b.text().indexOf('"logNo"')>-1){var f=b.json();for(var a=0;a<f.length;a++){if(this.oAdPost.oContentShareObject&&f[a].inSide&&$(this.oAdPost.sSideSpanIdPrefix)){$(this.oAdPost.sSideSpanIdPrefix).innerHTML=f[a].content}else{if(f[a].inPost){var d=this.oAdPost.sContentSpanIdPrefix+f[a].logNo;var c=$Element($(d));if(c){c.html(f[a].content)}}}}if(f.length==0&&this.oAdPost.oContentShareObject&&$(this.oAdPost.sSideSpanIdPrefix)){$Element($(this.oAdPost.sSideSpanIdPrefix)).html("")}}},_cleanSideAdPost:function(){if(this.oAdPost.isCleanSideAdPost()){$Element(parent.$(this.oAdPost.sSideSpanIdPrefix)).html("")}}});var AutoSourcing={elDiv:null,id:"",timer:null,regex:null,strings:[],skip:false,init:function(d,a){var f=$Agent().navigator();var c=f.safari;this.elDiv=$("<div>");var b=$Element(this.elDiv);b.className(((f.ie||f.firefox)&&!c)?"autosourcing-stub":"autosourcing-stub-extra");this.id="autosourcing_tmp_"+Math.floor((Math.random()*100000));this.regex=new RegExp(d.replace("%id%","(\\d+)"));if(typeof a=="undefined"){a=true}this.setEnable(a)},setEnable:function(a){if(a){if(typeof document.body.oncopy!="undefined"){$Fn(this.copy,this).attach(document.body,"copy")}else{$Fn(this.keydown,this).attach(document,"keydown");$Fn(this.keypress,this).attach(document,"keypress");$Fn(this.copy,this).attach(document,"contextmenu")}}},getId:function(a){var c,d,b,f;c=this.cloneRange(a);c.collapse(true);b=this.getParentElement(c);while(b&&b.parentNode){if(b.nodeType==1&&this.regex.test(b.id)){f=parseInt(RegExp.$1);return isNaN(f)?0:f}b=b.parentNode}d=this.cloneRange(a);d.collapse(false);b=this.getParentElement(d);while(b&&b.parentNode){if(b.nodeType==1&&this.regex.test(b.id)){f=parseInt(RegExp.$1);return isNaN(f)?0:f}b=b.parentNode}return -1},getSelection:function(){if(window.getSelection){return window.getSelection()}else{return document.selection}},getRange:function(a){a=a||this.getSelection();if(a.getRangeAt){return a.getRangeAt(0)}else{return a.createRange()}},cloneRange:function(a){a=a||this.getRange();if(a.duplicate){return a.duplicate()}else{return a.cloneRange()}},getParentElement:function(a){var b=a.parentElement?a.parentElement():a.commonAncestorContainer;if(!b){return null}while(b.nodeType!=1){b=b.parentNode}return b},setString:function(b,a){this.strings[b]=a},copy:function(f){var d=this.getSelection();var a=this.getRange(d);var p=this.cloneRange(a);var o=/<(?:p|div)[^<>]+class\s*=\s*"?autosourcing\-stub(?:\-extra)?\-saved(?:\b|")/i;var g=/textarea|input/i;var b=this.getId(a);var m=null;var l;this.skip=false;clearTimeout(this.timer);if(b==-1){try{this.elDiv.parentNode.removeChild(this.elDiv)}catch(k){}return}if(f&&f.element&&f.element.tagName.toUpperCase()=="A"){return}try{this.elDiv.innerHTML=this.strings[this.getId(a)]}catch(k){}if(window.getSelection){var h=(window.XMLSerializer)?new XMLSerializer().serializeToString(a.cloneContents()):"";if(o.test(h)||g.test(a.commonAncestorContainer.tagName)){if(this.elDiv&&this.elDiv.parentNode){this.elDiv.parentNode.removeChild(this.elDiv)}this.skip=true;return}p.collapse(false);p.insertNode(this.elDiv);if(this.elDiv.nextSibling){a.setEndBefore(this.elDiv.nextSibling)}else{a.setEndAfter(this.elDiv)}d.removeAllRanges();d.addRange(a)}else{if(document.selection){var j=document.body||document.getElementsByTagName("body")[0];var c=("<div>");var n=$("<span>");n.id=this.id;if(o.test(a.htmlText)||g.test(a.parentElement().tagName)){this.skip=true;return}p.collapse(false);p.pasteHTML(n.outerHTML+"&nbsp;<span></span>");n=$(this.id);(n||p.parentElement()).insertAdjacentElement("afterEnd",this.elDiv);do{a.moveEnd("character",1);(p=a.duplicate()).collapse(false)}while(p.offsetLeft==0);try{a.select()}catch(k){}if(n&&n.parentNode){if(n.nextSibling&&n.nextSibling.nextSibling){n.parentNode.removeChild(n.nextSibling.nextSibling)}if(n.nextSibling&&n.nextSibling.nextSibling){n.parentNode.removeChild(n.nextSibling.nextSibling)}if(n){n.parentNode.removeChild(n)}}if(c&&c.parentNode){c.parentNode.removeChild(c)}}}if(typeof document.body.oncopy!="undefined"){this.timer=setTimeout($Fn(function(){this.aftercopy(a)},this).bind(),1)}},aftercopy:function(a){if(this.skip){return}try{this.elDiv.parentNode.removeChild(this.elDiv);if(/WebKit/.test(navigator.userAgent)){var b=this.getSelection();b.removeAllRanges();b.addRange(a)}}catch(c){}},keydown:function(b){var a=b.key();if((a.ctrl||a.meta)&&a.keyCode==67){this.copy(b)}},keypress:function(b){var a=b.key();if((a.ctrl||a.meta)&&a.keyCode==67){this.timer=setTimeout($Fn(function(){this.aftercopy()},this).bind(),10)}},mousedown:function(a){}};if(typeof nhn=="undefined"){nhn={}}postCommon.PhotoImageViewer=$Class({$init:function(){this._ref=[];this.tid=null;this.tidTimeout=null;this.opt={imageMax:[964,964],marginTop:"50px",target:parent,ndsurl:"",popupurl:"http://alpha.common.photo.naver.com/storyphoto",allowRightMouseClick:true};var b=arguments[0]||{};for(var a in b){this.opt[a]=b[a]}this.elViewer=null;this.welViewer=null;this.elViewerTopFrame=null;this.welTabNaviFrame=null;this.welPhotoCountFrame=null;this.elCountCurrentFrame=null;this.elCountTotalFrame=null;this.elNdsIframe=null;this.elViewerCloseButton=null;this.elViewerPrevButton=null;this.elViewerNextButton=null;this.elViewerOriginalButton=null;this.oTid_initialFunction=null;this.oTid_imageLoadFunction=null;this._bDragUsed=false;this._bPrevButton=this._bNextButton=true;this._count=0;this._no=0;this._imageWidthMin=0;this._imageHeightMin=0;this._orginalViewFlag=false;this._mousewheel_lock=false;this._oImageWidthMin={single:170,more:350};this._oImageHeightMin={single:100,more:100};this._nObj={};this._marginTop=this.opt.marginTop;this.getCursorStyle=function(){return $Agent().navigator().IE==true?"hand":"pointer"};this.appendViewerDiv();this.getButtonDiv();this.appendDragging();this.wfKeydown=$Fn(this._onKeyDown,this);this._setEvent()},setPreButtonStatus:function(){if(this._bPrevButton==true){this.setButtonStyleChangeBackground2(this.elViewerPrevButton,"btn_left.gif")}else{this.setButtonStyleChangeBackground2(this.elViewerPrevButton,"btn_left_off.gif")}},setNextButtonStatus:function(){if(this._bNextButton==true){this.setButtonStyleChangeBackground2(this.elViewerNextButton,"btn_right.gif")}else{this.setButtonStyleChangeBackground2(this.elViewerNextButton,"btn_right_off.gif")}},setButtonStyleChangeBackground:function(b,a){b.style.background="url('http://blogimgs.naver.com/blog20/blog/layout_photo/viewer2/"+a+"') no-repeat"},setButtonStyleChangeBackground2:function(b,a){b.style.background="url('http://blogimgs.naver.com/blog20/blog/layout_photo/viewer2/"+a+"') no-repeat"},_setEvent:function(){$Fn(this._onMouseWheel,this).attach(this.elViewer,"mousewheel");$Fn(this._onMouseOverOut,this).attach(this.elViewer,"mouseover");$Fn(this._onMouseOverOut,this).attach(this.elViewer,"mouseout");$Fn(this._onMouseDown,this).attach(this.elViewer,"mousedown");$Fn(this._onMouseUp,this).attach(this.elViewer,"mouseup");$Fn(this._onClick,this).attach(this.elViewer,"click");$Fn($Fn(this.unload,this).bind()).attach(window,"unload")},_onMouseWheel:function(a){if(this._mousewheel_lock==false){this._mousewheel_lock=true;setTimeout($Fn(function(){this._mousewheel_lock=false},this).bind(),700);a.mouse().delta<0?this.doNext():this.doPrev()}a.stopBubble()},_onKeyDown:function(a){if(!this.welViewer.visible()){return}if(a.key().left){this.doPrev()}else{if(a.key().right){this.doNext()}}a.stopBubble()},_onMouseDown:function(b){var c=b.element;var a=c.className;if(b.mouse().right==true&&this.opt.allowRightMouseClick==false){alert("마우스 오른쪽 버튼은 사용할 수 없습니다. ");return}switch(a){case"_btn_left":if(this._bPrevButton==false){sImg="btn_left_off.gif"}else{sImg="btn_left_down.gif"}this.setButtonStyleChangeBackground(c,sImg);b.stopBubble();break;case"_btn_right":if(this._bNextButton==false){sImg="btn_right_off.gif"}else{sImg="btn_right_down.gif"}this.setButtonStyleChangeBackground(c,sImg);b.stopBubble();break;case"_btn_close":this.setButtonStyleChangeBackground(c,"btn_close_down.gif");b.stopBubble();break;default:break}},_onMouseUp:function(b){var c=b.element;var a=c.className;switch(a){case"_btn_left":if(this._bPrevButton==false){sImg="btn_left_off.gif"}else{sImg="btn_left.gif"}this.setButtonStyleChangeBackground(c,sImg);b.stopBubble();break;case"_btn_right":if(this._bNextButton==false){sImg="btn_right_off.gif"}else{sImg="btn_right.gif"}this.setButtonStyleChangeBackground(c,sImg);b.stopBubble();break;case"_btn_close":this.setButtonStyleChangeBackground(c,"btn_close.gif");b.stopBubble();break;default:break}},_onClick:function(b){var c=b.element;if(c.tagName.toLowerCase()=="img"){c=c.parentNode}var a=c.className;switch(a){case"_btn_left":this.doPrev();break;case"_btn_right":this.doNext();break;case"_btn_close":this.doClose();break;case"btn_original":this.doOrginalView();break;default:break}if($$.getSingle("! div.photo_album",c)){this.doClose()}b.stopBubble()},_onMouseOverOut:function(b){var d=b.element;var a=d.className;var c="";if(b.type=="mouseout"){if(this.opt.allowRightMouseClick==false){this.opt.target.document.oncontextmenu=new Function("")}switch(a){case"_btn_left":if(this._bPrevButton==false){c="btn_left_off.gif"}else{c="btn_left.gif"}this.setButtonStyleChangeBackground(d,c);break;case"_btn_right":if(this._bNextButton==false){c="btn_right_off.gif"}else{c="btn_right.gif"}this.setButtonStyleChangeBackground(d,c);break;case"photo_album":this.doOrginalView(b.pos(),"disabled");break;case"_btn_close":this.setButtonStyleChangeBackground(d,"btn_close.gif");break;default:break}}else{switch(a){case"_btn_left":if(this._bPrevButton==false){c="btn_left_off.gif"}else{c="btn_left_over.gif"}this.setButtonStyleChangeBackground(d,c);break;case"_btn_right":if(this._bNextButton==false){c="btn_right_off.gif"}else{c="btn_right_over.gif"}this.setButtonStyleChangeBackground(d,c);break;case"photo_album":this.doOrginalView(b.pos(),"enabled");break;case"_btn_close":this.setButtonStyleChangeBackground(d,"btn_close_over.gif");break;default:break}}b.stopBubble()},setNDSControll:function(){if(this.opt.ndsurl){this.elNdsIframe.src=this.opt.ndsurl}},doPlayer:function(a,c,b){this.wfKeydown.attach(document,"keydown");if(document.createEventObject){this.opt.target.document.body.focus()}else{this.elViewerNextButton.focus()}if(b!=true){this.setNDSControll()}this._imageWidthMin=a.length>1?this._oImageWidthMin.more:this._oImageWidthMin.single;this._imageHeightMin=a.length>1?this._oImageHeightMin.more:this._oImageHeightMin.single;setTimeout($Fn(function(){if(a.length>1){this.welPhotoCountFrame.show();this.welTabNaviFrame.show()}else{this.welPhotoCountFrame.hide();this.welTabNaviFrame.hide()}},this).bind(),20);if(a.length-1>=c){this._ref=a;this._count=a.length-1;this._no=c;if($("photoview")&&$Element($("photoviewer")).visible()){if($("photoview").src.indexOf(this._ref[this._no])>-1){return}}this.display()}},doClose:function(){this.wfKeydown.detach(this.opt.target.document,"keydown");this.wfKeydown.detach(document,"keydown");if(this.tid){clearTimeout(this.tid)}if(this.tidTimeout){clearTimeout(this.tidTimeout)}this.welPhotoCountFrame.hide();this.welTabNaviFrame.hide();this.welViewer.hide();this.closeSafeLayer()},doPrev:function(){if(this._bPrevButton==false){return}this.setNDSControll();this._no--;this._no<0?this._no=0:this.display()},doNext:function(){if(!this._bNextButton){return}this.setNDSControll();this._no++;this._no>this._count?this._no=this._count:this.display()},_onMotionViewerReady:function(k,h,d,b){var f=$Agent().navigator();this._finishedX=null;this._finishedY=null;this._finishedScrollX=null;this._finishedScrollY=null;this._sourceX=k.sourceX;this._sourceY=k.sourceY;this._targetX=k.targetX;this._targetY=k.targetY;this._left=k.left;this._oldScrollLeft=h;this._frameDelayTime=0.18;this._heightBugId=$$.getSingle("table",this.elViewerImgFrame);this._bodyOffsetWidth=(f.IE==false?this.opt.target.document.documentElement.offsetWidth:this.opt.target.document.documentElement.offsetWidth-20);this._isScroll=true;this._isCenterScroll=true;this._isRight=false;if(f.IE&&f.version=="5.5"){var a=this.opt.target.document.body.scrollTop==0?this.opt.target.document.body.scrollTop:this.opt.target.document.body.scrollTop;var c=this.opt.target.document.body.scrollLeft==0?this.opt.target.document.body.scrollLeft:this.opt.target.document.body.scrollLeft;var l=f.IE==true?this.opt.target.document.body.clientWidth:window.innerWidth;l=l+c;var g=f.IE==true?this.opt.target.document.body.clientHeight:window.innerHeight}else{var a=this.opt.target.document.body.scrollTop==0?this.opt.target.document.documentElement.scrollTop:this.opt.target.document.body.scrollTop;var c=this.opt.target.document.body.scrollLeft==0?this.opt.target.document.documentElement.scrollLeft:this.opt.target.document.body.scrollLeft;var l=f.IE==true?this.opt.target.document.documentElement.clientWidth:window.innerWidth;l=l+c;var g=f.IE==true?this.opt.target.document.documentElement.clientHeight:window.innerHeight}if(d>=a&&a+g>=d&&h>=c&&h<=l&&this._bDragUsed==true&&this.welViewer.visible()){this._isCenterScroll=false}var j=this.getPosCenter(this._targetX,this._targetY);if(this._isCenterScroll==false){this._sourceScrollX=this._left}else{this._sourceScrollX=h==0?j.left:h}if(this._isCenterScroll==false){this._targetScrollX=this._left-(this._targetX/2-this._sourceX/2)}else{if(f.IE55){this._targetScrollX=this.opt.target.document.body.clientWidth/2-(this._targetX/2)+this.opt.target.document.body.scrollLeft}else{this._targetScrollX=this.opt.target.document.documentElement.clientWidth/2-(this._targetX/2)+this.opt.target.document.documentElement.scrollLeft}}this._sourceScrollY=d;if(f.ie&&f.version=="5.5"){this._targetScrollY=this.opt.target.document.body.scrollTop+parseInt(this._marginTop,10)}else{this._targetScrollY=this.opt.target.document.documentElement.scrollTop+parseInt(this._marginTop,10)}if(this.oTidMoveMotion){clearInterval(this.oTidMoveMotion)}this.oTidMoveMotion=setInterval($Fn(this._onMotionViewer,this).bind(),10);this._runFunc=b},_onMotionViewer:function(){var d=$Agent().navigator();if(this._finishedX==null){this._sourceX+=this._frameDelayTime*(this._targetX-this._sourceX)}if(this._finishedY==null){this._sourceY+=this._frameDelayTime*(this._targetY-this._sourceY)}if(this._finishedScrollX==null){this._sourceScrollX+=this._frameDelayTime*(this._targetScrollX-this._sourceScrollX)}if(this._finishedScrollY==null){this._sourceScrollY+=0.3*(this._targetScrollY-this._sourceScrollY)}if(this._isCenterScroll==false){var c=this._sourceScrollX;if(c<0){c=0}}else{if(d.ie&&d.version=="5.5"){var a=this.opt.target.document.body.clientWidth/2-(this._sourceX/2)+this.opt.target.document.body.scrollLeft}else{var a=this.opt.target.document.documentElement.clientWidth/2-(this._sourceX/2)+this.opt.target.document.documentElement.scrollLeft}var c=this._oldScrollLeft==0?a:this._sourceScrollX}this.welViewer.css({display:"block",width:Math.floor(this._sourceX)+"px",height:Math.floor(this._sourceY)+"px",left:parseInt(c,10)+"px"});$Element(this.elViewerImgFrame).css({height:Math.floor(this._sourceY)+"px"});$Element(this._heightBugId).css({height:Math.floor(this._sourceY)+"px"});if(!d.IE||(d.IE&&d.version=="8")){$Element(this.elViewerImgFrame).css({width:Math.floor(this._sourceX-5)+"px"});$Element(this._heightBugId).css({width:Math.floor(this._sourceX-5)+"px"})}if(this._isCenterScroll==true){var b=this._sourceScrollY;this.welViewer.css("top",b+"px")}if(Math.ceil(this._sourceX)==this._targetX||Math.floor(this._sourceX)==this._targetX){this._finishedX=this._targetX}if(Math.ceil(this._sourceY)==this._targetY||Math.floor(this._sourceY)==this._targetY){this._finishedY=this._targetY}if(Math.ceil(this._sourceScrollX)==this._targetScrollX||Math.floor(this._sourceScrollX)==this._targetScrollX){this._finishedScrollX=this._targetScrollX}if(Math.ceil(this._sourceScrollY)==this._targetScrollY||Math.floor(this._sourceScrollY)==this._targetScrollY){this._finishedScrollY=this._targetScrollY}if(this._finishedX!=null&&this._finishedY!=null&&this._finishedScrollY!=null){this.welViewer.css({width:this._targetX+"px",height:this._targetY+"px"});if(this._runFunc){this._runFunc()}this._runFunc=null;this._finishedX=null;this._finishedY=null;this._finishedScrollX=null;this._finishedScrollY=null;this.oDrag.attachEvent();clearInterval(this.oTidMoveMotion)}},display:function(){this.closeSafeLayer();var b=this;var a=this.img=new Image();if(this.tid){clearTimeout(this.tid)}if(this.tidTimeout){clearTimeout(this.tidTimeout)}if(this.oTid_initialFunction){clearTimeout(this.oTid_initialFunction)}if(this.oTid_imageLoadFunction){clearTimeout(this.oTid_imageLoadFunction)}if(this.oTidMoveMotion){clearInterval(this.oTidMoveMotion)}this._bPrevButton=this._no==0?false:true;this._bNextButton=this._no>=this._count?false:true;this.setPreButtonStatus();this.setNextButtonStatus();this.elCountCurrentFrame.innerHTML=parseInt(this._no,10)+1;this.elCountTotalFrame.innerHTML=parseInt(this._count,10)+1;this.setImageLodingAfterDrawLoading($Fn(function(){var c=this.welViewer.visible()?parseInt(this.welViewer.css("top"),10):this.opt.target.document.documentElement.scrollTop;var d=this.welViewer.visible()?parseInt(this.welViewer.css("left"),10):0;if(!this._oldWidth){this._oldWidth=this._imageWidthMin;this._oldHeight=this._imageHeightMin}var f={sourceX:this._oldWidth,sourceY:this._oldHeight,targetX:this._oldWidth,targetY:this._oldHeight,left:parseInt(this.welViewer.css("left"),10)||0};this._onMotionViewerReady(f,d,c)},this).bind(),$Fn(function(){var c=this.welViewer.visible()?parseInt(this.welViewer.css("top"),10):this.opt.target.document.documentElement.scrollTop;var d=this.welViewer.visible()?parseInt(this.welViewer.css("left"),10):0;a.onload=function(){this.__width=this.width;this.__height=this.height;if(b.tidTimeout){clearTimeout(b.tidTimeout)}b._orginalViewFlag=(this.width>=b.opt.imageMax[0]||this.height>=b.opt.imageMax[1]?true:false);setTimeout($Fn(b.doOrginalViewDisplayReset,b).bind(),100);if(b.opt.imageMax[0]!=0&&b.opt.imageMax[1]!=0){b.setResizeImage(this,b.opt.imageMax[0],b.opt.imageMax[1])}var f=this.width<b._imageWidthMin?b._imageWidthMin:this.width+6;var g=this.height<b._imageHeightMin?b._imageHeightMin:this.height;var j=b.getPosCenter(f,g);b._nObj.width=f;b._nObj.height=g;if(!b._oldWidth){b._oldWidth=b._imageWidthMin;b._oldHeight=b._imageHeightMin}var k={sourceX:b._oldWidth,sourceY:b._oldHeight,targetX:f,targetY:g,left:parseInt(b.elViewer.style.left,10)};var h=$Fn(function(){b.setDraw(this)},this).bind();b._onMotionViewerReady(k,d,c,h);b._oldWidth=f;b._oldHeight=g;this.onload=function(){}};this.tidTimeout=setTimeout($Fn(function(){if(b.elViewer.style.display=="none"){var f=300;var g=300;var h=b.getPosCenter(f,g);$Element(b.elViewer).css({width:f+"px",height:g+"px",left:h.left+"px",top:50+document.documentElement.scrollTop+"px"});$Element(b.elViewer).css({display:"block"})}b.setDraw({src:"http://blogimgs.naver.com/blog20/blog/layout_photo/viewer/img_no_photo2.gif",width:140,height:140})},this).bind(),2000);a.src=this._ref[this._no]},this).bind())},openSafeLayer:function(){var a=$Agent().navigator();if(!(a.ie&&(a.version=="6"||a.version=="5.5"))){return}setTimeout($Fn(function(){if(this.elSafeIframe){this.closeSafeLayer()}this.elSafeIframe=this.opt.target.document.createElement("iframe");this.elSafeIframe.width=this.elViewer.offsetWidth+"px";this.elSafeIframe.height=(this.elViewer.offsetHeight+35)+"px";this.elSafeIframe.frameBorder="0";$Element(this.elSafeIframe).css({overflow:"hidden",position:"absolute",top:"0",left:"0"});this.elViewer.insertBefore(this.elSafeIframe,this.elViewer.firstChild)},this).bind(),100)},closeSafeLayer:function(){var a=$Agent().navigator();if(!(a.ie&&(a.version=="6"||a.version=="5.5"))){return}if(!this.elSafeIframe){return}this.elSafeIframe.parentNode.removeChild(this.elSafeIframe);this.elSafeIframe=null},doOrginalView:function(c,b){var a="";if(b){if(b=="disabled"){a="none";if(c.layerX=="undefined"||c.layerY=="undefined"){a="block"}}else{if(b=="enabled"){a=this._orginalViewFlag==true?"block":"none"}}$Element(this.elViewerOriginalButton).css({display:a,cursor:this.getCursorStyle()})}else{this.doOpenPopup()}},doOrginalViewDisplayReset:function(){$Element(this.elViewerOriginalButton).css({display:this._orginalViewFlag==true?"block":"none"})},setDraw:function(a){this.elViewerImgFrame.innerHTML="<table width=100% height=100% cellspacing=0 cellpadding=0 border=0><tr><td align=center valign=middle><img id='photoview' src='"+a.src+"' width='"+a.width+"' height='"+a.height+"' align=absmiddle></td></tr></table>";this.openSafeLayer()},setImageLodingAfterDrawLoading:function(a,b){if(this.oTid_initialFunction){clearTimeout(this.oTid_initialFunction)}if(this.oTid_imageLoadFunction){clearTimeout(this.oTid_imageLoadFunction)}this.elViewerImgFrame.innerHTML="<table style='width:100%;height:100%;text-align:center'><tr><td align=center valign=middle><table style='width:100%;height:100%;text-align:center;'><tr><td style='width:100%;height:100%;text-align:center;'><div class=\"loading_layer\" style='width:150px;height:34px;text-align:center;'>사진을 불러오는 중...</div></tr></table></td></tr></table>";this.oTid_initialFunction=setTimeout(a,10);this.oTid_imageLoadFunction=setTimeout(b,30)},chkMouseClick:function(d){var g=this.welViewer.offset();var b=g.left;var f=g.top;var a=b+this.elViewer.offsetWidth;var c=f+this.elViewer.offsetHeight;if(b<=e.page_x&&a>=e.page_x&&f<=e.page_y&&c>=e.page_y){}else{this.doClose()}},_setResizeImage:function(c,b,a){if(!b){b=this._def.oLimitSize.width}if(!a){a=this._def.oLimitSize.height}if((c.width/c.height)>=(b/a)&&c.width>b){c.height=(c.height*b)/c.width;c.width=b}else{if((c.width/c.height)<(b/a)&&c.height>a){c.width=(c.width*a)/c.height;c.height=a}}},setResizeImage:function(c,b,a){this._setResizeImage(c,b,a)},getPosCenter:function(a,g){if(window.innerWidth){_width=this.opt.target.window.innerWidth}else{if(this.opt.target.document.documentElement.clientWidth!=0){_width=this.opt.target.document.documentElement.clientWidth}else{_width=this.opt.target.document.body.clientWidth}}var c=window.innerHeight?this.opt.target.window.innerHeight:this.opt.target.document.documentElement.clientHeight;var f=this.opt.target.document.documentElement.scrollTop!=0?this.opt.target.document.documentElement.scrollTop:this.opt.target.document.body.scrollTop;var h=$Agent().navigator();if(h.ie&&h.version=="5.5"){_width=top.document.body.clientWidth}var b=_width/2-(a/2)+this.opt.target.document.documentElement.scrollLeft;if(b<0){b=0}var d=parseInt(this._marginTop,10)+f;return{left:b,top:d}},appendViewerDiv:function(){var c=$Agent().navigator();this.elViewer=$("<div>");this.welViewer=$Element(this.elViewer);this.welViewer.attr("id","photoviewer");this.welViewer.className("photo_view");this.welViewer.css({position:"absolute",display:"none",top:this._marginTop,left:"100px",width:"200px",height:"200px",zIndex:"1000",cursor:this.getCursorStyle()});var a=this.opt.target.document.body;if(a.firstChild){a.insertBefore(this.elViewer,a.firstChild)}var b=[];b.push('<div class="view_top"><h3><img src="http://blogimgs.naver.com/blog20/blog/layout_photo/viewer2/lg_photoviewer.gif" width="133" height="31" alt="NAVER PHOTO VIEWER"></h3>');b.push('<div class="tab_navi">');b.push('<p class="btn_left"><a class="_btn_left" onfocus="this.blur()"><img src="http://blogimgs.naver.com/blog20/blog/layout_photo/viewer2/btn_left.gif" width="31" height="21" alt="이전"></a></p>');b.push('<p class="btn_right"><a class="_btn_right"onfocus="this.blur()"><img src="http://blogimgs.naver.com/blog20/blog/layout_photo/viewer2/btn_right.gif" width="32" height="21" alt="다음"></a></p></div>');b.push('<div class="photo_count"><strong><span class="current"></span></strong>&nbsp;/&nbsp;<span class="total"></span></div></div>');b.push('<div class="photo_album">');b.push("<p></p>");b.push('<a href="#" title="원본보기" class="btn_original" onclick="return false"><img src="http://blogimgs.naver.com/blog20/blog/layout_photo/viewer2/btn_original2.png" width="80" height="80" alt="원본보기"></a>');b.push('<div class="photo_shadow"></div>');b.push("</div>");b.push('<div class="btn_close"><a class="_btn_close" onfocus="this.blur()"><img src="http://blogimgs.naver.com/blog20/blog/layout_photo/viewer2/btn_close.gif" width="23" height="22" alt="닫기"></a></div>');b.push('<iframe style="display:block;position:absolute;visibility:hidden;width:0px;height:0px;"></iframe>');this.elViewer.innerHTML=b.join("");this.elViewerTopFrame=$$.getSingle(".view_top",this.elViewer);if(!c.IE){this.elViewerTopFrame.getElementsByTagName("h3")[0].style.marginBottom="-6px"}this.elViewerImgFrame=$$.getSingle(".photo_album > p",this.elViewer);this.welTabNaviFrame=$Element($$.getSingle(".tab_navi",this.elViewer));this.welPhotoCountFrame=$Element($$.getSingle(".photo_count",this.elViewer));this.elCountCurrentFrame=$$.getSingle(".current",this.elViewer);this.elCountTotalFrame=$$.getSingle(".total",this.elViewer);this.elNdsIframe=this.elViewer.getElementsByTagName("iframe")[0]},getButtonDiv:function(){var c=this.elViewerCloseButton=$$.getSingle(".btn_close",this.elViewer);this.elViewerPrev=$$.getSingle(".btn_left",this.elViewer);var a=this.elViewerPrevButton=this.elViewerPrev.getElementsByTagName("a")[0];$Element(a).css({cursor:this.getCursorStyle()});this.elViewerNext=$$.getSingle(".btn_right",this.elViewer);var b=this.elViewerNextButton=this.elViewerNext.getElementsByTagName("a")[0];$Element(b).css({cursor:this.getCursorStyle()});this.elViewerOriginalButton=$$.getSingle(".btn_original",this.elViewer);$Element(this.elViewerOriginalButton).css({display:"none",cursor:this.getCursorStyle()});this.elViewer.appendChild(c)},appendDragging:function(){var a=$("head-skin");this.oDrag=new jindo.DragArea(document.body,{sClassName:"view_top",bFlowOut:false}).attach({dragStart:function(c){var b=c.elDrag;b=$$.test(b,"! #photoviewer")?b:$$.getSingle("!  #photoviewer",b);c.elDrag=b},beforeDrag:function(b){b.elFlowOut=a}});this.oDrag.detachEvent();$Element(this.elViewerTopFrame).css({cursor:"move"})},unload:function(){this.doClose()},doOpenPopup:function(){var b=(window.screen.width/2)-(this.img.__width/2);var d=(window.screen.height/2)-(this.img.__height/2);if(d<0){d=10}if(b<0){b=10}var a=(window.screen.width<this.img.__width||window.screen.height<this.img.__height?"yes":"no");var c=window.open(this.opt.popupurl+"/viewer.html?src="+encodeURIComponent(this.img.src),"imageviewer","width="+this.img.__width+",height="+this.img.__height+",left="+b+",top="+d+",directories=no,location=no,menubar=no,scrollbars="+a+",status=no,toolbar=no,resizable=yes")}});var mlayoutPhoto=new postCommon.PhotoImageViewer({target:window,ndsurl:isMemolog?"http://lcs.naver.com/i{100097031}":"http://lcs.naver.com/i{100062101}",popupurl:"http://blog.naver.com/storyphoto"});var popview=function(c,a){var b="";if(typeof c=="string"){b=c}else{if(typeof c=="object"&&c.parentNode!="undefined"&&c.src!="undefined"){if(c.parentNode.tagName.toLowerCase()=="a"){return}else{b=c.src}}}var d=/((beta.)?postfiles(\d{1,2})?.naver.net)\.*/;var f=b.match(d);if(f&&f[0]&&f[1]){b=b.replace(f[1],"blogfiles.naver.net").replace(/\?.*/,"")}if(a==null||typeof a=="undefine"){mlayoutPhoto.doPlayer([b],0)}else{mlayoutPhoto.doPlayer([b],0,true);utility.writeNewLcs(a,"sti","blog_image")}};var oPhotoPaginate={_sApiUrl:"/PostThumbnailListAsync.nhn",_nCurrentPage:1,_bHasPreviousPage:false,_bHasNextPage:false,initialize:function(a){this._nCurrentPage=parseInt(a.sCurrentPage);this._bHasNextPage=a.sHasNextPage=="true"?true:false;this._bHasPreviousPage=a.sHasPreviousPage=="true"?true:false;this._nCategoryNo=a.sCategoryNo||null;this._nParentCategoryNo=a.parentCategoryNo||null},loadPage:function(a){a=a||this._nCurrentPage;this.get({blogId:blogId,currentPage:a,categoryNo:this._nCategoryNo||categoryNo,parentCategoryNo:this._nParentCategoryNo||parentCategoryNo})},move:function(a){if(this["_bHas"+a+"Page"]){this.loadPage(this._nCurrentPage+(a==="Next"?+1:-1))}},get:function(a){new $Ajax(this._sApiUrl,{method:"POST",onload:$Fn(function(c){var b=$Json(utility.removeSpace(c.text())).toObject();if(b.resultCode==="S"){this.set(b)}},this).bind()}).request(a)},set:function(a){var c=this._getTplItems(a.postList);var b=new $Template($("tpl_list")).process({ison_prev:(a.hasPreviousPage=="1")?"_on":"",ison_next:(a.hasNextPage=="1")?"_on":"",items:c});this.initialize({sCurrentPage:a.parameters.currentPage,sCategoryNo:a.parameters.categoryNo,sParentCategoryNo:a.parameters.parentCategoryNo,sHasNextPage:(a.hasNextPage=="1"?"true":"false"),sHasPreviousPage:(a.hasPreviousPage=="1"?"true":"false")});$Element($$.getSingle(".image_center_wrap",document.body)).html(b)},_getTplItems:function(d){var h=new $Template($("tpl_item"));var f=$("tpl_video").innerHTML;var c=[];for(var g=0,b=d.length;g<b;g++){c.push(h.process({blogId:blogId,logNo:d[g].logNo,categoryNo:categoryNo,parentCategoryNo:parentCategoryNo,isOn:(d[g].logNo===search_logNo)?"on":"",imgUrl:d[g].thumbnailUrl,isVideo:(d[g].thumbnailTypeCode=="M"?f:"")}))}return c.join("")}};var PostExecutor=$Class({$init:function(){this._setEvent()},_setEvent:function(){$Fn(this._onLoad,this).attach(document,"domready")},_onLoad:function(){this.loadTopList();this.loadBottomList();this.excuteForMemolog();this.loadTag();this.syncProfileAndCategory();this.syncMenu();MusicManage.hideExternalLayerAll();MalWareManage.hideExternalLayerAll();this.checkClickPrevent();utility.checkRClickYN(rightClickOpenYn,blogOwner);utility.sendGnbGlobalSession();this.setTimeoutForCheckMusic();this.initializePhotoPagenate();this.setAutoSourcingHtmlView();this.setClipboard();this.bindFootnote();this.ellipsisForPost();this.openComment();if(postView){postView.resizeAllPosts()}this.gotoTagForPost();this.patchIE6FramesetScroll();if(utility.checkPostPreview()){utility.writelcs(100062119);return}var a="blog";if(isBlogMe){a+="_blogme"}if(isFromSection){a+="_home"}if(isFirstPage){a+="_first"}else{if(isFromSearch||isFromSection){a+="_next"}else{a+="_post"}}utility.writeNewLcs(gdidTag[1],"sti",a,isBlogMe,blogId)},_onError:function(a){utility.nvl_error(a)},excuteForMemolog:function(){if(!isMemolog){return}var a=$("listTopForm");if(a){a.reset();utility.writelcs(100029010)}else{utility.writelcs(100029013)}if(userTopListManageOpen){postListTable.openListTopManager()}},checkClickPrevent:function(){utility.clickPrevent()},syncProfileAndCategory:function(){if(typeof category!="undefined"){category.selectCurrentCategory(currentCategoryNo);if(isMemolog&&$("btnMemoWritable")){category.syncCategoryForWrite($("btnMemoWritable"))}}},syncMenu:function(){if(typeof menu!="undefined"&&!userSelectMenu){menu.syncMenu(currentCategoryNo,categoryParentCategoryNo)}else{userSelectMenu=false}},loadTag:function(){if(postListTag){postListTag.loadTagInfo()}if(parent&&(parent.location.href.indexOf("PostPreview.nhn")>-1||parent.location.href.indexOf("MemologMemoPreview.nhn")>-1)){for(var b=0,a=aQueuePost.length;b<a;b++){var c=aQueuePost[b];postListTag.setTagList(c.logNo,c.tagNames,"resize",$("tagList_"+c.logNo))}}},loadTopList:function(){if(!isMemolog&&postListTable&&(userTopListOpen||(!(isThumbnailList||isThumbnailView)&&isTopListOpen))){postListTable._bPageFirstLoad=true;postListTable.toggleTopList()}},loadBottomList:function(){if(search_logNo&&isFromOutside){postListTable.loadBottomList(search_logNo,isFromOutside,isFirstPage)}},patchIE6FramesetScroll:function(){if($Agent().IE6&&typeof self.parent!=="undefined"){self.$$.getSingle("html").style.zoom=1;setTimeout(function(){self.$$.getSingle("html").style.zoom=""},100)}},openComment:function(){var b,a;for(b=0,a=aCommentExpand.length;b<a;b++){var c=aCommentExpand[b];if(postView&&postView.cmtControl){if(c[0]==1){postComment.closeAndSetFocus(c[2])}else{postView.cmtControl(c[0],c[1],c[2])}}}b=a=null},gotoTagForPost:function(){if(isFirstPage&&from=="search"){var a;if(searchImg!=""){a=$(searchImg);if(a){utility.gotoTag(searchImg)}}else{if(searchVid!=""){a=$(searchVid);if(a){utility.gotoTag(searchVid)}}}if(!a){utility.gotoTag("post_1")}}else{if(isAfterWrite){utility.gotoTag("post_1")}}},ellipsisForPost:function(){var a=$("PostThumbnailAlbumViewArea");if(a){utility.ellipsisPage(a)}a=null},_checkMusic:function(){if(typeof music!="undefined"){music.playBlogMusic(isAutoPlayYN);if(music.postMusic){music.stop("js")}}},setTimeoutForCheckMusic:function(){setTimeout($Fn(this._checkMusic,this).bind(),1000)},initializePhotoPagenate:function(){if(!(isThumbnailView&&thumbnailListCurrentPage)){return}oPhotoPaginate.initialize({sCurrentPage:thumbnailListCurrentPage,sHasNextPage:thumbnailListHasNextPage,sHasPreviousPage:thumbnailListHasPreviousPage})},setAutoSourcingHtmlView:function(){var a,b;AutoSourcing.init("post_%id%",autoSourcingYn);b=aPostAutoSourcingHtmlView.length;for(a=1;a<b;a++){AutoSourcing.setString(a,aPostAutoSourcingHtmlView[a])}},setClipboard:function(){var b="이 포스트의 주소가 복사되었습니다.\n게시판이나 메신저 창에서 Ctrl+V를 눌러보세요.";var a="복사에 실패했습니다.";window.oSetClipboard=new jindo.Clipboard("/common/swf/Clipboard/clipboard_jindo2.swf").attach({copy:function(){alert(b)},failure:function(){alert(a)}})},bindFootnote:function(){var a=new nhn.husky.SE2View_Footnote();a.$ON_MSG_PAGE_LOADED(document.body)}});new PostExecutor();var QuickBannerController=$Class({_bOnload:false,$init:function(){this.welQuickPostBanner=$Element("quickPostBanner");this.welQuickPostTopLine=$Element("quickPostTopLine");this.welQuickPostBottomLine=$Element("quickPostBottomLine")},displayBanner:function(b){var a=(blogQuickPostingUseType=="USING"||blogQuickPostingUseType=="NOT_SET")&&blogOwner;if(!!this.welQuickPostBanner&&a){this.welQuickPostTopLine.show();this.welQuickPostBottomLine.show();this.welQuickPostBanner.show()}if(b){this.expandEditor()}},expandEditor:function(){var a="/QuickPostWriteForm.nhn?blogId="+blogId;if(typeof this.welEditor=="undefined"){this.welEditor=$Element("<iframe id='blogQuickEditorIfr' src='"+a+"' scrolling='no' frameborder='0' width='100%' style='display: none;'></iframe>");this.welQuickPostBanner.after(this.welEditor);this._bOnload=true}else{if(this.welEditor.$value().contentWindow){var b=this.welEditor.$value().contentWindow.oWriteController;if(b){b.enableEditor();b.openEditorArea();b.resizeParentIframe()}this._bOnload=false}}this.welQuickPostBanner.hide();if(this._bOnload){$Fn(function(){this.welEditor.show()},this).attach(this.welEditor,"load")}else{this.welEditor.show()}},closeEditor:function(){this.welQuickPostBanner.show();this.welEditor.hide()}});var oQuickBannerController=new QuickBannerController();oQuickBannerController.displayBanner(false);var QuickPromotionController=$Class({$init:function(){this.welPromotionLayer=$Element("quickPostPromotion");if(!this.validate()){return}if(blogQuickPostingUseType=="NOT_SET"){this.welPromotionLayer.show()}},closePromotion:function(){if(!this.validate()){return}this.asyncSetUsingQuickPost()},asyncSetUsingQuickPost:function(){var b="/QuickPostingSettingAsync.nhn";var c;var a={blogId:blogId,blogNo:blogNo,useYn:true};var d=new $Ajax(b,{method:"POST",onload:$Fn(function(f){var g=f.json();if(g.resultCode==0){if(this.welPromotionLayer){if(this.welPromotionLayer){this.welPromotionLayer.hide()}}}},this).bind()});d.request(a)},validate:function(){return this.welPromotionLayer&&blogOwner}});var oQuickPromotionController=new QuickPromotionController();if(typeof nhn=="undefined"){nhn={}}nhn.FlashObject=(function(){var c={};var a="F"+new Date().getTime()+parseInt(Math.random()*1000000);var l=/MSIE/i.test(navigator.userAgent);var k=/FireFox/i.test(navigator.userAgent);var j=/Chrome/i.test(navigator.userAgent);var h=function(o,q,p){if(typeof o.attachEvent!="undefined"){o.attachEvent("on"+q,p)}else{o.addEventListener(q,p,true)}};var f=function(o,r){var t="";var w=true;var q="";var u;for(var v in o){if(w){w=false}else{t+=r}u=o[v];switch(typeof(u)){case"string":t+=v+"="+encodeURIComponent(u);break;case"number":t+=v+"="+encodeURIComponent(u.toString());break;case"boolean":t+=v+"="+(u?"true":"false");break;default:}}return t};var n=function(){obj=document.getElementsByTagName("OBJECT");for(var p=0,o;o=obj[p];p++){o.style.display="none";for(var r in o){if(typeof(o[r])=="function"){try{if(o.hasOwnProperty(r)){o[r]=null}}catch(q){}}}}};var d=function(s){s=s||window.event;var r=s.wheelDelta/(j?360:120);if(!r){r=-s.detail/3}var p=s.target||s.srcElement;if(!(new RegExp("(^|\b)"+a+"_([a-z0-9_$]+)(\b|$)","i").test(p.className))){return}var o=RegExp.$2;var u="layerX" in s?s.layerX:s.offsetX;var t="layerY" in s?s.layerY:s.offsetY;try{if(!p[o](r,u,t)){if(s.preventDefault){s.preventDefault()}else{s.returnValue=false}}}catch(q){}};var g=function(p){var q=null;var s=/Safari/.test(navigator.userAgent);var o=/MSIE/.test(navigator.userAgent);var t=function(v){var u={left:0,top:0};if(v.parentNode.tagName.toLowerCase()=="object"){v=v.parentNode}for(var x=v,w=x.offsetParent;x=x.parentNode;){if(x.offsetParent){u.left-=x.scrollLeft;u.top-=x.scrollTop}if(x==w){u.left+=v.offsetLeft+x.clientLeft;u.top+=v.offsetTop+x.clientTop;if(!x.offsetParent){u.left+=x.offsetLeft;u.top+=x.offsetTop}w=x.offsetParent;v=x}}return u};var r=function(v){var u={left:0,top:0};for(var w=v;w;w=w.offsetParent){u.left+=w.offsetLeft;u.top+=w.offsetTop}for(var w=v.parentNode;w;w=w.parentNode){if(w.tagName=="BODY"){break}if(w.tagName=="TR"){u.top+=2}u.left-=w.scrollLeft;u.top-=w.scrollTop}return u};return(s?t:r)(p)};var b=function(){var o=/MSIE/.test(navigator.userAgent);if(o){var q=document.documentElement.scrollLeft||document.body.scrollLeft;var p=document.documentElement.scrollTop||document.body.scrollTop;return{scrollX:q,scrollY:p}}else{return{scrollX:window.pageXOffset,scrollY:window.pageYOffset}}};var m=function(){var o=/MSIE/.test(navigator.userAgent);var p={};if(o){p.nInnerWidth=document.documentElement.clientWidth||document.body.clientWidth;p.nInnerHeight=document.documentElement.clientHeight||document.body.clientHeight}else{p.nInnerWidth=window.innerWidth;p.nInnerHeight=window.innerHeight}return p};c.showAt=function(o,p){document.getElementById(o).innerHTML=p};c.show=function(u,r,q,o,t,p,s){document.write(c.generateTag(u,r,q,o,t,p,s))};c.generateTag=function(w,x,y,B,p,z,t){y=y||"100%";B=B||"100%";t=t||"9,0,0,0";z=z||"middle";var A=c.getDefaultOption();if(p){if(p.flashVars){if(typeof(p.flashVars)=="object"){p.flashVars=f(p.flashVars,"&")}p.flashVars+="&"}else{p.flashVars=""}p.flashVars+="__flashID="+x;for(var C in p){A[C]=p[C]}}var D="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000";var s="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version="+t;var q="position:relative !important;";var r=a+"_"+A.wheelHandler;var u=[];var o=[];u.push('<object classid="'+D+'" codebase="'+s+'" class="'+r+'" style="'+q+'" " width="'+y+'" height="'+B+'" id="'+x+'" align="'+z+'">');u.push('<param name="movie" value="'+w+'" />');o.push('<embed width="'+y+'" height="'+B+'" name="'+x+'" class="'+r+'" style="'+q+'" " src="'+w+'" align="'+z+'" ');for(var v in A){u.push('<param name="'+v+'" value="'+A[v]+'" />');o.push(v+'="'+A[v]+'" ')}o.push('type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />');u.push(o.join(""));u.push("</object>");if(h){h(window,"unload",n);h(document,!k?"mousewheel":"DOMMouseScroll",d);h=null}return(l)?u.join(""):o.join("")};c.getDefaultOption=function(){return{quality:"high",bgColor:"#FFFFFF",allowScriptAccess:"always",wmode:"window",menu:"false",allowFullScreen:"true"}};c.find=function(p,o){o=o||document;return o[p]||o.all[p]};c.setWidth=function(o,p){c.find(o).width=p};c.setHeight=function(o,p){c.find(o).height=p};c.setSize=function(q,p,o){c.find(q).height=o;c.find(q).width=p};c.getPositionObj=function(p){var q=c.find(p);if(q==null){return null}var o=g(q);var r=b();var s={};s.absoluteX=o.left;s.absoluteY=o.top;s.scrolledX=s.absoluteX-r.scrollX;s.scrolledY=s.absoluteY-r.scrollY;s.browserWidth=m().nInnerWidth;return s};c.getSSCLogParam=function(){var o=[];if(window.g_ssc){o.push("ssc="+g_ssc)}else{o.push("ssc=decide.me")}if(window.g_pid){o.push("&p="+g_pid)}if(window.g_query){o.push("&q="+encodeURIComponent(g_query))}if(window.g_sid){o.push("&s="+g_sid)}return o.join("")};return c})();document.domain="naver.com";nhn.NaverMusicServiceFlashObject=(function(){var a={};a.ID_NMP_WEB_PLAYER_LAUNCHER="NMP_web_player_launcher";a.ID_MUSICHOMEALBUMLIST="MusicHomeAlbumList";a.ID_NAVERMUSICTOP100LIST="NaverMusicTop100List";a.ID_EndOfSequence="EndOfSequence";a.SEQUENCE_OF_APPLICATION_RUNNING=[a.ID_NMP_WEB_PLAYER_LAUNCHER,a.ID_MUSICHOMEALBUMLIST,a.ID_NAVERMUSICTOP100LIST,a.EndOfSequence];a.PARAMETER_VALUE_PUSH_NONE_TRACK=1;a.PARAMETER_VALUE_PUSH_FRONT_TRACK=2;a.PARAMETER_VALUE_PUSH_BACK_TRACK=4;a.PARAMETER_VALUE_PLAY_NONE_TRACK=256;a.PARAMETER_VALUE_PLAY_OLD_FIRST_TRACK=512;a.PARAMETER_VALUE_PLAY_NEW_FIRST_TRACK=1024;a.LAUNCH_OPTION_OPEN_PLAYER_ONLY=a.PARAMETER_VALUE_PUSH_NONE_TRACK|a.PARAMETER_VALUE_PLAY_NONE_TRACK;a.LAUNCH_OPTION_OPEN_PLAYER_PUSH_BACK=a.PARAMETER_VALUE_PUSH_BACK_TRACK|a.PARAMETER_VALUE_PLAY_NONE_TRACK;a.LAUNCH_OPTION_OPEN_PLAYER_PUSH_BACK_PLAY_NEW_FIRST=a.PARAMETER_VALUE_PUSH_BACK_TRACK|a.PARAMETER_VALUE_PLAY_NEW_FIRST_TRACK;a._currentApplicationIndex=-1;a._hNaverMusicPlayer=null;a.getCurrentApplication=function(){return(a.SEQUENCE_OF_APPLICATION_RUNNING[a._currentApplicationIndex])};a.launchNaverMusicPlayer=function(d,c){try{var b=nhn.FlashObject.find(a.ID_NMP_WEB_PLAYER_LAUNCHER);b.launchNaverMusicPlayer(d,c)}catch(f){}};a.completeApplicationCallback=function(){a.nextCurrentApplicationIndex_internal();var c=a.getCurrentApplication();if(c!=a.ID_EndOfSequence){try{var b=nhn.FlashObject.find(c);b.startApplicationCallback()}catch(d){}}};a.openPlayer=function(c,d,b,f){try{if(!a._hNaverMusicPlayer||a._hNaverMusicPlayer.closed){a._hNaverMusicPlayer=window.open(c,"","width="+d+",height="+b);if(a._hNaverMusicPlayer==null){alert(f);return}a._hNaverMusicPlayer.focus()}}catch(g){}};a.nextCurrentApplicationIndex_internal=function(){if(++a._currentApplicationIndex>=a.SEQUENCE_OF_APPLICATION_RUNNING.length){a._currentApplicationIndex=a.SEQUENCE_OF_APPLICATION_RUNNING.length-1}};a.webPlayerContainer_handleOnLoad=function(){try{var b=nhn.FlashObject.find(a.ID_NMP_WEB_PLAYER_LAUNCHER);b.containerOpened()}catch(c){}};a.webPlayerContainer_handleOnUnload=function(){try{var b=nhn.FlashObject.find(a.ID_NMP_WEB_PLAYER_LAUNCHER);b.containerClosed()}catch(c){}};a.webPlayerContainer_handleIsReady=function(){try{var b=nhn.FlashObject.find(a.ID_NMP_WEB_PLAYER_LAUNCHER);b.containerIsReady()}catch(c){}};return a})();nhn.NaverMusicServiceFlashObject.completeApplicationCallback();nhn.music={_filteringTrackIdList:function(h,g,a,d,f,c){if(g&&g.length){var b=[g.length];if(d&&d.length){g=this._filteringData(g,d)}b.push(g.length);if(g.length&&a&&a.length&&!this.isAdult()){g=this._filteringData(g,a)}b.push(g.length);if(g.length&&f&&f.length){g=this._filteringData(g,f)}b.push(g.length);if(b[2]){if(h=="download"){if(b[0]!=b[1]&&b[1]!=b[2]&&b[2]!=b[3]){this.alertMessage("M0023")}else{if(b[0]!=b[1]){this.alertMessage("M0021")}else{if(b[1]!=b[2]){this.alertMessage("M0026")}else{if(b[3]!=0&&(b[2]!=b[3])){if(this.confirmMessage("M0046")){return f}else{return[]}}else{if(b[3]==0){if(!!f&&f[0]&&this.confirmMessage("M0047")){return f}else{if(!f||!f[0]){return g}else{return[]}}}}}}}}else{if(b[0]!=b[1]&&b[1]!=b[2]){this.alertMessage("M0024")}else{if(b[0]!=b[1]){this.alertMessage("M0025")}else{if(b[1]!=b[2]){this.alertMessage("M0026")}}}}return g}else{if(h=="download"){if(b[0]==b[1]){this.alertMessage("M0029",["곡들은"])}else{this.alertMessage("M0019")}}else{if(b[0]==b[1]){if(this.isLogin()){this.alertMessage("M0029",["곡들은"])}else{this.moveLoginPage(false,"adult")}}else{this.alertMessage("M0022")}}return[]}}else{if(!c){this.alertMessage("M0027")}return[]}},_filteringData:function(b,c){if(b&&b.length&&c&&c.length){var a=$A(c);return $A(b).filter(function(d){return !a.has(d)}).$value()}else{return b||[]}},playMusic:function(f,c,h,a,d){var b=h=="none"?true:false;var g=this._filteringTrackIdList("play",f,a,d,b);if(h=="add"){h=nhn.NaverMusicServiceFlashObject.LAUNCH_OPTION_OPEN_PLAYER_PUSH_BACK}else{if(h=="play"){h=nhn.NaverMusicServiceFlashObject.LAUNCH_OPTION_OPEN_PLAYER_PUSH_BACK_PLAY_NEW_FIRST}else{if(h=="none"){h=nhn.NaverMusicServiceFlashObject.LAUNCH_OPTION_OPEN_PLAYER_ONLY}}}if(!b&&!g.length){return[]}if(nhn.NaverMusicServiceFlashObject){if(!!c){this._changePlayButton(c)}nhn.NaverMusicServiceFlashObject.launchNaverMusicPlayer(g.join(","),h)}return g},_changePlayButton:function(d){if(d){var c=$$.getSingle("> span",d);var b=1;var h=8;var g=c?"loading2_":"loading1_";var a=$Element(d);a.addClass(g+"1");var f=setInterval(function(){a.removeClass(g+b);if(b<h){b++;a.addClass(g+b)}else{clearInterval(f)}},40)}},downloadMusic:function(d,a,b,c){if(this._bUnplayableMusic){this.alertMessage("M0051");return null}if($Agent().navigator().ie){if(this.checkLogin()){if(!this.isGroupId()){var f=this._filteringTrackIdList("download",d,a,b,c);if(f.length){LF_QM_DownLoad(d.join("^"),"","",this.getVariable("sEncodedUserId"))}return f}else{this.alertMessage("M0020");return[]}}else{return[]}}else{this.alertMessage("M0015");return[]}},checkLogin:function(b,a){if(a){if(this.isAdult()){return true}else{this.moveLoginPage(b,a)}}else{if(this.isLogin()){return true}else{this.moveLoginPage(b,a)}}},isGroupId:function(){return !!this.getVariable("bGroupId")},isLogin:function(){return !!this.getVariable("sUserId")},isAdult:function(){return !!this.getVariable("bAdult")},moveLoginPage:function(b,a){if(b){location.href=this.getPageUrl(a?"PAGE0002":"PAGE0001")+encodeURIComponent(location.href)}else{if(this.confirmMessage(a?"M0017":"M0016")){location.href=this.getPageUrl(a?"PAGE0002":"PAGE0001")+encodeURIComponent(location.href)}}},showAdultGuide:function(b,d){this._htElement.w_adult_guide_layer=$Element($$.getSingle("div._layer19",document.body));var a="";if(d=="song"){a="곡은"}else{if(d=="movie"){a="뮤직비디오는"}}this._htElement.w_adult_guide_layer.html(this.getMessage("M0052",[a]));var c=!!this.getVariable("htIframeInfo")?this.getVariable("htIframeInfo")["sTrackIframeId"]:null;if(!!c){this.showLayerInIframe(c,this._htElement.w_adult_guide_layer.$value(),b)}else{this.showLayer(this._htElement.w_adult_guide_layer.$value(),b)}},hideAdultGuide:function(){if(!!this._htElement.w_adult_guide_layer.$value()){this._htElement.w_adult_guide_layer.hide()}},playAlbum:function(a){var b=$Ajax(this.getAPI("API0021"),{type:"jsonp",onload:$Fn(function(c){var d=c._response.responseJSON;if(d=="error"){this.alertMessage("M0052")}else{sValue=d.replace(/\B\,/gi,"").replace(/\,\B/gi,"");nhn.NaverMusicServiceFlashObject.launchNaverMusicPlayer(sValue,nhn.NaverMusicServiceFlashObject.LAUNCH_OPTION_OPEN_PLAYER_PUSH_BACK_PLAY_NEW_FIRST)}},this).bind()}).request({m:"getAlbumTrackListForSearch",albumId:a})},openPlayerPopup:function(){this.playMusic(null,null,"none");return false},openMusicVideoPopup:function(c,a){var b=a?"PAGE0003":"PAGE0022";if(c){var d=this._filteringTrackIdList("musicvideo",[c]);if(d.length){this.openPopup(b,[c],866,560)}}else{this.alertMessage("M1003")}},openMusicSpringPopup:function(c,b,a){if($Agent().navigator().ie&&c){this.openPopup("PAGE0008",[c],b,a,true)}else{this.alertMessage("M0015")}},openLyricPopup:function(c,d,b,a){if(!!c){if(this.isLogin()){if(!this.isAdult()&&!d){this.alertMessage("M0029",["가사는"])}else{this.openPopup("PAGE0007",[c],b,a)}}else{if(!d){this.moveLoginPage(false,"adult")}else{this.openPopup("PAGE0007",[c],b,a)}}}else{this.alertMessage("M1003")}},sizeToContent:function(a,c,b){PlayerWindow(a).sizeToContent(c,b)},openPopup:function(c,k,f,j,h,d){var d=d||["width=200","height=100"];var b=this.getPageUrl(c,k);if(b){if(!h||(h&&this.checkLogin())){var a=window.open(b,c,d.join(","));if(a){if(f&&j){var g=function(){try{this.sizeToContent(a,f,j)}catch(l){setTimeout(arguments.callee,300)}};setTimeout(g,300)}return a}else{this.alertMessage("M0013");return null}}else{return null}}else{this.alertMessage("M1003");return null}},getVariable:function(a){return(a&&this.variables[a]?this.variables[a]:null)},setVariable:function(b,a){if(b){this.variables[b]=a;return true}else{return false}},_replaceString:function(b,a){if(b){var c=b.match(/\{[0-9]\}*/g);if(c&&a){for(var d=0;d<c.length;d++){b=b.replace(c[d],a[d]||"")}return b}else{return b}}else{return""}},getMessage:function(c,a){var b=this.getVariable("htMessage")[c]||"";if(b){return a?this._replaceString(b,a):b}else{return false}},getPageUrl:function(b,a){var c=this.getVariable("htPage")[b];if(c){return a?this._replaceString(c,a):c}else{return""}},getAPI:function(a){return this.getVariable("htAPI")[a]?this.getVariable("htAPI")[a]:""},alertMessage:function(c,a){var b=this.getVariable("htMessage")[c]||"";if(b){alert(a?this._replaceString(b,a):b);return true}else{return false}},confirmMessage:function(c,a){var b=this.getVariable("htMessage")[c]||"";if(b){return confirm(a?this._replaceString(b,a):b)}else{return false}}};if(!window.console){window.console={};console.log=function(){};console.warn=function(){};console.error=function(){}}var _win;PlayerWindow=function(b){var a=arguments.callee;if(b instanceof a){return b}if(!(this instanceof a)){return new a(b)}oPlayerWindow._win=b||window};PlayerWindow.prototype.sizeToContent=function(c,b){var f=navigator.userAgent;var j=f.indexOf("WebKit")>-1;var a=f.indexOf("Chrome")>-1;if(typeof oPlayerWindow._win.sizeToContent=="function"){oPlayerWindow._win.sizeToContent()}else{var d=(j&&!a&&navigator.vendor.indexOf("Apple")>-1);var h=oPlayerWindow._getClientSize();var g=oPlayerWindow._getScrollSize();if(d){oPlayerWindow.resizeTo(c+10,b+35)}else{oPlayerWindow.resizeBy(g.width-h.width+(a?-13:0),g.height-h.height+(a?-13:0))}}return this};var oPlayerWindow={_getRenderingMode:function(){var c=(typeof window.opera=="undefined"&&navigator.userAgent.indexOf("MSIE")>-1);var a=(navigator.userAgent.indexOf("WebKit")>-1&&navigator.userAgent.indexOf("Chrome")<0&&navigator.vendor.indexOf("Apple")>-1);var b;if("compatMode" in _win.document){b=this._win.document.compatMode=="CSS1Compat"?"Standards":(c?"Quirks":"Almost")}else{b=a?"Standards":"Quirks"}return b},_getClientSize:function(){var a=this._win.document["documentElement"];var b=navigator.userAgent.indexOf("WebKit")>-1&&navigator.userAgent.indexOf("Chrome")==-1;return(b)?{width:window.innerWidth,height:window.innerHeight}:{width:a.clientWidth,height:a.clientHeight}},_getScrollSize:function(){var a=navigator.userAgent.indexOf("WebKit")>-1;var b=this._win.document["documentElement"];return{width:Math.max(b.scrollWidth,b.clientWidth),height:Math.max(b.scrollHeight,b.clientHeight)}},resizeBy:function(b,a){this._win.resizeBy(b,a);return this},resizeTo:function(b,a){this._win.resizeTo(b,a);return this}};nhn.music.variables={sServiceDomain:"",sImageUrl:"",sUserId:"",bAdult:false,bGroupId:false,htMessage:{M0001:"리스트 이름은 1자 이상 입력해 주세요.",M0002:"이미 존재하는 리스트입니다.",M0003:"",M0004:"선택한 곡이 없습니다.\n\n재생할 곡을 선택해 주세요.",M0005:"{0}개 트랙을 삭제하시겠습니까?",M0006:"선택한 곡이 없습니다.\n\n삭제할 곡을 선택해 주세요.",M0007:"선택한 곡이 없습니다.\n\n이동할 곡을 선택해 주세요.",M0008:"블로그나 카페에 보내고 싶은 곡을 선택하세요.\n\n최대 30곡까지 선택할 수 있습니다.",M0009:"현재 30곡을 초과하였습니다.\n\n최대 30곡까지 선택할 수 있습니다.",M0010:"정기결제를 해지할 상품을 선택해 주세요.",M0011:"내 리스트는 최대 {0}개까지 만들 수 있습니다.\n\n기존 리스트를 삭제하고 추가해주세요.",M0012:"내 리스트 ",M0013:"팝업창이 차단 설정되어 있습니다.\n팝업창 설정을 변경해 주세요.",M0014:"{0} 리스트를 삭제하시겠습니까?",M0015:"해당 서비스는 Internet Explorer에서만 지원합니다.\nInternet Explorer에서 실행해 주세요.",M0016:"로그인이 필요한 서비스입니다.\n\n로그인하시겠습니까?",M0017:"성인 인증이 필요한 서비스입니다.\n\n로그인 하시겠습니까?",M0018:"19금 곡을 제외하고  리스트에 추가 하였습니다.",M0019:"선택하신 곡 중에 다운로드 가능한 곡이 없습니다.",M0020:"단체 아이디로는 이용하실 수 없습니다.",M0021:"다운로드 불가능한 곡을 제외하고 리스트에 추가했습니다.",M0022:"선택하신 곡 중에 재생 가능한 곡이 없습니다.",M0023:"19금 곡, 다운로드 불가능한 곡과 DRM이 적용된 곡을 제외하고 리스트에 추가했습니다.",M0024:"19금 곡과 재생 불가능한 곡을 제외하고 리스트에 추가했습니다.",M0025:"재생 불가능한 곡을 제외하고 리스트에 추가했습니다.",M0026:"19금 곡을 제외하고  리스트에 추가했습니다.",M0027:"선택하신 곡이 없습니다.",M0028:"해당 곡은 19세 미만의 청소년이 이용할 수 없습니다.",M0029:"선택하신 {0} 19세 미만의 청소년이 이용할 수 없습니다.",M0030:"선택하신 아티스트를 관심음악에 추가하였습니다.",M0031:"선택하신 앨범을 관심음악에 추가하였습니다.",M0032:"선택하신 뮤직 비디오를 관심음악에 추가하였습니다.",M0033:"관심음악에 등록된 콘텐츠를 삭제하시겠습니까?",M0034:"관심음악에 등록된 콘텐츠를 모두 삭제하시겠습니까?",M0035:"선택한 플레이리스트가 없습니다. 리스트를 선택해 주세요.",M0036:"리스트 이름은 최대 30자까지 입력 가능합니다.",M0037:"펼쳐보기",M0038:"닫기",M0039:"동일한 플레이리스트에서는\n\n음악을 복사 또는 이동할 수 없습니다.\n\n다른 리스트를 선택해 주세요.",M0040:"선택한 곡이 없습니다.\n\n복사 또는 이동할 곡을 선택해 주세요.",M0041:"평가가 반영되었습니다.",M0042:"이미 평가한 앨범입니다.",M0043:"선택한 곡이 없습니다.\n\n리스트에 담을 곡을 선택해 주세요.",M0044:"트랙을 이동하거나 담을 수 있는 리스트가 없습니다.\n\n새 리스트를 추가해주세요.",M0045:"이미 {0} 관심음악에 추가 되었습니다.",M0046:"리스트 중 DRM이 적용된 곡들은 개별구매만 가능합니다.",M0047:"해당 곡은 DRM이 적용되어 있으며, 개별 구매만 가능합니다.",M0048:"선택한 곡을<BR>내 리스트에 담았습니다.",M0049:"선택한 곡을<BR>내 리스트에 복사했습니다.",M0050:"선택한 곡을<BR>내 리스트에 이동했습니다.",M0051:"서비스 점검 중입니다.",M0052:"앨범을 불러오는 과정에서 오류가 발생했습니다.\n\n다시 시도해주세요.",M0053:"재생시킬 수 있는 앨범이 없습니다.",M1001:"요청할 API 주소가 올바르지 않습니다.",M1002:"알 수 없는 오류가 발생하였습니다.",M1003:"파라미터가 올바르지 않습니다.",M1004:"트랙 리스트 레이어를 표시할 기준 엘리먼트를 선언해야 합니다.",M1005:"트랙 리스트의 모드를 선언해야 합니다.",M1006:"트랙 리스트의 기본값을 정확하게 선언하세요",M1007:"뷰의 타입을 정확하게 선언하세요."},htAPI:{API0001:"/myMusic/registMyAlbumAPI.nhn",API0002:"/myMusic/modifyMyAlbumTitleAPI.nhn",API0003:"/myMusic/removeMyAlbumAPI.nhn",API0004:"/myMusic/changeDisplayOrderAPI.nhn",API0005:"/myMusic/addTrackIntoMyAlbumAPI.nhn",API0006:"/album/albumScoreAPI.nhn",API0007:"/myMusic/changeTrackDisplayOrderInMyAlbumAPI.nhn",API0008:"/myMusic/removeTrackInMyAlbumAPI.nhn",API0009:"/myMusic/moveTrackInMyAlbumAPI.nhn",API0010:"/myMusic/getMyAlbumInfoAPI.nhn",API0011:"http://d8e888.svr.naver.com:10629",API0012:"/artist/bestTrackListAPI.nhn",API0013:"",API0014:"/album/trackListAPI.nhn",API0015:"/somepath/somefile.nhn",API0016:"/myMusic/addFavoriteAPI.nhn",API0017:"/myMusic/getRecentTrackListAPI.nhn",API0018:"/contents/articleTrackListAPI.nhn",API0019:"/todayMusic/voteAPI.nhn",API0020:"/todayMusic/voteResultAPI.nhn",API0021:"http://music.naver.com/track.nhn"},htPage:{PAGE0001:"http://nid.naver.com/nidlogin.login?mode=form&url=",PAGE0002:"https://nid.naver.com/nidlogin.login?svctype=128&viewtype=12&url=",PAGE0003:"http://staging.music.naver.com/video/popupPlayer.nhn?videoId={0}",PAGE0004:"http://player.music.naver.com/player/posting.nhn?site=B&trackid={0}",PAGE0005:"http://player.music.naver.com/player/posting.nhn?site=B&trackid={0}",PAGE0006:"/myMusic/myalbum.nhn?albumId={0}",PAGE0007:"http://music.naver.com/lyric/index.nhn?trackId={0}",PAGE0008:"http://item2.naver.com/MusicPurchase.nhn?trackid={0}",PAGE0009:"/buy/buyPopup.nhn?trackId={0}&sType=2",PAGE0010:"/buy/buyPopup.nhn?trackId={0}&sType=1",PAGE0011:"artist_page.html?trackId={0}",PAGE0012:"/listen/top100.nhn?domain={0}",PAGE0013:"/video/home.nhn?domain={0}",PAGE0014:"/listen/genre/newRelease.nhn?genre={0}",PAGE0015:"https://nid.naver.com/nidlogin.login?svctype=64&url={0}",PAGE0016:"http://{0}/loginPopup.nhn?{1}",PAGE0017:"/loginPopup.nhn?type=redirect&url=%2fbuy%2fcheckPrivacy.nhn%3fpackageType%3d{0}%26productId%3d{1}%26packageId%3d{2}%26payType%3d{3}",PAGE0018:"/lyric/lyricDeclarationForm.nhn?trackId={0}",PAGE0019:"/video/popupPlayerVideo.nhn?videoId={0}",PAGE0020:"/album/reviewContentPopup.nhn?seq={0}",PAGE0021:"/buy/checkPrivacy.nhn?packageType={0}&productId={1}&packageId={2}&payType={3}",PAGE0022:"http://music.naver.com/video/popupPlayer.nhn?videoId={0}",PAGE0023:"http://music.naver.com/player/posting.nhn?site=B&trackid={0}",PAGE0024:"http://music.naver.com/player/posting.nhn?site=C&trackid={0}"}};