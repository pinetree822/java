if(typeof nhn=="undefined"){nhn={};}nhn.FlashObject=(function(){var g={};var l="F"+new Date().getTime()+parseInt(Math.random()*1000000);var p=/MSIE/i.test(navigator.userAgent);var o=/FireFox/i.test(navigator.userAgent);var d=/Chrome/i.test(navigator.userAgent);var q="className, style, __flashID, classid, codebase, class, width, height, name, src, align, id, type, object, embed, movie, forwardInstall, requireVersion";var b=(navigator.appVersion.toLowerCase().indexOf("win")!=-1)?true:false;var r=(navigator.userAgent.indexOf("Opera")!=-1)?true:false;var e=function(y){var u,w,x;if(y==null){y=25;}try{w=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");u=w.GetVariable("$version");if(u){return f(u);}}catch(x){}for(var v=y;v>0;v--){try{w=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+v);u=w.GetVariable("$version");}catch(x){continue;}if(u){return f(u);}}return -1;};var f=function(v){var u=v.split(" ")[1].split(",");return{major:u[0],minor:u[1],revision:u[2]};};var c=function(v){var x=-1;if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var A=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";
var B=navigator.plugins["Shockwave Flash"+A].description;var w=B.split(" ");var y=w[2].split(".");var u=y[0];var C=y[1];var z=w[3];if(z==""){z=w[4];}if(z[0]=="d"){z=z.substring(1);}else{if(z[0]=="r"){z=z.substring(1);if(z.indexOf("d")>0){z=z.substring(0,z.indexOf("d"));}}}x={major:u,minor:C,revision:z};}}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.6")!=-1){x=4;}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.5")!=-1){x=3;}else{if(navigator.userAgent.toLowerCase().indexOf("webtv")!=-1){x=2;}else{if(p&&b&&!r){x=e(v);}}}}}return x;};var m=function(w,v,u){version=c(w);if(version==-1){return false;}else{if(version!=0){if(version.major>parseFloat(w)){return true;}else{if(version.major==parseFloat(w)){if(version.minor>parseFloat(v)){return true;}else{if(version.minor==parseFloat(v)){if(version.revision>=parseFloat(u)){return true;}}}}}return false;}}};var a=function(){alert("default install run");};var t=function(u,w,v){if(typeof u.attachEvent!="undefined"){u.attachEvent("on"+w,v);}else{u.addEventListener(w,v,true);
}};var h=function(u,w){var x="";var A=true;var v="";var y;for(var z in u){if(A){A=false;}else{x+=w;}y=u[z];switch(typeof(y)){case"string":x+=z+"="+encodeURIComponent(y);break;case"number":x+=z+"="+encodeURIComponent(y.toString());break;case"boolean":x+=z+"="+(y?"true":"false");break;default:}}return x;};var n=function(){obj=document.getElementsByTagName("OBJECT");for(var v=0,u;u=obj[v];v++){u.style.display="none";for(var x in u){if(typeof(u[x])=="function"){try{if(u.hasOwnProperty(x)){u[x]=null;}}catch(w){}}}}};var i=function(y){y=y||window.event;var x=y.wheelDelta/(d?360:120);if(!x){x=-y.detail/3;}var v=y.target||y.srcElement;if(!(new RegExp("(^|\b)"+l+"_([a-z0-9_$]+)(\b|$)","i").test(v.className))){return;}var u=RegExp.$2;var A="layerX" in y?y.layerX:y.offsetX;var z="layerY" in y?y.layerY:y.offsetY;try{if(!v[u](x,A,z)){if(y.preventDefault){y.preventDefault();}else{y.returnValue=false;}}}catch(w){}};var k=function(v){var w=null;var y=/Safari/.test(navigator.userAgent);var u=/MSIE/.test(navigator.userAgent);var z=function(B){var A={left:0,top:0};
if(B.parentNode.tagName.toLowerCase()=="object"){B=B.parentNode;}for(var D=B,C=D.offsetParent;D=D.parentNode;){if(D.offsetParent){A.left-=D.scrollLeft;A.top-=D.scrollTop;}if(D==C){A.left+=B.offsetLeft+D.clientLeft;A.top+=B.offsetTop+D.clientTop;if(!D.offsetParent){A.left+=D.offsetLeft;A.top+=D.offsetTop;}C=D.offsetParent;B=D;}}return A;};var x=function(B){var A={left:0,top:0};for(var C=B;C;C=C.offsetParent){A.left+=C.offsetLeft;A.top+=C.offsetTop;}for(var C=B.parentNode;C;C=C.parentNode){if(C.tagName=="BODY"){break;}if(C.tagName=="TR"){A.top+=2;}A.left-=C.scrollLeft;A.top-=C.scrollTop;}return A;};return(y?z:x)(v);};var s=function(){var u=/MSIE/.test(navigator.userAgent);if(u){var w=document.documentElement.scrollLeft||document.body.scrollLeft;var v=document.documentElement.scrollTop||document.body.scrollTop;return{scrollX:w,scrollY:v};}else{return{scrollX:window.pageXOffset,scrollY:window.pageYOffset};}};var j=function(){var u=/MSIE/.test(navigator.userAgent);var v={};if(u){v.nInnerWidth=document.documentElement.clientWidth||document.body.clientWidth;
v.nInnerHeight=document.documentElement.clientHeight||document.body.clientHeight;}else{v.nInnerWidth=window.innerWidth;v.nInnerHeight=window.innerHeight;}return v;};g.showAt=function(u,v){document.getElementById(u).innerHTML=v;};g.show=function(x,y,z,B,u,A,w){if(u&&u.requireVersion){var v=u.requireVersion.split(".");var C=m(v[0],v[1],v[2]);if(!C){if(u.forwardInstall){u.forwardInstall();}else{a();}return null;}}document.write(g.generateTag(x,y,z,B,u,A,w));};g.generateTag=function(C,D,E,H,v,F,z){E=E||"100%";H=H||"100%";z=z||"9,0,0,0";F=F||"middle";var G=g.getDefaultOption();if(v){if(v.flashVars){if(typeof(v.flashVars)=="object"){v.flashVars=h(v.flashVars,"&");}v.flashVars+="&";}else{v.flashVars="";}v.flashVars+="__flashID="+D;for(var I in v){if(q.indexOf(I)>=0){continue;}G[I]=v[I];}}var J="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000";var y="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version="+z;var w="position:relative !important;";var x=l+"_"+G.wheelHandler;var A=[];var u=[];A.push('<object classid="'+J+'" codebase="'+y+'" class="'+x+'" style="'+w+'" " width="'+E+'" height="'+H+'" id="'+D+'" align="'+F+'">');
A.push('<param name="movie" value="'+C+'" />');u.push('<embed width="'+E+'" height="'+H+'" name="'+D+'" class="'+x+'" style="'+w+'" " src="'+C+'" align="'+F+'" ');for(var B in G){A.push('<param name="'+B+'" value="'+G[B]+'" />');u.push(B+'="'+G[B]+'" ');}u.push('type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />');A.push(u.join(""));A.push("</object>");if(t){t(window,"unload",n);t(document,!o?"mousewheel":"DOMMouseScroll",i);t=null;}return(p)?A.join(""):u.join("");};g.getDefaultOption=function(){return{quality:"high",bgColor:"#FFFFFF",allowScriptAccess:"always",wmode:"window",menu:"false",allowFullScreen:"true"};};g.find=function(v,u){u=u||document;return u[v]||u.all[v];};g.getPlayerVersion=function(){return c();};g.setWidth=function(u,v){g.find(u).width=v;};g.setHeight=function(u,v){g.find(u).height=v;};g.setSize=function(w,v,u){g.find(w).height=u;g.find(w).width=v;};g.getPositionObj=function(v){var w=g.find(v);if(w==null){return null;}var u=k(w);var x=s();var y={};
y.absoluteX=u.left;y.absoluteY=u.top;y.scrolledX=y.absoluteX-x.scrollX;y.scrolledY=y.absoluteY-x.scrollY;y.browserWidth=j().nInnerWidth;return y;};g.getSSCLogParam=function(){var u=[];if(window.g_ssc){u.push("ssc="+g_ssc);}else{u.push("ssc=decide.me");}if(window.g_pid){u.push("&p="+g_pid);}if(window.g_query){u.push("&q="+encodeURIComponent(g_query));}if(window.g_sid){u.push("&s="+g_sid);}return u.join("");};return g;})();function receiver_init(b){var c=nhn.Me2Expand.getFlashConnectId();var a=nhn.FlashObject.find(b);a.connect(c);nhn.Me2Expand.initializedReceiverFlash();}function receiver_error(a,b){}function sender_init(b){var c=nhn.Me2Expand.Button.getFlashConnectId();var a=nhn.FlashObject.find(b);a.connect(c);nhn.Me2Expand.Button.initializedSenderFlash();}function sender_error(a,b){nhn.Me2Expand.Common.setError({errorCode:"195",errorMessage:"Flash Error"});}function sendNotification(b){var a=nhn.FlashObject.find("DomainBridgeSender");a.sendNotification(b);}(function(ns){var jindo={};jindo.$Jindo=function(){var cl=arguments.callee;var cc=cl._cached;if(cc){return cc;}if(!(this instanceof cl)){return new cl();}if(!cc){cl._cached=this;}this.version="1.4.8";};jindo.$=function(sID){var ret=[],arg=arguments,lastArgument=arg[arg.length-1],doc=document,el=null;var reg=/^<([a-z]+|h[1-5])>$/i;var reg2=/^<([a-z]+|h[1-5])(\s+[^>]+)?>/i;if(arg.length>1&&typeof lastArgument!="string"&&lastArgument.body){arg=Array.prototype.slice.apply(arg,[0,arg.length-1]);doc=lastArgument;}for(var i=0;i<arg.length;i++){el=arg[i];if(typeof el=="string"){el=el.replace(/^\s+|\s+$/g,"");if(reg.test(el)){el=doc.createElement(RegExp.$1);}else{if(reg2.test(el)){var p={thead:"table",tbody:"table",tr:"tbody",td:"tr",dt:"dl",dd:"dl",li:"ul",legend:"fieldset",option:"select"};var tag=RegExp.$1.toLowerCase();var ele=jindo._createEle(p[tag],el,doc);for(var i=0,leng=ele.length;i<leng;i++){ret.push(ele[i]);}el=null;}else{el=doc.getElementById(el);}}}if(el){ret[ret.length]=el;}}return ret.length>1?ret:(ret[0]||null);
};jindo._createEle=function(sParentTag,sHTML,oDoc,bWantParent){var sId="R"+new Date().getTime()+parseInt(Math.random()*100000);var oDummy=oDoc.createElement("div");switch(sParentTag){case"select":case"table":case"dl":case"ul":case"fieldset":oDummy.innerHTML="<"+sParentTag+' class="'+sId+'">'+sHTML+"</"+sParentTag+">";break;case"thead":case"tbody":oDummy.innerHTML="<table><"+sParentTag+' class="'+sId+'">'+sHTML+"</"+sParentTag+"></table>";break;case"tr":oDummy.innerHTML='<table><tbody><tr class="'+sId+'">'+sHTML+"</tr></tbody></table>";break;default:oDummy.innerHTML='<div class="'+sId+'">'+sHTML+"</div>";break;}var oFound;for(oFound=oDummy.firstChild;oFound;oFound=oFound.firstChild){if(oFound.className==sId){break;}}return bWantParent?oFound:oFound.childNodes;};jindo.$Class=function(oDef){function typeClass(){var t=this;var a=[];var superFunc=function(m,superClass,func){if(m!="constructor"&&func.toString().indexOf("$super")>-1){var funcArg=func.toString().replace(/function\s*\(([^\)]*)[\w\W]*/g,"$1").split(",");
var funcStr=func.toString().replace(/function[^{]*{/,"").replace(/(\w|\.?)(this\.\$super|this)/g,function(m,m2,m3){if(!m2){return m3+".$super";}return m;});funcStr=funcStr.substr(0,funcStr.length-1);func=superClass[m]=eval("false||function("+funcArg.join(",")+"){"+funcStr+"}");}return function(){var f=this.$this[m];var t=this.$this;var r=(t[m]=func).apply(t,arguments);t[m]=f;return r;};};while(typeof t._$superClass!="undefined"){t.$super=new Object;t.$super.$this=this;for(var x in t._$superClass.prototype){if(t._$superClass.prototype.hasOwnProperty(x)){if(typeof this[x]=="undefined"&&x!="$init"){this[x]=t._$superClass.prototype[x];}if(x!="constructor"&&x!="_$superClass"&&typeof t._$superClass.prototype[x]=="function"){t.$super[x]=superFunc(x,t._$superClass,t._$superClass.prototype[x]);}else{t.$super[x]=t._$superClass.prototype[x];}}}if(typeof t.$super.$init=="function"){a[a.length]=t;}t=t.$super;}for(var i=a.length-1;i>-1;i--){a[i].$super.$init.apply(a[i].$super,arguments);}if(typeof this.$init=="function"){this.$init.apply(this,arguments);
}}if(typeof oDef.$static!="undefined"){var i=0,x;for(x in oDef){if(oDef.hasOwnProperty(x)){x=="$static"||i++;}}for(x in oDef.$static){if(oDef.$static.hasOwnProperty(x)){typeClass[x]=oDef.$static[x];}}if(!i){return oDef.$static;}delete oDef.$static;}typeClass.prototype=oDef;typeClass.prototype.constructor=typeClass;typeClass.extend=jindo.$Class.extend;return typeClass;};jindo.$Class.extend=function(superClass){if(typeof superClass=="undefined"||superClass===null||!superClass.extend){throw new Error("extend시 슈퍼 클래스는 Class여야 합니다.");}this.prototype._$superClass=superClass;for(var x in superClass){if(superClass.hasOwnProperty(x)){if(x=="prototype"){continue;}this[x]=superClass[x];}}return this;};jindo.$$=jindo.cssquery=(function(){var sVersion="3.0";var debugOption={repeat:1};var UID=1;var cost=0;var validUID={};var bSupportByClassName=document.getElementsByClassName?true:false;var safeHTML=false;var getUID4HTML=function(oEl){var nUID=safeHTML?(oEl._cssquery_UID&&oEl._cssquery_UID[0]):oEl._cssquery_UID;if(nUID&&validUID[nUID]==oEl){return nUID;
}nUID=UID++;oEl._cssquery_UID=safeHTML?[nUID]:nUID;validUID[nUID]=oEl;return nUID;};var getUID4XML=function(oEl){var oAttr=oEl.getAttribute("_cssquery_UID");var nUID=safeHTML?(oAttr&&oAttr[0]):oAttr;if(!nUID){nUID=UID++;oEl.setAttribute("_cssquery_UID",safeHTML?[nUID]:nUID);}return nUID;};var getUID=getUID4HTML;var uniqid=function(sPrefix){return(sPrefix||"")+new Date().getTime()+parseInt(Math.random()*100000000);};function getElementsByClass(searchClass,node,tag){var classElements=new Array();if(node==null){node=document;}if(tag==null){tag="*";}var els=node.getElementsByTagName(tag);var elsLen=els.length;var pattern=new RegExp("(^|\\s)"+searchClass+"(\\s|$)");for(i=0,j=0;i<elsLen;i++){if(pattern.test(els[i].className)){classElements[j]=els[i];j++;}}return classElements;}var getChilds_dontShrink=function(oEl,sTagName,sClassName){if(bSupportByClassName&&sClassName){if(oEl.getElementsByClassName){return oEl.getElementsByClassName(sClassName);}if(oEl.querySelectorAll){return oEl.querySelectorAll(sClassName);}return getElementsByClass(sClassName,oEl,sTagName);
}else{if(sTagName=="*"){return oEl.all||oEl.getElementsByTagName(sTagName);}}return oEl.getElementsByTagName(sTagName);};var clearKeys=function(){backupKeys._keys={};};var oDocument_dontShrink=document;var bXMLDocument=false;var backupKeys=function(sQuery){var oKeys=backupKeys._keys;sQuery=sQuery.replace(/'(\\'|[^'])*'/g,function(sAll){var uid=uniqid("QUOT");oKeys[uid]=sAll;return uid;});sQuery=sQuery.replace(/"(\\"|[^"])*"/g,function(sAll){var uid=uniqid("QUOT");oKeys[uid]=sAll;return uid;});sQuery=sQuery.replace(/\[(.*?)\]/g,function(sAll,sBody){if(sBody.indexOf("ATTR")==0){return sAll;}var uid="["+uniqid("ATTR")+"]";oKeys[uid]=sAll;return uid;});var bChanged;do{bChanged=false;sQuery=sQuery.replace(/\(((\\\)|[^)|^(])*)\)/g,function(sAll,sBody){if(sBody.indexOf("BRCE")==0){return sAll;}var uid="_"+uniqid("BRCE");oKeys[uid]=sAll;bChanged=true;return uid;});}while(bChanged);return sQuery;};var restoreKeys=function(sQuery,bOnlyAttrBrace){var oKeys=backupKeys._keys;var bChanged;var rRegex=bOnlyAttrBrace?/(\[ATTR[0-9]+\])/g:/(QUOT[0-9]+|\[ATTR[0-9]+\])/g;
do{bChanged=false;sQuery=sQuery.replace(rRegex,function(sKey){if(oKeys[sKey]){bChanged=true;return oKeys[sKey];}return sKey;});}while(bChanged);sQuery=sQuery.replace(/_BRCE[0-9]+/g,function(sKey){return oKeys[sKey]?oKeys[sKey]:sKey;});return sQuery;};var restoreString=function(sKey){var oKeys=backupKeys._keys;var sOrg=oKeys[sKey];if(!sOrg){return sKey;}return eval(sOrg);};var wrapQuot=function(sStr){return'"'+sStr.replace(/"/g,'\\"')+'"';};var getStyleKey=function(sKey){if(/^@/.test(sKey)){return sKey.substr(1);}return null;};var getCSS=function(oEl,sKey){if(oEl.currentStyle){if(sKey=="float"){sKey="styleFloat";}return oEl.currentStyle[sKey]||oEl.style[sKey];}else{if(window.getComputedStyle){return oDocument_dontShrink.defaultView.getComputedStyle(oEl,null).getPropertyValue(sKey.replace(/([A-Z])/g,"-$1").toLowerCase())||oEl.style[sKey];}}if(sKey=="float"&&/MSIE/.test(window.navigator.userAgent)){sKey="styleFloat";}return oEl.style[sKey];};var oCamels={accesskey:"accessKey",cellspacing:"cellSpacing",cellpadding:"cellPadding","class":"className",colspan:"colSpan","for":"htmlFor",maxlength:"maxLength",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",valign:"vAlign"};
var getDefineCode=function(sKey){var sVal;var sStyleKey;if(bXMLDocument){sVal='oEl.getAttribute("'+sKey+'",2)';}else{if(sStyleKey=getStyleKey(sKey)){sKey="$$"+sStyleKey;sVal='getCSS(oEl, "'+sStyleKey+'")';}else{switch(sKey){case"checked":sVal='oEl.checked + ""';break;case"disabled":sVal='oEl.disabled + ""';break;case"enabled":sVal='!oEl.disabled + ""';break;case"readonly":sVal='oEl.readOnly + ""';break;case"selected":sVal='oEl.selected + ""';break;default:if(oCamels[sKey]){sVal="oEl."+oCamels[sKey];}else{sVal='oEl.getAttribute("'+sKey+'",2)';}}}}return"_"+sKey+" = "+sVal;};var getReturnCode=function(oExpr){var sStyleKey=getStyleKey(oExpr.key);var sVar="_"+(sStyleKey?"$$"+sStyleKey:oExpr.key);var sVal=oExpr.val?wrapQuot(oExpr.val):"";switch(oExpr.op){case"~=":return"("+sVar+' && (" " + '+sVar+' + " ").indexOf(" " + '+sVal+' + " ") > -1)';case"^=":return"("+sVar+" && "+sVar+".indexOf("+sVal+") == 0)";case"$=":return"("+sVar+" && "+sVar+".substr("+sVar+".length - "+oExpr.val.length+") == "+sVal+")";case"*=":return"("+sVar+" && "+sVar+".indexOf("+sVal+") > -1)";
case"!=":return"("+sVar+" != "+sVal+")";case"=":return"("+sVar+" == "+sVal+")";}return"("+sVar+")";};var getNodeIndex=function(oEl){var nUID=getUID(oEl);var nIndex=oNodeIndexes[nUID]||0;if(nIndex==0){for(var oSib=(oEl.parentNode||oEl._IE5_parentNode).firstChild;oSib;oSib=oSib.nextSibling){if(oSib.nodeType!=1){continue;}nIndex++;setNodeIndex(oSib,nIndex);}nIndex=oNodeIndexes[nUID];}return nIndex;};var oNodeIndexes={};var setNodeIndex=function(oEl,nIndex){var nUID=getUID(oEl);oNodeIndexes[nUID]=nIndex;};var unsetNodeIndexes=function(){setTimeout(function(){oNodeIndexes={};},0);};var oPseudoes_dontShrink={contains:function(oEl,sOption){return(oEl.innerText||oEl.textContent||"").indexOf(sOption)>-1;},"last-child":function(oEl,sOption){for(oEl=oEl.nextSibling;oEl;oEl=oEl.nextSibling){if(oEl.nodeType==1){return false;}}return true;},"first-child":function(oEl,sOption){for(oEl=oEl.previousSibling;oEl;oEl=oEl.previousSibling){if(oEl.nodeType==1){return false;}}return true;},"only-child":function(oEl,sOption){var nChild=0;
for(var oChild=(oEl.parentNode||oEl._IE5_parentNode).firstChild;oChild;oChild=oChild.nextSibling){if(oChild.nodeType==1){nChild++;}if(nChild>1){return false;}}return nChild?true:false;},empty:function(oEl,_){return oEl.firstChild?false:true;},"nth-child":function(oEl,nMul,nAdd){var nIndex=getNodeIndex(oEl);return nIndex%nMul==nAdd;},"nth-last-child":function(oEl,nMul,nAdd){var oLast=(oEl.parentNode||oEl._IE5_parentNode).lastChild;for(;oLast;oLast=oLast.previousSibling){if(oLast.nodeType==1){break;}}var nTotal=getNodeIndex(oLast);var nIndex=getNodeIndex(oEl);var nLastIndex=nTotal-nIndex+1;return nLastIndex%nMul==nAdd;},checked:function(oEl){return !!oEl.checked;},selected:function(oEl){return !!oEl.selected;},enabled:function(oEl){return !oEl.disabled;},disabled:function(oEl){return !!oEl.disabled;}};var getExpression=function(sBody){var oRet={defines:"",returns:"true"};var sBody=restoreKeys(sBody,true);var aExprs=[];var aDefineCode=[],aReturnCode=[];var sId,sTagName;var sBody=sBody.replace(/:([\w-]+)(\(([^)]*)\))?/g,function(_1,sType,_2,sOption){switch(sType){case"not":var oInner=getExpression(sOption);
var sFuncDefines=oInner.defines;var sFuncReturns=oInner.returnsID+oInner.returnsTAG+oInner.returns;aReturnCode.push("!(function() { "+sFuncDefines+" return "+sFuncReturns+" })()");break;case"nth-child":case"nth-last-child":sOption=restoreString(sOption);if(sOption=="even"){sOption="2n";}else{if(sOption=="odd"){sOption="2n+1";}}var nMul,nAdd;var matchstr=sOption.match(/([0-9]*)n([+-][0-9]+)*/);if(matchstr){nMul=matchstr[1]||1;nAdd=matchstr[2]||0;}else{nMul=Infinity;nAdd=parseInt(sOption);}aReturnCode.push("oPseudoes_dontShrink["+wrapQuot(sType)+"](oEl, "+nMul+", "+nAdd+")");break;case"first-of-type":case"last-of-type":sType=(sType=="first-of-type"?"nth-of-type":"nth-last-of-type");sOption=1;case"nth-of-type":case"nth-last-of-type":sOption=restoreString(sOption);if(sOption=="even"){sOption="2n";}else{if(sOption=="odd"){sOption="2n+1";}}var nMul,nAdd;if(/([0-9]*)n([+-][0-9]+)*/.test(sOption)){nMul=parseInt(RegExp.$1)||1;nAdd=parseInt(RegExp.$2)||0;}else{nMul=Infinity;nAdd=parseInt(sOption);}oRet.nth=[nMul,nAdd,sType];
break;default:sOption=sOption?restoreString(sOption):"";aReturnCode.push("oPseudoes_dontShrink["+wrapQuot(sType)+"](oEl, "+wrapQuot(sOption)+")");break;}return"";});var sBody=sBody.replace(/\[(@?[\w-]+)(([!^~$*]?=)([^\]]*))?\]/g,function(_1,sKey,_2,sOp,sVal){sKey=restoreString(sKey);sVal=restoreString(sVal);if(sKey=="checked"||sKey=="disabled"||sKey=="enabled"||sKey=="readonly"||sKey=="selected"){if(!sVal){sOp="=";sVal="true";}}aExprs.push({key:sKey,op:sOp,val:sVal});return"";});var sClassName=null;var sBody=sBody.replace(/\.([\w-]+)/g,function(_,sClass){aExprs.push({key:"class",op:"~=",val:sClass});if(!sClassName){sClassName=sClass;}return"";});var sBody=sBody.replace(/#([\w-]+)/g,function(_,sIdValue){if(bXMLDocument){aExprs.push({key:"id",op:"=",val:sIdValue});}else{sId=sIdValue;}return"";});sTagName=sBody=="*"?"":sBody;var oVars={};for(var i=0,oExpr;oExpr=aExprs[i];i++){var sKey=oExpr.key;if(!oVars[sKey]){aDefineCode.push(getDefineCode(sKey));}aReturnCode.unshift(getReturnCode(oExpr));oVars[sKey]=true;}if(aDefineCode.length){oRet.defines="var "+aDefineCode.join(",")+";";
}if(aReturnCode.length){oRet.returns=aReturnCode.join("&&");}oRet.quotID=sId?wrapQuot(sId):"";oRet.quotTAG=sTagName?wrapQuot(bXMLDocument?sTagName:sTagName.toUpperCase()):"";if(bSupportByClassName){oRet.quotCLASS=sClassName?wrapQuot(sClassName):"";}oRet.returnsID=sId?"oEl.id == "+oRet.quotID+" && ":"";oRet.returnsTAG=sTagName&&sTagName!="*"?"oEl.tagName == "+oRet.quotTAG+" && ":"";return oRet;};var splitToParts=function(sQuery){var aParts=[];var sRel=" ";var sBody=sQuery.replace(/(.*?)\s*(!?[+>~ ]|!)\s*/g,function(_,sBody,sRelative){if(sBody){aParts.push({rel:sRel,body:sBody});}sRel=sRelative.replace(/\s+$/g,"")||" ";return"";});if(sBody){aParts.push({rel:sRel,body:sBody});}return aParts;};var isNth_dontShrink=function(oEl,sTagName,nMul,nAdd,sDirection){var nIndex=0;for(var oSib=oEl;oSib;oSib=oSib[sDirection]){if(oSib.nodeType==1&&(!sTagName||sTagName==oSib.tagName)){nIndex++;}}return nIndex%nMul==nAdd;};var compileParts=function(aParts){var aPartExprs=[];for(var i=0,oPart;oPart=aParts[i];i++){aPartExprs.push(getExpression(oPart.body));
}var sFunc="";var sPushCode="aRet.push(oEl); if (oOptions.single) { bStop = true; }";for(var i=aParts.length-1,oPart;oPart=aParts[i];i--){var oExpr=aPartExprs[i];var sPush=(debugOption.callback?"cost++;":"")+oExpr.defines;var sReturn="if (bStop) {"+(i==0?"return aRet;":"return;")+"}";if(oExpr.returns=="true"){sPush+=(sFunc?sFunc+"(oEl);":sPushCode)+sReturn;}else{sPush+="if ("+oExpr.returns+") {"+(sFunc?sFunc+"(oEl);":sPushCode)+sReturn+"}";}var sCheckTag="oEl.nodeType != 1";if(oExpr.quotTAG){sCheckTag="oEl.tagName != "+oExpr.quotTAG;}var sTmpFunc="(function(oBase"+(i==0?", oOptions) { var bStop = false; var aRet = [];":") {");if(oExpr.nth){sPush="if (isNth_dontShrink(oEl, "+(oExpr.quotTAG?oExpr.quotTAG:"false")+","+oExpr.nth[0]+","+oExpr.nth[1]+',"'+(oExpr.nth[2]=="nth-of-type"?"previousSibling":"nextSibling")+'")) {'+sPush+"}";}switch(oPart.rel){case" ":if(oExpr.quotID){sTmpFunc+="var oEl = oDocument_dontShrink.getElementById("+oExpr.quotID+");var oCandi = oEl;for (; oCandi; oCandi = (oCandi.parentNode || oCandi._IE5_parentNode)) {if (oCandi == oBase) break;}if (!oCandi || "+sCheckTag+") return aRet;"+sPush;
}else{sTmpFunc+="var aCandi = getChilds_dontShrink(oBase, "+(oExpr.quotTAG||'"*"')+", "+(oExpr.quotCLASS||"null")+");for (var i = 0, oEl; oEl = aCandi[i]; i++) {"+(oExpr.quotCLASS?"if ("+sCheckTag+") continue;":"")+sPush+"}";}break;case">":if(oExpr.quotID){sTmpFunc+="var oEl = oDocument_dontShrink.getElementById("+oExpr.quotID+");if ((oEl.parentNode || oEl._IE5_parentNode) != oBase || "+sCheckTag+") return aRet;"+sPush;}else{sTmpFunc+="for (var oEl = oBase.firstChild; oEl; oEl = oEl.nextSibling) {if ("+sCheckTag+") { continue; }"+sPush+"}";}break;case"+":if(oExpr.quotID){sTmpFunc+="var oEl = oDocument_dontShrink.getElementById("+oExpr.quotID+");var oPrev;for (oPrev = oEl.previousSibling; oPrev; oPrev = oPrev.previousSibling) { if (oPrev.nodeType == 1) break; }if (!oPrev || oPrev != oBase || "+sCheckTag+") return aRet;"+sPush;}else{sTmpFunc+="for (var oEl = oBase.nextSibling; oEl; oEl = oEl.nextSibling) { if (oEl.nodeType == 1) break; }if (!oEl || "+sCheckTag+") { return aRet; }"+sPush;}break;case"~":if(oExpr.quotID){sTmpFunc+="var oEl = oDocument_dontShrink.getElementById("+oExpr.quotID+");var oCandi = oEl;for (; oCandi; oCandi = oCandi.previousSibling) { if (oCandi == oBase) break; }if (!oCandi || "+sCheckTag+") return aRet;"+sPush;
}else{sTmpFunc+="for (var oEl = oBase.nextSibling; oEl; oEl = oEl.nextSibling) {if ("+sCheckTag+") { continue; }if (!markElement_dontShrink(oEl, "+i+")) { break; }"+sPush+"}";}break;case"!":if(oExpr.quotID){sTmpFunc+="var oEl = oDocument_dontShrink.getElementById("+oExpr.quotID+");for (; oBase; oBase = (oBase.parentNode || oBase._IE5_parentNode)) { if (oBase == oEl) break; }if (!oBase || "+sCheckTag+") return aRet;"+sPush;}else{sTmpFunc+="for (var oEl = (oBase.parentNode || oBase._IE5_parentNode); oEl; oEl = (oEl.parentNode || oEl._IE5_parentNode)) {if ("+sCheckTag+") { continue; }"+sPush+"}";}break;case"!>":if(oExpr.quotID){sTmpFunc+="var oEl = oDocument_dontShrink.getElementById("+oExpr.quotID+");var oRel = (oBase.parentNode || oBase._IE5_parentNode);if (!oRel || oEl != oRel || ("+sCheckTag+")) return aRet;"+sPush;}else{sTmpFunc+="var oEl = (oBase.parentNode || oBase._IE5_parentNode);if (!oEl || "+sCheckTag+") { return aRet; }"+sPush;}break;case"!+":if(oExpr.quotID){sTmpFunc+="var oEl = oDocument_dontShrink.getElementById("+oExpr.quotID+");var oRel;for (oRel = oBase.previousSibling; oRel; oRel = oRel.previousSibling) { if (oRel.nodeType == 1) break; }if (!oRel || oEl != oRel || ("+sCheckTag+")) return aRet;"+sPush;
}else{sTmpFunc+="for (oEl = oBase.previousSibling; oEl; oEl = oEl.previousSibling) { if (oEl.nodeType == 1) break; }if (!oEl || "+sCheckTag+") { return aRet; }"+sPush;}break;case"!~":if(oExpr.quotID){sTmpFunc+="var oEl = oDocument_dontShrink.getElementById("+oExpr.quotID+");var oRel;for (oRel = oBase.previousSibling; oRel; oRel = oRel.previousSibling) { if (oRel.nodeType != 1) { continue; }if (oRel == oEl) { break; }}if (!oRel || ("+sCheckTag+")) return aRet;"+sPush;}else{sTmpFunc+="for (oEl = oBase.previousSibling; oEl; oEl = oEl.previousSibling) {if ("+sCheckTag+") { continue; }if (!markElement_dontShrink(oEl, "+i+")) { break; }"+sPush+"}";}break;}sTmpFunc+=(i==0?"return aRet;":"")+"})";sFunc=sTmpFunc;}eval("var fpCompiled = "+sFunc+";");return fpCompiled;};var parseQuery=function(sQuery){var sCacheKey=sQuery;var fpSelf=arguments.callee;var fpFunction=fpSelf._cache[sCacheKey];if(!fpFunction){sQuery=backupKeys(sQuery);var aParts=splitToParts(sQuery);fpFunction=fpSelf._cache[sCacheKey]=compileParts(aParts);fpFunction.depth=aParts.length;
}return fpFunction;};parseQuery._cache={};var parseTestQuery=function(sQuery){var fpSelf=arguments.callee;var aSplitQuery=backupKeys(sQuery).split(/\s*,\s*/);var aResult=[];var nLen=aSplitQuery.length;var aFunc=[];for(var i=0;i<nLen;i++){aFunc.push((function(sQuery){var sCacheKey=sQuery;var fpFunction=fpSelf._cache[sCacheKey];if(!fpFunction){sQuery=backupKeys(sQuery);var oExpr=getExpression(sQuery);eval("fpFunction = function(oEl) { "+oExpr.defines+"return ("+oExpr.returnsID+oExpr.returnsTAG+oExpr.returns+"); };");}return fpFunction;})(restoreKeys(aSplitQuery[i])));}return aFunc;};parseTestQuery._cache={};var distinct=function(aList){var aDistinct=[];var oDummy={};for(var i=0,oEl;oEl=aList[i];i++){var nUID=getUID(oEl);if(oDummy[nUID]){continue;}aDistinct.push(oEl);oDummy[nUID]=true;}return aDistinct;};var markElement_dontShrink=function(oEl,nDepth){var nUID=getUID(oEl);if(cssquery._marked[nDepth][nUID]){return false;}cssquery._marked[nDepth][nUID]=true;return true;};var oResultCache=null;var bUseResultCache=false;
var bExtremeMode=false;var old_cssquery=function(sQuery,oParent,oOptions){if(typeof sQuery=="object"){var oResult={};for(var k in sQuery){if(sQuery.hasOwnProperty(k)){oResult[k]=arguments.callee(sQuery[k],oParent,oOptions);}}return oResult;}cost=0;var executeTime=new Date().getTime();var aRet;for(var r=0,rp=debugOption.repeat;r<rp;r++){aRet=(function(sQuery,oParent,oOptions){if(oOptions){if(!oOptions.oneTimeOffCache){oOptions.oneTimeOffCache=false;}}else{oOptions={oneTimeOffCache:false};}cssquery.safeHTML(oOptions.oneTimeOffCache);if(!oParent){oParent=document;}oDocument_dontShrink=oParent.ownerDocument||oParent.document||oParent;if(/\bMSIE\s([0-9]+(\.[0-9]+)*);/.test(navigator.userAgent)&&parseFloat(RegExp.$1)<6){try{oDocument_dontShrink.location;}catch(e){oDocument_dontShrink=document;}oDocument_dontShrink.firstChild=oDocument_dontShrink.getElementsByTagName("html")[0];oDocument_dontShrink.firstChild._IE5_parentNode=oDocument_dontShrink;}bXMLDocument=(typeof XMLDocument!="undefined")?(oDocument_dontShrink.constructor===XMLDocument):(!oDocument_dontShrink.location);
getUID=bXMLDocument?getUID4XML:getUID4HTML;clearKeys();var aSplitQuery=backupKeys(sQuery).split(/\s*,\s*/);var aResult=[];var nLen=aSplitQuery.length;for(var i=0;i<nLen;i++){aSplitQuery[i]=restoreKeys(aSplitQuery[i]);}for(var i=0;i<nLen;i++){var sSingleQuery=aSplitQuery[i];var aSingleQueryResult=null;var sResultCacheKey=sSingleQuery+(oOptions.single?"_single":"");var aCache=bUseResultCache?oResultCache[sResultCacheKey]:null;if(aCache){for(var j=0,oCache;oCache=aCache[j];j++){if(oCache.parent==oParent){aSingleQueryResult=oCache.result;break;}}}if(!aSingleQueryResult){var fpFunction=parseQuery(sSingleQuery);cssquery._marked=[];for(var j=0,nDepth=fpFunction.depth;j<nDepth;j++){cssquery._marked.push({});}aSingleQueryResult=distinct(fpFunction(oParent,oOptions));if(bUseResultCache&&!oOptions.oneTimeOffCache){if(!(oResultCache[sResultCacheKey] instanceof Array)){oResultCache[sResultCacheKey]=[];}oResultCache[sResultCacheKey].push({parent:oParent,result:aSingleQueryResult});}}aResult=aResult.concat(aSingleQueryResult);
}unsetNodeIndexes();return aResult;})(sQuery,oParent,oOptions);}executeTime=new Date().getTime()-executeTime;if(debugOption.callback){debugOption.callback(sQuery,cost,executeTime);}return aRet;};var cssquery;if(document.querySelectorAll){function _isNonStandardQueryButNotException(sQuery){return/\[\s*(?:checked|selected|disabled)/.test(sQuery);}function _commaRevise(sQuery,sChange){return sQuery.replace(/\,/gi,sChange);}var protoSlice=Array.prototype.slice;var _toArray=function(aArray){return protoSlice.apply(aArray);};try{protoSlice.apply(document.documentElement.childNodes);}catch(e){_toArray=function(aArray){var returnArray=[];var leng=aArray.length;for(var i=0;i<leng;i++){returnArray.push(aArray[i]);}return returnArray;};}cssquery=function(sQuery,oParent,oOptions){oParent=oParent||document;try{if(_isNonStandardQueryButNotException(sQuery)){throw Error("None Standard Query");}else{var sReviseQuery=sQuery;var oReviseParent=oParent;if(oParent.nodeType!=9){if(bExtremeMode){if(!oParent.id){oParent.id="p"+new Date().getTime()+parseInt(Math.random()*100000000);
}}else{throw Error("Parent Element has not ID.or It is not document.or None Extreme Mode.");}sReviseQuery=_commaRevise("#"+oParent.id+" "+sQuery,", #"+oParent.id);oReviseParent=oParent.ownerDocument||oParent.document||document;}if(oOptions&&oOptions.single){return[oReviseParent.querySelector(sReviseQuery)];}else{return _toArray(oReviseParent.querySelectorAll(sReviseQuery));}}}catch(e){return old_cssquery(sQuery,oParent,oOptions);}};}else{cssquery=old_cssquery;}cssquery.test=function(oEl,sQuery){clearKeys();var aFunc=parseTestQuery(sQuery);for(var i=0,nLen=aFunc.length;i<nLen;i++){if(aFunc[i](oEl)){return true;}}return false;};cssquery.useCache=function(bFlag){if(typeof bFlag!="undefined"){bUseResultCache=bFlag;cssquery.clearCache();}return bUseResultCache;};cssquery.clearCache=function(){oResultCache={};};cssquery.getSingle=function(sQuery,oParent,oOptions){return cssquery(sQuery,oParent,{single:true,oneTimeOffCache:oOptions?(!!oOptions.oneTimeOffCache):false})[0]||null;};cssquery.xpath=function(sXPath,oParent){var sXPath=sXPath.replace(/\/(\w+)(\[([0-9]+)\])?/g,function(_1,sTag,_2,sTh){sTh=sTh||"1";
return">"+sTag+":nth-of-type("+sTh+")";});return old_cssquery(sXPath,oParent);};cssquery.debug=function(fpCallback,nRepeat){debugOption.callback=fpCallback;debugOption.repeat=nRepeat||1;};cssquery.safeHTML=function(bFlag){var bIE=/MSIE/.test(window.navigator.userAgent);if(arguments.length>0){safeHTML=bFlag&&bIE;}return safeHTML||!bIE;};cssquery.version=sVersion;cssquery.release=function(){if(/MSIE/.test(window.navigator.userAgent)){delete validUID;validUID={};if(bUseResultCache){cssquery.clearCache();}}};cssquery._getCacheInfo=function(){return{uidCache:validUID,eleCache:oResultCache};};cssquery._resetUID=function(){UID=0;};cssquery.extreme=function(bExtreme){if(arguments.length==0){bExtreme=true;}bExtremeMode=bExtreme;};return cssquery;})();jindo.$Agent=function(){var cl=arguments.callee;var cc=cl._cached;if(cc){return cc;}if(!(this instanceof cl)){return new cl;}if(!cc){cl._cached=this;}this._navigator=navigator;};jindo.$Agent.prototype.navigator=function(){var info=new Object;var ver=-1;var nativeVersion=-1;
var u=this._navigator.userAgent;var v=this._navigator.vendor||"";function f(s,h){return((h||"").indexOf(s)>-1);}info.getName=function(){var name="";for(x in info){if(typeof info[x]=="boolean"&&info[x]&&info.hasOwnProperty(x)){name=x;}}return name;};info.webkit=f("WebKit",u);info.opera=(typeof window.opera!="undefined")||f("Opera",u);info.ie=!info.opera&&f("MSIE",u);info.chrome=info.webkit&&f("Chrome",u);info.safari=info.webkit&&!info.chrome&&f("Apple",v);info.firefox=f("Firefox",u);info.mozilla=f("Gecko",u)&&!info.safari&&!info.chrome&&!info.firefox;info.camino=f("Camino",v);info.netscape=f("Netscape",u);info.omniweb=f("OmniWeb",u);info.icab=f("iCab",v);info.konqueror=f("KDE",v);info.mobile=(f("Mobile",u)||f("Android",u)||f("Nokia",u)||f("webOS",u)||f("Opera Mini",u)||f("BlackBerry",u)||f("PPC",u)||f("Smartphone",u)||f("IEMobile",u))&&!f("iPad",u);info.msafari=(!f("IEMobile",u)&&f("Mobile",u))||(f("iPad",u)&&f("Safari",u));info.mopera=f("Opera Mini",u);info.mie=f("PPC",u)||f("Smartphone",u)||f("IEMobile",u);try{if(info.ie){ver=u.match(/(?:MSIE) ([0-9.]+)/)[1];
if(u.match(/(?:Trident)\/([0-9.]+)/)&&u.match(/(?:Trident)\/([0-9.]+)/)[1]==4){nativeVersion=8;}}else{if(info.safari||info.msafari){ver=parseFloat(u.match(/Safari\/([0-9.]+)/)[1]);if(ver==100){ver=1.1;}else{ver=[1,1.2,-1,1.3,2,3][Math.floor(ver/100)];}}else{if(info.mopera){ver=u.match(/(?:Opera\sMini)\/([0-9.]+)/)[1];}else{if(info.firefox||info.opera||info.omniweb){ver=u.match(/(?:Firefox|Opera|OmniWeb)\/([0-9.]+)/)[1];}else{if(info.mozilla){ver=u.match(/rv:([0-9.]+)/)[1];}else{if(info.icab){ver=u.match(/iCab[ \/]([0-9.]+)/)[1];}else{if(info.chrome){ver=u.match(/Chrome[ \/]([0-9.]+)/)[1];}}}}}}}info.version=parseFloat(ver);info.nativeVersion=parseFloat(nativeVersion);if(isNaN(info.version)){info.version=-1;}}catch(e){info.version=-1;}this.navigator=function(){return info;};return info;};jindo.$Agent.prototype.os=function(){var info=new Object;var u=this._navigator.userAgent;var p=this._navigator.platform;var f=function(s,h){return(h.indexOf(s)>-1);};info.getName=function(){var name="";for(x in info){if(typeof info[x]=="boolean"&&info[x]&&info.hasOwnProperty(x)){name=x;
}}return name;};info.win=f("Win",p);info.mac=f("Mac",p);info.linux=f("Linux",p);info.win2000=info.win&&(f("NT 5.0",u)||f("2000",u));info.winxp=info.win&&f("NT 5.1",u);info.xpsp2=info.winxp&&f("SV1",u);info.vista=info.win&&f("NT 6.0",u);info.win7=info.win&&f("NT 6.1",u);info.ipad=f("iPad",u);info.iphone=f("iPhone",u)&&!info.ipad;info.android=f("Android",u);info.nokia=f("Nokia",u);info.webos=f("webOS",u);info.blackberry=f("BlackBerry",u);info.mwin=f("PPC",u)||f("Smartphone",u)||f("IEMobile",u);this.os=function(){return info;};return info;};jindo.$Agent.prototype.flash=function(){var info=new Object;var p=this._navigator.plugins;var m=this._navigator.mimeTypes;var f=null;info.installed=false;info.version=-1;if(typeof p!="undefined"&&p.length){f=p["Shockwave Flash"];if(f){info.installed=true;if(f.description){info.version=parseFloat(f.description.match(/[0-9.]+/)[0]);}}if(p["Shockwave Flash 2.0"]){info.installed=true;info.version=2;}}else{if(typeof m!="undefined"&&m.length){f=m["application/x-shockwave-flash"];info.installed=(f&&f.enabledPlugin);
}else{for(var i=10;i>1;i--){try{f=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+i);info.installed=true;info.version=i;break;}catch(e){}}}}this.flash=function(){return info;};this.info=this.flash;return info;};jindo.$Agent.prototype.silverlight=function(){var info=new Object;var p=this._navigator.plugins;var s=null;info.installed=false;info.version=-1;if(typeof p!="undefined"&&p.length){s=p["Silverlight Plug-In"];if(s){info.installed=true;info.version=parseInt(s.description.split(".")[0]);if(s.description=="1.0.30226.2"){info.version=2;}}}else{try{s=new ActiveXObject("AgControl.AgControl");info.installed=true;if(s.isVersionSupported("3.0")){info.version=3;}else{if(s.isVersionSupported("2.0")){info.version=2;}else{if(s.isVersionSupported("1.0")){info.version=1;}}}}catch(e){}}this.silverlight=function(){return info;};return info;};jindo.$A=function(array){var cl=arguments.callee;if(typeof array=="undefined"||array==null){array=[];}if(array instanceof cl){return array;}if(!(this instanceof cl)){return new cl(array);
}this._array=[];if(array.constructor!=String){this._array=[];for(var i=0;i<array.length;i++){this._array[this._array.length]=array[i];}}};jindo.$A.prototype.toString=function(){return this._array.toString();};jindo.$A.prototype.get=function(nIndex){return this._array[nIndex];};jindo.$A.prototype.length=function(nLen,oValue){if(typeof nLen=="number"){var l=this._array.length;this._array.length=nLen;if(typeof oValue!="undefined"){for(var i=l;i<nLen;i++){this._array[i]=oValue;}}return this;}else{return this._array.length;}};jindo.$A.prototype.has=function(oValue){return(this.indexOf(oValue)>-1);};jindo.$A.prototype.indexOf=function(oValue){if(typeof this._array.indexOf!="undefined"){jindo.$A.prototype.indexOf=function(oValue){return this._array.indexOf(oValue);};}else{jindo.$A.prototype.indexOf=function(oValue){for(var i=0;i<this._array.length;i++){if(this._array[i]==oValue){return i;}}return -1;};}return this.indexOf(oValue);};jindo.$A.prototype.$value=function(){return this._array;};jindo.$A.prototype.push=function(oValue1){return this._array.push.apply(this._array,Array.prototype.slice.apply(arguments));
};jindo.$A.prototype.pop=function(){return this._array.pop();};jindo.$A.prototype.shift=function(){return this._array.shift();};jindo.$A.prototype.unshift=function(oValue1){this._array.unshift.apply(this._array,Array.prototype.slice.apply(arguments));return this._array.length;};jindo.$A.prototype.forEach=function(fCallback,oThis){if(typeof this._array.forEach=="function"){jindo.$A.prototype.forEach=function(fCallback,oThis){var arr=this._array;var errBreak=this.constructor.Break;var errContinue=this.constructor.Continue;function f(v,i,a){try{fCallback.call(oThis,v,i,a);}catch(e){if(!(e instanceof errContinue)){throw e;}}}try{this._array.forEach(f);}catch(e){if(!(e instanceof errBreak)){throw e;}}return this;};}else{jindo.$A.prototype.forEach=function(fCallback,oThis){var arr=this._array;var errBreak=this.constructor.Break;var errContinue=this.constructor.Continue;function f(v,i,a){try{fCallback.call(oThis,v,i,a);}catch(e){if(!(e instanceof errContinue)){throw e;}}}for(var i=0;i<arr.length;i++){try{f(arr[i],i,arr);
}catch(e){if(e instanceof errBreak){break;}throw e;}}return this;};}return this.forEach(fCallback,oThis);};jindo.$A.prototype.slice=function(nStart,nEnd){var a=this._array.slice.call(this._array,nStart,nEnd);return jindo.$A(a);};jindo.$A.prototype.splice=function(nIndex,nHowMany){var a=this._array.splice.apply(this._array,Array.prototype.slice.apply(arguments));return jindo.$A(a);};jindo.$A.prototype.shuffle=function(){this._array.sort(function(a,b){return Math.random()>Math.random()?1:-1;});return this;};jindo.$A.prototype.reverse=function(){this._array.reverse();return this;};jindo.$A.prototype.empty=function(){return this.length(0);};jindo.$A.Break=function(){if(!(this instanceof arguments.callee)){throw new arguments.callee;}};jindo.$A.Continue=function(){if(!(this instanceof arguments.callee)){throw new arguments.callee;}};jindo.$A.prototype.map=function(fCallback,oThis){if(typeof this._array.map=="function"){jindo.$A.prototype.map=function(fCallback,oThis){var arr=this._array;var errBreak=this.constructor.Break;
var errContinue=this.constructor.Continue;function f(v,i,a){try{return fCallback.call(oThis,v,i,a);}catch(e){if(e instanceof errContinue){return v;}else{throw e;}}}try{this._array=this._array.map(f);}catch(e){if(!(e instanceof errBreak)){throw e;}}return this;};}else{jindo.$A.prototype.map=function(fCallback,oThis){var arr=this._array;var returnArr=[];var errBreak=this.constructor.Break;var errContinue=this.constructor.Continue;function f(v,i,a){try{return fCallback.call(oThis,v,i,a);}catch(e){if(e instanceof errContinue){return v;}else{throw e;}}}for(var i=0;i<this._array.length;i++){try{returnArr[i]=f(arr[i],i,arr);}catch(e){if(e instanceof errBreak){return this;}else{throw e;}}}this._array=returnArr;return this;};}return this.map(fCallback,oThis);};jindo.$A.prototype.filter=function(fCallback,oThis){if(typeof this._array.filter!="undefined"){jindo.$A.prototype.filter=function(fCallback,oThis){return jindo.$A(this._array.filter(fCallback,oThis));};}else{jindo.$A.prototype.filter=function(fCallback,oThis){var ar=[];
this.forEach(function(v,i,a){if(fCallback.call(oThis,v,i,a)===true){ar[ar.length]=v;}});return jindo.$A(ar);};}return this.filter(fCallback,oThis);};jindo.$A.prototype.every=function(fCallback,oThis){if(typeof this._array.every!="undefined"){jindo.$A.prototype.every=function(fCallback,oThis){return this._array.every(fCallback,oThis);};}else{jindo.$A.prototype.every=function(fCallback,oThis){var result=true;this.forEach(function(v,i,a){if(fCallback.call(oThis,v,i,a)===false){result=false;jindo.$A.Break();}});return result;};}return this.every(fCallback,oThis);};jindo.$A.prototype.some=function(fCallback,oThis){if(typeof this._array.some!="undefined"){jindo.$A.prototype.some=function(fCallback,oThis){return this._array.some(fCallback,oThis);};}else{jindo.$A.prototype.some=function(fCallback,oThis){var result=false;this.forEach(function(v,i,a){if(fCallback.call(oThis,v,i,a)===true){result=true;jindo.$A.Break();}});return result;};}return this.some(fCallback,oThis);};jindo.$A.prototype.refuse=function(oValue1){var a=jindo.$A(Array.prototype.slice.apply(arguments));
return this.filter(function(v,i){return !a.has(v);});};jindo.$A.prototype.unique=function(){var a=this._array,b=[],l=a.length;var i,j;for(i=0;i<l;i++){for(j=0;j<b.length;j++){if(a[i]==b[j]){break;}}if(j>=b.length){b[j]=a[i];}}this._array=b;return this;};jindo.$Ajax=function(url,option){var cl=arguments.callee;if(!(this instanceof cl)){return new cl(url,option);}function _getXHR(){if(window.XMLHttpRequest){return new XMLHttpRequest();}else{if(ActiveXObject){try{return new ActiveXObject("MSXML2.XMLHTTP");}catch(e){return new ActiveXObject("Microsoft.XMLHTTP");}return null;}}}var loc=location.toString();var domain="";try{domain=loc.match(/^https?:\/\/([a-z0-9_\-\.]+)/i)[1];}catch(e){}this._status=0;this._url=url;this._options=new Object;this._headers=new Object;this._options={type:"xhr",method:"post",proxy:"",timeout:0,onload:function(req){},onerror:null,ontimeout:function(req){},jsonp_charset:"utf-8",callbackid:"",callbackname:"",sendheader:true,async:true,decode:true,postBody:false};this.option(option);if(jindo.$Ajax.CONFIG){this.option(jindo.$Ajax.CONFIG);
}var _opt=this._options;_opt.type=_opt.type.toLowerCase();_opt.method=_opt.method.toLowerCase();if(typeof window.__jindo2_callback=="undefined"){window.__jindo2_callback=new Array();}switch(_opt.type){case"put":case"delete":case"get":case"post":_opt.method=_opt.type;_opt.type="xhr";case"xhr":this._request=_getXHR();break;case"flash":if(!jindo.$Ajax.SWFRequest){throw Error("Require jindo.$Ajax.SWFRequest");}this._request=new jindo.$Ajax.SWFRequest();this._request._decode=_opt.decode;break;case"jsonp":if(!jindo.$Ajax.JSONPRequest){throw Error("Require jindo.$Ajax.JSONPRequest");}_opt.method="get";this._request=new jindo.$Ajax.JSONPRequest();this._request.charset=_opt.jsonp_charset;this._request.callbackid=_opt.callbackid;this._request.callbackname=_opt.callbackname;break;case"iframe":if(!jindo.$Ajax.FrameRequest){throw Error("Require jindo.$Ajax.FrameRequest");}this._request=new jindo.$Ajax.FrameRequest();this._request._proxy=_opt.proxy;break;}};jindo.$Ajax.prototype._onload=(function(isIE){if(isIE){return function(){var bSuccess=this._request.readyState==4&&this._request.status==200;
var oResult;if(this._request.readyState==4){try{if(this._request.status!=200&&typeof this._options.onerror=="function"){if(!this._request.status==0){this._options.onerror(jindo.$Ajax.Response(this._request));}}else{oResult=this._options.onload(jindo.$Ajax.Response(this._request));}}finally{if(typeof this._oncompleted=="function"){this._oncompleted(bSuccess,oResult);}if(this._options.type!="jsonp"){this.abort();try{delete this._request.onload;}catch(e){this._request.onload=undefined;}}delete this._request.onreadystatechange;}}};}else{return function(){var bSuccess=this._request.readyState==4&&this._request.status==200;var oResult;if(this._request.readyState==4){try{if(this._request.status!=200&&typeof this._options.onerror=="function"){this._options.onerror(jindo.$Ajax.Response(this._request));}else{oResult=this._options.onload(jindo.$Ajax.Response(this._request));}}finally{this._status--;if(typeof this._oncompleted=="function"){this._oncompleted(bSuccess,oResult);}}}};}})(/MSIE/.test(window.navigator.userAgent));
jindo.$Ajax.prototype.request=function(oData){this._status++;var t=this;var req=this._request;var opt=this._options;var data,v,a=[],data="";var _timer=null;var url=this._url;this._is_abort=false;if(opt.postBody&&opt.type.toUpperCase()=="XHR"&&opt.method.toUpperCase()!="GET"){if(typeof oData=="string"){data=oData;}else{data=jindo.$Json(oData).toString();}}else{if(typeof oData=="undefined"||!oData){data=null;}else{for(var k in oData){if(oData.hasOwnProperty(k)){v=oData[k];if(typeof v=="function"){v=v();}if(v instanceof Array||v instanceof jindo.$A){jindo.$A(v).forEach(function(value,index,array){a[a.length]=k+"="+encodeURIComponent(value);});}else{a[a.length]=k+"="+encodeURIComponent(v);}}}data=a.join("&");}}if(data&&opt.type.toUpperCase()=="XHR"&&opt.method.toUpperCase()=="GET"){if(url.indexOf("?")==-1){url+="?";}else{url+="&";}url+=data;data=null;}req.open(opt.method.toUpperCase(),url,opt.async);if(opt.type.toUpperCase()=="XHR"&&opt.method.toUpperCase()=="GET"&&/MSIE/.test(window.navigator.userAgent)){req.setRequestHeader("If-Modified-Since","Thu, 1 Jan 1970 00:00:00 GMT");
}if(opt.sendheader){req.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8");req.setRequestHeader("charset","utf-8");for(var x in this._headers){if(this._headers.hasOwnProperty(x)){if(typeof this._headers[x]=="function"){continue;}req.setRequestHeader(x,String(this._headers[x]));}}}var navi=navigator.userAgent;if(req.addEventListener&&!(navi.indexOf("Opera")>-1)&&!(navi.indexOf("MSIE")>-1)){if(this._loadFunc){req.removeEventListener("load",this._loadFunc,false);}this._loadFunc=function(rq){clearTimeout(_timer);t._onload(rq);};req.addEventListener("load",this._loadFunc,false);}else{if(typeof req.onload!="undefined"){req.onload=function(rq){if(req.readyState==4&&!t._is_abort){clearTimeout(_timer);t._onload(rq);}};}else{if(window.navigator.userAgent.match(/(?:MSIE) ([0-9.]+)/)[1]==6&&opt.async){var onreadystatechange=function(rq){if(req.readyState==4&&!t._is_abort){if(_timer){clearTimeout(_timer);}t._onload(rq);clearInterval(t._interval);}};this._interval=setInterval(onreadystatechange,300);
}else{req.onreadystatechange=function(rq){if(req.readyState==4){clearTimeout(_timer);t._onload(rq);}};}}}if(opt.timeout>0){_timer=setTimeout(function(){t._is_abort=true;if(t._interval){clearInterval(t._interval);}try{req.abort();}catch(e){}opt.ontimeout(req);if(typeof t._oncompleted=="function"){t._oncompleted(false);}},opt.timeout*1000);}this._test_url=url;req.send(data);return this;};jindo.$Ajax.prototype.isIdle=function(){return this._status==0;};jindo.$Ajax.prototype.abort=function(){try{if(this._interval){clearInterval(this._interval);}this._is_abort=true;this._request.abort();}finally{this._status--;}return this;};jindo.$Ajax.prototype.option=function(name,value){if(typeof name=="undefined"){return"";}if(typeof name=="string"){if(typeof value=="undefined"){return this._options[name];}this._options[name]=value;return this;}try{for(var x in name){if(name.hasOwnProperty(x)){this._options[x]=name[x];}}}catch(e){}return this;};jindo.$Ajax.prototype.header=function(name,value){if(typeof name=="undefined"){return"";
}if(typeof name=="string"){if(typeof value=="undefined"){return this._headers[name];}this._headers[name]=value;return this;}try{for(var x in name){if(name.hasOwnProperty(x)){this._headers[x]=name[x];}}}catch(e){}return this;};jindo.$Ajax.Response=function(req){if(this===jindo.$Ajax){return new jindo.$Ajax.Response(req);}this._response=req;};jindo.$Ajax.Response.prototype.xml=function(){return this._response.responseXML;};jindo.$Ajax.Response.prototype.text=function(){return this._response.responseText;};jindo.$Ajax.Response.prototype.status=function(){return this._response.status;};jindo.$Ajax.Response.prototype.readyState=function(){return this._response.readyState;};jindo.$Ajax.Response.prototype.json=function(){if(this._response.responseJSON){return this._response.responseJSON;}else{if(this._response.responseText){try{return eval("("+this._response.responseText+")");}catch(e){return{};}}}return{};};jindo.$Ajax.Response.prototype.header=function(name){if(typeof name=="string"){return this._response.getResponseHeader(name);
}return this._response.getAllResponseHeaders();};jindo.$Ajax.RequestBase=jindo.$Class({_respHeaderString:"",callbackid:"",callbackname:"",responseXML:null,responseJSON:null,responseText:"",status:404,readyState:0,$init:function(){},onload:function(){},abort:function(){},open:function(){},send:function(){},setRequestHeader:function(sName,sValue){this._headers[sName]=sValue;},getResponseHeader:function(sName){return this._respHeaders[sName]||"";},getAllResponseHeaders:function(){return this._respHeaderString;},_getCallbackInfo:function(){var id="";if(this.callbackid!=""){var idx=0;do{id="_"+this.callbackid+"_"+idx;idx++;}while(window.__jindo2_callback[id]);}else{do{id="_"+Math.floor(Math.random()*10000);}while(window.__jindo2_callback[id]);}if(this.callbackname==""){this.callbackname="_callback";}return{callbackname:this.callbackname,id:id,name:"window.__jindo2_callback."+id};}});jindo.$Ajax.JSONPRequest=jindo.$Class({_headers:{},_respHeaders:{},charset:"utf-8",_script:null,_onerror:null,_callback:function(data){if(this._onerror){clearTimeout(this._onerror);
this._onerror=null;}var self=this;this.responseJSON=data;this.onload(this);setTimeout(function(){self.abort();},10);},abort:function(){if(this._script){try{this._script.parentNode.removeChild(this._script);}catch(e){}}},open:function(method,url){this.responseJSON=null;this._url=url;},send:function(data){var t=this;var info=this._getCallbackInfo();var head=document.getElementsByTagName("head")[0];this._script=jindo.$("<script>");this._script.type="text/javascript";this._script.charset=this.charset;if(head){head.appendChild(this._script);}else{if(document.body){document.body.appendChild(this._script);}}window.__jindo2_callback[info.id]=function(data){try{t.readyState=4;t.status=200;t._callback(data);}finally{delete window.__jindo2_callback[info.id];}};var agent=jindo.$Agent();if(agent.navigator().ie||agent.navigator().opera){this._script.onreadystatechange=function(){if(this.readyState=="loaded"){if(!t.responseJSON){t.readyState=4;t.status=500;t._onerror=setTimeout(function(){t._callback(null);},200);}this.onreadystatechange=null;
}};}else{this._script.onload=function(){if(!t.responseJSON){t.readyState=4;t.status=500;t._onerror=setTimeout(function(){t._callback(null);},200);}this.onload=null;this.onerror=null;};this._script.onerror=function(){if(!t.responseJSON){t.readyState=4;t.status=404;t._onerror=setTimeout(function(){t._callback(null);},200);}this.onerror=null;this.onload=null;};}var delimiter="&";if(this._url.indexOf("?")==-1){delimiter="?";}if(data){data="&"+data;}else{data="";}this._test_url=this._url+delimiter+info.callbackname+"="+info.name+data;this._script.src=this._url+delimiter+info.callbackname+"="+info.name+data;}}).extend(jindo.$Ajax.RequestBase);jindo.$Ajax.SWFRequest=jindo.$Class({_decode:true,_headers:{},_respHeaders:{},_getFlashObj:function(){var navi=jindo.$Agent().navigator();var obj;if(navi.ie&&navi.version==9){obj=document.getElementById(jindo.$Ajax.SWFRequest._tmpId);}else{obj=window.document[jindo.$Ajax.SWFRequest._tmpId];}return(this._getFlashObj=function(){return obj;})();},_callback:function(status,data,headers){this.readyState=4;
if((typeof status).toLowerCase()=="number"){this.status=status;}else{if(status==true){this.status=200;}}if(this.status==200){if(typeof data=="string"){try{this.responseText=this._decode?decodeURIComponent(data):data;if(!this.responseText||this.responseText==""){this.responseText=data;}}catch(e){if(e.name=="URIError"){this.responseText=data;if(!this.responseText||this.responseText==""){this.responseText=data;}}}}if(typeof headers=="object"){this._respHeaders=headers;}}this.onload(this);},open:function(method,url){var re=/https?:\/\/([a-z0-9_\-\.]+)/i;this._url=url;this._method=method;},send:function(data){this.responseXML=false;this.responseText="";var t=this;var dat={};var info=this._getCallbackInfo();var swf=this._getFlashObj();function f(arg){switch(typeof arg){case"string":return'"'+arg.replace(/\"/g,'\\"')+'"';break;case"number":return arg;break;case"object":var ret="",arr=[];if(arg instanceof Array){for(var i=0;i<arg.length;i++){arr[i]=f(arg[i]);}ret="["+arr.join(",")+"]";}else{for(var x in arg){if(arg.hasOwnProperty(x)){arr[arr.length]=f(x)+":"+f(arg[x]);
}}ret="{"+arr.join(",")+"}";}return ret;default:return'""';}}data=(data||"").split("&");for(var i=0;i<data.length;i++){pos=data[i].indexOf("=");key=data[i].substring(0,pos);val=data[i].substring(pos+1);dat[key]=decodeURIComponent(val);}window.__jindo2_callback[info.id]=function(success,data){try{t._callback(success,data);}finally{delete window.__jindo2_callback[info.id];}};var oData={url:this._url,type:this._method,data:dat,charset:"UTF-8",callback:info.name,header_json:this._headers};swf.requestViaFlash(f(oData));}}).extend(jindo.$Ajax.RequestBase);jindo.$Ajax.SWFRequest.write=function(swf_path){if(typeof swf_path=="undefined"){swf_path="./ajax.swf";}jindo.$Ajax.SWFRequest._tmpId="tmpSwf"+(new Date()).getMilliseconds()+Math.floor(Math.random()*100000);var activeCallback="me2Jindo.$Ajax.SWFRequest.loaded";document.write('<div style="position:absolute;top:-1000px;left:-1000px"><object id="'+jindo.$Ajax.SWFRequest._tmpId+'" width="1" height="1" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"><param name="movie" value="'+swf_path+'"><param name = "FlashVars" value = "activeCallback='+activeCallback+'" /><param name = "allowScriptAccess" value = "always" /><embed name="'+jindo.$Ajax.SWFRequest._tmpId+'" src="'+swf_path+'" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" width="1" height="1" allowScriptAccess="always" swLiveConnect="true" FlashVars="activeCallback='+activeCallback+'"></embed></object></div>');
};jindo.$Ajax.SWFRequest.activeFlash=false;jindo.$Ajax.SWFRequest.loaded=function(){jindo.$Ajax.SWFRequest.activeFlash=true;};jindo.$Ajax.FrameRequest=jindo.$Class({_headers:{},_respHeaders:{},_frame:null,_proxy:"",_domain:"",_callback:function(id,data,header){var self=this;this.readyState=4;this.status=200;this.responseText=data;this._respHeaderString=header;header.replace(/^([\w\-]+)\s*:\s*(.+)$/m,function($0,$1,$2){self._respHeaders[$1]=$2;});this.onload(this);setTimeout(function(){self.abort();},10);},abort:function(){if(this._frame){try{this._frame.parentNode.removeChild(this._frame);}catch(e){}}},open:function(method,url){var re=/https?:\/\/([a-z0-9_\-\.]+)/i;var dom=document.location.toString().match(re);this._method=method;this._url=url;this._remote=String(url).match(/(https?:\/\/[a-z0-9_\-\.]+)(:[0-9]+)?/i)[0];this._frame=null;this._domain=(dom[1]!=document.domain)?document.domain:"";},send:function(data){this.responseXML="";this.responseText="";var t=this;var re=/https?:\/\/([a-z0-9_\-\.]+)/i;var info=this._getCallbackInfo();
var url;var _aStr=[];_aStr.push(this._remote+"/ajax_remote_callback.html?method="+this._method);var header=new Array;window.__jindo2_callback[info.id]=function(id,data,header){try{t._callback(id,data,header);}finally{delete window.__jindo2_callback[info.id];}};for(var x in this._headers){if(this._headers.hasOwnProperty(x)){header[header.length]="'"+x+"':'"+this._headers[x]+"'";}}header="{"+header.join(",")+"}";_aStr.push("&id="+info.id);_aStr.push("&header="+encodeURIComponent(header));_aStr.push("&proxy="+encodeURIComponent(this._proxy));_aStr.push("&domain="+this._domain);_aStr.push("&url="+encodeURIComponent(this._url.replace(re,"")));_aStr.push("#"+encodeURIComponent(data));var fr=this._frame=jindo.$("<iframe>");fr.style.position="absolute";fr.style.visibility="hidden";fr.style.width="1px";fr.style.height="1px";var body=document.body||document.documentElement;if(body.firstChild){body.insertBefore(fr,body.firstChild);}else{body.appendChild(fr);}fr.src=_aStr.join("");}}).extend(jindo.$Ajax.RequestBase);jindo.$Ajax.Queue=function(option){var cl=arguments.callee;
if(!(this instanceof cl)){return new cl(option);}this._options={async:false,useResultAsParam:false,stopOnFailure:false};this.option(option);this._queue=[];};jindo.$Ajax.Queue.prototype.option=function(name,value){if(typeof name=="undefined"){return"";}if(typeof name=="string"){if(typeof value=="undefined"){return this._options[name];}this._options[name]=value;return this;}try{for(var x in name){if(name.hasOwnProperty(x)){this._options[x]=name[x];}}}catch(e){}return this;};jindo.$Ajax.Queue.prototype.add=function(oAjax,oParam){this._queue.push({obj:oAjax,param:oParam});};jindo.$Ajax.Queue.prototype.request=function(){if(this.option("async")){this._requestAsync();}else{this._requestSync(0);}};jindo.$Ajax.Queue.prototype._requestSync=function(nIdx,oParam){var t=this;if(this._queue.length>nIdx+1){this._queue[nIdx].obj._oncompleted=function(bSuccess,oResult){if(!t.option("stopOnFailure")||bSuccess){t._requestSync(nIdx+1,oResult);}};}var _oParam=this._queue[nIdx].param||{};if(this.option("useResultAsParam")&&oParam){try{for(var x in oParam){if(typeof _oParam[x]=="undefined"&&oParam.hasOwnProperty(x)){_oParam[x]=oParam[x];
}}}catch(e){}}this._queue[nIdx].obj.request(_oParam);};jindo.$Ajax.Queue.prototype._requestAsync=function(){for(var i=0;i<this._queue.length;i++){this._queue[i].obj.request(this._queue[i].param);}};jindo.$H=function(hashObject){var cl=arguments.callee;if(typeof hashObject=="undefined"){hashObject=new Object;}if(hashObject instanceof cl){return hashObject;}if(!(this instanceof cl)){return new cl(hashObject);}this._table={};for(var k in hashObject){if(hashObject.hasOwnProperty(k)){this._table[k]=hashObject[k];}}};jindo.$H.prototype.$value=function(){return this._table;};jindo.$H.prototype.$=function(key,value){if(typeof value=="undefined"){return this._table[key];}this._table[key]=value;return this;};jindo.$H.prototype.length=function(){var i=0;for(var k in this._table){if(this._table.hasOwnProperty(k)){if(typeof Object.prototype[k]!="undeifned"&&Object.prototype[k]===this._table[k]){continue;}i++;}}return i;};jindo.$H.prototype.forEach=function(callback,thisObject){var t=this._table;var h=this.constructor;for(var k in t){if(t.hasOwnProperty(k)){if(!t.propertyIsEnumerable(k)){continue;
}try{callback.call(thisObject,t[k],k,t);}catch(e){if(e instanceof h.Break){break;}if(e instanceof h.Continue){continue;}throw e;}}}return this;};jindo.$H.prototype.filter=function(callback,thisObject){var h=jindo.$H();this.forEach(function(v,k,o){if(callback.call(thisObject,v,k,o)===true){h.add(k,v);}});return h;};jindo.$H.prototype.map=function(callback,thisObject){var t=this._table;this.forEach(function(v,k,o){t[k]=callback.call(thisObject,v,k,o);});return this;};jindo.$H.prototype.add=function(key,value){this._table[key]=value;return this;};jindo.$H.prototype.remove=function(key){if(typeof this._table[key]=="undefined"){return null;}var val=this._table[key];delete this._table[key];return val;};jindo.$H.prototype.search=function(value){var result=false;this.forEach(function(v,k,o){if(v===value){result=k;jindo.$H.Break();}});return result;};jindo.$H.prototype.hasKey=function(key){var result=false;return(typeof this._table[key]!="undefined");};jindo.$H.prototype.hasValue=function(value){return(this.search(value)!==false);
};jindo.$H.prototype.sort=function(){var o=new Object;var a=this.values();var k=false;a.sort();for(var i=0;i<a.length;i++){k=this.search(a[i]);o[k]=a[i];delete this._table[k];}this._table=o;return this;};jindo.$H.prototype.ksort=function(){var o=new Object;var a=this.keys();a.sort();for(var i=0;i<a.length;i++){o[a[i]]=this._table[a[i]];}this._table=o;return this;};jindo.$H.prototype.keys=function(){var keys=new Array;for(var k in this._table){if(this._table.hasOwnProperty(k)){keys.push(k);}}return keys;};jindo.$H.prototype.values=function(){var values=[];for(var k in this._table){if(this._table.hasOwnProperty(k)){values[values.length]=this._table[k];}}return values;};jindo.$H.prototype.toQueryString=function(){var buf=[],val=null,idx=0;for(var k in this._table){if(this._table.hasOwnProperty(k)){if(typeof(val=this._table[k])=="object"&&val.constructor==Array){for(i=0;i<val.length;i++){buf[buf.length]=encodeURIComponent(k)+"[]="+encodeURIComponent(val[i]+"");}}else{buf[buf.length]=encodeURIComponent(k)+"="+encodeURIComponent(this._table[k]+"");
}}}return buf.join("&");};jindo.$H.prototype.empty=function(){var keys=this.keys();for(var i=0;i<keys.length;i++){delete this._table[keys[i]];}return this;};jindo.$H.Break=function(){if(!(this instanceof arguments.callee)){throw new arguments.callee;}};jindo.$H.Continue=function(){if(!(this instanceof arguments.callee)){throw new arguments.callee;}};jindo.$Json=function(sObject){var cl=arguments.callee;if(typeof sObject=="undefined"){sObject=new Object;}if(sObject instanceof cl){return sObject;}if(!(this instanceof cl)){return new cl(sObject);}if(typeof sObject=="string"){this._object=jindo.$Json._oldMakeJSON(sObject);}else{this._object=sObject;}};jindo.$Json._oldMakeJSON=function(sObject){try{if(/^(?:\s*)[\{\[]/.test(sObject)){sObject=eval("("+sObject+")");}else{sObject=sObject;}}catch(e){sObject={};}return sObject;};jindo.$Json.fromXML=function(sXML){var o=new Object;var re=/\s*<(\/?[\w:\-]+)((?:\s+[\w:\-]+\s*=\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'))*)\s*((?:\/>)|(?:><\/\1>|\s*))|\s*<!\[CDATA\[([\w\W]*?)\]\]>\s*|\s*>?([^<]*)/ig;
var re2=/^[0-9]+(?:\.[0-9]+)?$/;var ec={"&amp;":"&","&nbsp;":" ","&quot;":'"',"&lt;":"<","&gt;":">"};var fg={tags:["/"],stack:[o]};var es=function(s){if(typeof s=="undefined"){return"";}return s.replace(/&[a-z]+;/g,function(m){return(typeof ec[m]=="string")?ec[m]:m;});};var at=function(s,c){s.replace(/([\w\:\-]+)\s*=\s*(?:"((?:\\"|[^"])*)"|'((?:\\'|[^'])*)')/g,function($0,$1,$2,$3){c[$1]=es(($2?$2.replace(/\\"/g,'"'):undefined)||($3?$3.replace(/\\'/g,"'"):undefined));});};var em=function(o){for(var x in o){if(o.hasOwnProperty(x)){if(Object.prototype[x]){continue;}return false;}}return true;};var cb=function($0,$1,$2,$3,$4,$5){var cur,cdata="";var idx=fg.stack.length-1;if(typeof $1=="string"&&$1){if($1.substr(0,1)!="/"){var has_attr=(typeof $2=="string"&&$2);var closed=(typeof $3=="string"&&$3);var newobj=(!has_attr&&closed)?"":{};cur=fg.stack[idx];if(typeof cur[$1]=="undefined"){cur[$1]=newobj;cur=fg.stack[idx+1]=cur[$1];}else{if(cur[$1] instanceof Array){var len=cur[$1].length;cur[$1][len]=newobj;cur=fg.stack[idx+1]=cur[$1][len];
}else{cur[$1]=[cur[$1],newobj];cur=fg.stack[idx+1]=cur[$1][1];}}if(has_attr){at($2,cur);}fg.tags[idx+1]=$1;if(closed){fg.tags.length--;fg.stack.length--;}}else{fg.tags.length--;fg.stack.length--;}}else{if(typeof $4=="string"&&$4){cdata=$4;}else{if(typeof $5=="string"&&$5){cdata=es($5);}}}if(cdata.replace(/^\s+/g,"").length>0){var par=fg.stack[idx-1];var tag=fg.tags[idx];if(re2.test(cdata)){cdata=parseFloat(cdata);}else{if(cdata=="true"||cdata=="false"){cdata=new Boolean(cdata);}}if(typeof par=="undefined"){return;}if(par[tag] instanceof Array){var o=par[tag];if(typeof o[o.length-1]=="object"&&!em(o[o.length-1])){o[o.length-1].$cdata=cdata;o[o.length-1].toString=function(){return cdata;};}else{o[o.length-1]=cdata;}}else{if(typeof par[tag]=="object"&&!em(par[tag])){par[tag].$cdata=cdata;par[tag].toString=function(){return cdata;};}else{par[tag]=cdata;}}}};sXML=sXML.replace(/<(\?|\!-)[^>]*>/g,"");sXML.replace(re,cb);return jindo.$Json(o);};jindo.$Json.prototype.get=function(sPath){var o=this._object;var p=sPath.split("/");
var re=/^([\w:\-]+)\[([0-9]+)\]$/;var stack=[[o]],cur=stack[0];var len=p.length,c_len,idx,buf,j,e;for(var i=0;i<len;i++){if(p[i]=="."||p[i]==""){continue;}if(p[i]==".."){stack.length--;}else{buf=[];idx=-1;c_len=cur.length;if(c_len==0){return[];}if(re.test(p[i])){idx=+RegExp.$2;}for(j=0;j<c_len;j++){e=cur[j][p[i]];if(typeof e=="undefined"){continue;}if(e instanceof Array){if(idx>-1){if(idx<e.length){buf[buf.length]=e[idx];}}else{buf=buf.concat(e);}}else{if(idx==-1){buf[buf.length]=e;}}}stack[stack.length]=buf;}cur=stack[stack.length-1];}return cur;};jindo.$Json.prototype.toString=function(){if(window.JSON&&window.JSON.stringify){jindo.$Json.prototype.toString=function(){try{return window.JSON.stringify(this._object);}catch(e){return jindo.$Json._oldToString(this._object);}};}else{jindo.$Json.prototype.toString=function(){return jindo.$Json._oldToString(this._object);};}return this.toString();};jindo.$Json._oldToString=function(oObj){var func={$:function($){if(typeof $=="object"&&$==null){return"null";}if(typeof $=="undefined"){return'""';
}if(typeof $=="boolean"){return $?"true":"false";}if(typeof $=="string"){return this.s($);}if(typeof $=="number"){return $;}if($ instanceof Array){return this.a($);}if($ instanceof Object){return this.o($);}},s:function(s){var e={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r","\t":"\\t"};var c=function(m){return(typeof e[m]!="undefined")?e[m]:m;};return'"'+s.replace(/[\\"'\n\r\t]/g,c)+'"';},a:function(a){var s="[",c="",n=a.length;for(var i=0;i<n;i++){if(typeof a[i]=="function"){continue;}s+=c+this.$(a[i]);if(!c){c=",";}}return s+"]";},o:function(o){o=jindo.$H(o).ksort().$value();var s="{",c="";for(var x in o){if(o.hasOwnProperty(x)){if(typeof o[x]=="function"){continue;}s+=c+this.s(x)+":"+this.$(o[x]);if(!c){c=",";}}}return s+"}";}};return func.$(oObj);};jindo.$Json.prototype.toXML=function(){var f=function($,tag){var t=function(s,at){return"<"+tag+(at||"")+">"+s+"</"+tag+">";};switch(typeof $){case"undefined":case"null":return t("");case"number":return t($);case"string":if($.indexOf("<")<0){return t($.replace(/&/g,"&amp;"));
}else{return t("<![CDATA["+$+"]]>");}case"boolean":return t(String($));case"object":var ret="";if($ instanceof Array){var len=$.length;for(var i=0;i<len;i++){ret+=f($[i],tag);}}else{var at="";for(var x in $){if($.hasOwnProperty(x)){if(x=="$cdata"||typeof $[x]=="function"){continue;}ret+=f($[x],x);}}if(tag){ret=t(ret,at);}}return ret;}};return f(this._object,"");};jindo.$Json.prototype.toObject=function(){return this._object;};jindo.$Json.prototype.compare=function(oData){return jindo.$Json._oldToString(this._object).toString()==jindo.$Json._oldToString(jindo.$Json(oData).$value()).toString();};jindo.$Json.prototype.$value=jindo.$Json.prototype.toObject;jindo.$Element=function(el){var cl=arguments.callee;if(el&&el instanceof cl){return el;}if(el===null||typeof el=="undefined"){return null;}if(!(this instanceof cl)){return new cl(el);}this._element=(typeof el=="string")?jindo.$(el):el;var tag=this._element.tagName;this.tag=(typeof tag!="undefined")?tag.toLowerCase():"";};var _j_ag=navigator.userAgent;var IS_IE=_j_ag.indexOf("MSIE")>-1;
var IS_FF=_j_ag.indexOf("Firefox")>-1;var IS_OP=_j_ag.indexOf("Opera")>-1;var IS_SF=_j_ag.indexOf("Apple")>-1;var IS_CH=_j_ag.indexOf("Chrome")>-1;jindo.$Element.prototype.$value=function(){return this._element;};jindo.$Element.prototype.visible=function(bVisible,sDisplay){if(typeof bVisible!="undefined"){this[bVisible?"show":"hide"](sDisplay);return this;}return(this.css("display")!="none");};jindo.$Element.prototype.show=function(sDisplay){var s=this._element.style;var b="block";var c={p:b,div:b,form:b,h1:b,h2:b,h3:b,h4:b,ol:b,ul:b,fieldset:b,td:"table-cell",th:"table-cell",li:"list-item",table:"table",thead:"table-header-group",tbody:"table-row-group",tfoot:"table-footer-group",tr:"table-row",col:"table-column",colgroup:"table-column-group",caption:"table-caption",dl:b,dt:b,dd:b};try{if(sDisplay){s.display=sDisplay;}else{var type=c[this.tag];s.display=type||"inline";}}catch(e){s.display="block";}return this;};jindo.$Element.prototype.hide=function(){this._element.style.display="none";return this;};jindo.$Element.prototype.toggle=function(sDisplay){this[this.visible()?"hide":"show"](sDisplay);
return this;};jindo.$Element.prototype.opacity=function(value){var v,e=this._element,b=(this._getCss(e,"display")!="none");value=parseFloat(value);e.style.zoom=1;if(!isNaN(value)){value=Math.max(Math.min(value,1),0);if(typeof e.filters!="undefined"){value=Math.ceil(value*100);if(typeof e.filters!="unknown"&&typeof e.filters.alpha!="undefined"){e.filters.alpha.opacity=value;}else{e.style.filter=(e.style.filter+" alpha(opacity="+value+")");}}else{e.style.opacity=value;}return value;}if(typeof e.filters!="undefined"){v=(typeof e.filters.alpha=="undefined")?(b?100:0):e.filters.alpha.opacity;v=v/100;}else{v=parseFloat(e.style.opacity);if(isNaN(v)){v=b?1:0;}}return v;};jindo.$Element.prototype.css=function(sName,sValue){var e=this._element;var type_v=(typeof sValue);if(sName=="opacity"){return type_v=="undefined"?this.opacity():this.opacity(sValue);}var type_n=(typeof sName);if(type_n=="string"){var view;if(type_v=="string"||type_v=="number"){var obj={};obj[sName]=sValue;sName=obj;}else{var _getCss=this._getCss;if((IS_FF||IS_OP)&&(sName=="backgroundPositionX"||sName=="backgroundPositionY")){var bp=_getCss(e,"backgroundPosition").split(/\s+/);
return(sName=="backgroundPositionX")?bp[0]:bp[1];}if(IS_IE&&sName=="backgroundPosition"){return _getCss(e,"backgroundPositionX")+" "+_getCss(e,"backgroundPositionY");}if((IS_FF||IS_SF||IS_CH)&&(sName=="padding"||sName=="margin")){var top=_getCss(e,sName+"Top");var right=_getCss(e,sName+"Right");var bottom=_getCss(e,sName+"Bottom");var left=_getCss(e,sName+"Left");if((top==right)&&(bottom==left)){return top;}else{if(top==bottom){if(right==left){return top+" "+right;}else{return top+" "+right+" "+bottom+" "+left;}}else{return top+" "+right+" "+bottom+" "+left;}}}return _getCss(e,sName);}}var h=jindo.$H;if(typeof h!="undefined"&&sName instanceof h){sName=sName._table;}if(typeof sName=="object"){var v,type;for(var k in sName){if(sName.hasOwnProperty(k)){v=sName[k];type=(typeof v);if(type!="string"&&type!="number"){continue;}if(k=="opacity"){type=="undefined"?this.opacity():this.opacity(v);continue;}if(k=="cssFloat"&&IS_IE){k="styleFloat";}if((IS_FF||IS_OP)&&(k=="backgroundPositionX"||k=="backgroundPositionY")){var bp=this.css("backgroundPosition").split(/\s+/);
v=k=="backgroundPositionX"?v+" "+bp[1]:bp[0]+" "+v;this._setCss(e,"backgroundPosition",v);}else{this._setCss(e,k,v);}}}}return this;};jindo.$Element.prototype._getCss=function(e,sName){var fpGetCss;if(e.currentStyle){fpGetCss=function(e,sName){try{if(sName=="cssFloat"){sName="styleFloat";}var sStyle=e.style[sName];if(sStyle){return sStyle;}else{var oCurrentStyle=e.currentStyle;if(oCurrentStyle){return oCurrentStyle[sName];}}return sStyle;}catch(ex){throw new Error((e.tagName||"document")+"는 css를 사용 할수 없습니다.");}};}else{if(window.getComputedStyle){fpGetCss=function(e,sName){try{if(sName=="cssFloat"){sName="float";}var d=e.ownerDocument||e.document||document;var sVal=(e.style[sName]||d.defaultView.getComputedStyle(e,null).getPropertyValue(sName.replace(/([A-Z])/g,"-$1").toLowerCase()));if(sName=="textDecoration"){sVal=sVal.replace(",","");}return sVal;}catch(ex){throw new Error((e.tagName||"document")+"는 css를 사용 할수 없습니다.");}};}else{fpGetCss=function(e,sName){try{if(sName=="cssFloat"&&IS_IE){sName="styleFloat";}return e.style[sName];
}catch(ex){throw new Error((e.tagName||"document")+"는 css를 사용 할수 없습니다.");}};}}jindo.$Element.prototype._getCss=fpGetCss;return fpGetCss(e,sName);};jindo.$Element.prototype._setCss=function(e,k,v){if(("#top#left#right#bottom#").indexOf(k+"#")>0&&(typeof v=="number"||(/\d$/.test(v)))){e.style[k]=parseInt(v)+"px";}else{e.style[k]=v;}};jindo.$Element.prototype.attr=function(sName,sValue){var e=this._element;if(typeof sName=="string"){if(typeof sValue!="undefined"){var obj={};obj[sName]=sValue;sName=obj;}else{if(sName=="class"||sName=="className"){return e.className;}else{if(sName=="style"){return e.style.cssText;}else{if(sName=="checked"||sName=="disabled"){return !!e[sName];}}}return e.getAttribute(sName);}}if(typeof jindo.$H!="undefined"&&sName instanceof jindo.$H){sName=sName.$value();}if(typeof sName=="object"){for(var k in sName){if(sName.hasOwnProperty(k)){if(typeof(sValue)!="undefined"&&sValue===null){e.removeAttribute(k);}else{if(k=="class"||k=="className"){e.className=sName[k];}else{if(k=="style"){e.style.cssText=sName[k];
}else{if(k=="checked"||k=="disabled"){e[k]=sName[k];}else{e.setAttribute(k,sName[k]);}}}}}}}return this;};jindo.$Element.prototype.width=function(width){if(typeof width=="number"){var e=this._element;e.style.width=width+"px";var off=e.offsetWidth;if(off!=width){e.style.width=(width*2-off)+"px";}return this;}return this._element.offsetWidth;};jindo.$Element.prototype.height=function(height){if(typeof height=="number"){var e=this._element;e.style.height=height+"px";var off=e.offsetHeight;if(off!=height){var height=(height*2-off);if(height>0){e.style.height=height+"px";}}return this;}return this._element.offsetHeight;};jindo.$Element.prototype.className=function(sClass){var e=this._element;if(typeof sClass=="undefined"){return e.className;}e.className=sClass;return this;};jindo.$Element.prototype.hasClass=function(sClass){if(this._element.classList){jindo.$Element.prototype.hasClass=function(sClass){return this._element.classList.contains(sClass);};}else{jindo.$Element.prototype.hasClass=function(sClass){return(" "+this._element.className+" ").indexOf(" "+sClass+" ")>-1;
};}return this.hasClass(sClass);};jindo.$Element.prototype.addClass=function(sClass){if(this._element.classList){jindo.$Element.prototype.addClass=function(sClass){var aClass=sClass.split(/\s+/);var flistApi=this._element.classList;for(var i=aClass.length;i--;){flistApi.add(aClass[i]);}return this;};}else{jindo.$Element.prototype.addClass=function(sClass){var e=this._element;var aClass=sClass.split(/\s+/);var eachClass;for(var i=aClass.length-1;i>=0;i--){eachClass=aClass[i];if(!this.hasClass(eachClass)){e.className=(e.className+" "+eachClass).replace(/^\s+/,"");}}return this;};}return this.addClass(sClass);};jindo.$Element.prototype.removeClass=function(sClass){if(this._element.classList){jindo.$Element.prototype.removeClass=function(sClass){var flistApi=this._element.classList;var aClass=sClass.split(" ");for(var i=aClass.length;i--;){flistApi.remove(aClass[i]);}return this;};}else{jindo.$Element.prototype.removeClass=function(sClass){var e=this._element;var aClass=sClass.split(/\s+/);var eachClass;for(var i=aClass.length-1;
i>=0;i--){eachClass=aClass[i];if(this.hasClass(eachClass)){e.className=e.className.replace(new RegExp("(s*?"+eachClass+")"),"").replace(/\s+$/,"").replace(/^\s+/,"");}}return this;};}return this.removeClass(sClass);};jindo.$Element.prototype.toggleClass=function(sClass,sClass2){if(this._element.classList){jindo.$Element.prototype.toggleClass=function(sClass,sClass2){if(typeof sClass2=="undefined"){this._element.classList.toggle(sClass);}else{if(this.hasClass(sClass)){this.removeClass(sClass);this.addClass(sClass2);}else{this.addClass(sClass);this.removeClass(sClass2);}}return this;};}else{jindo.$Element.prototype.toggleClass=function(sClass,sClass2){sClass2=sClass2||"";if(this.hasClass(sClass)){this.removeClass(sClass);if(sClass2){this.addClass(sClass2);}}else{this.addClass(sClass);if(sClass2){this.removeClass(sClass2);}}return this;};}return this.toggleClass(sClass,sClass2);};jindo.$Element.prototype.text=function(sText){var ele=this._element;var tag=this.tag;var prop=(typeof ele.textContent!="undefined")?"textContent":"innerText";
if(tag=="textarea"||tag=="input"){prop="value";}var type=(typeof sText);if(type!="undefined"&&(type=="string"||type=="number"||type=="boolean")){sText+="";try{ele[prop]=sText;}catch(e){return this.html(sText.replace(/&/g,"&amp;").replace(/</g,"&lt;"));}return this;}return ele[prop];};jindo.$Element.prototype.html=function(sHTML){var isIe=IS_IE;var isFF=IS_FF;if(isIe){jindo.$Element.prototype.html=function(sHTML){if(typeof sHTML!="undefined"&&arguments.length){sHTML+="";jindo.$$.release();var oEl=this._element;while(oEl.firstChild){oEl.removeChild(oEl.firstChild);}var sId="R"+new Date().getTime()+parseInt(Math.random()*100000);var oDoc=oEl.ownerDocument||oEl.document||document;var oDummy;var sTag=oEl.tagName.toLowerCase();switch(sTag){case"select":case"table":oDummy=oDoc.createElement("div");oDummy.innerHTML="<"+sTag+' class="'+sId+'">'+sHTML+"</"+sTag+">";break;case"tr":case"thead":case"tbody":oDummy=oDoc.createElement("div");oDummy.innerHTML="<table><"+sTag+' class="'+sId+'">'+sHTML+"</"+sTag+"></table>";break;
default:oEl.innerHTML=sHTML;break;}if(oDummy){var oFound;for(oFound=oDummy.firstChild;oFound;oFound=oFound.firstChild){if(oFound.className==sId){break;}}if(oFound){var notYetSelected=true;for(var oChild;oChild=oEl.firstChild;){oChild.removeNode(true);}for(var oChild=oFound.firstChild;oChild;oChild=oFound.firstChild){if(sTag=="select"){var cloneNode=oChild.cloneNode(true);if(oChild.selected&&notYetSelected){notYetSelected=false;cloneNode.selected=true;}oEl.appendChild(cloneNode);oChild.removeNode(true);}else{oEl.appendChild(oChild);}}oDummy.removeNode&&oDummy.removeNode(true);}oDummy=null;}return this;}return this._element.innerHTML;};}else{if(isFF){jindo.$Element.prototype.html=function(sHTML){if(typeof sHTML!="undefined"&&arguments.length){sHTML+="";var oEl=this._element;if(!oEl.parentNode){var sId="R"+new Date().getTime()+parseInt(Math.random()*100000);var oDoc=oEl.ownerDocument||oEl.document||document;var oDummy;var sTag=oEl.tagName.toLowerCase();switch(sTag){case"select":case"table":oDummy=oDoc.createElement("div");
oDummy.innerHTML="<"+sTag+' class="'+sId+'">'+sHTML+"</"+sTag+">";break;case"tr":case"thead":case"tbody":oDummy=oDoc.createElement("div");oDummy.innerHTML="<table><"+sTag+' class="'+sId+'">'+sHTML+"</"+sTag+"></table>";break;default:oEl.innerHTML=sHTML;break;}if(oDummy){var oFound;for(oFound=oDummy.firstChild;oFound;oFound=oFound.firstChild){if(oFound.className==sId){break;}}if(oFound){for(var oChild;oChild=oEl.firstChild;){oChild.removeNode(true);}for(var oChild=oFound.firstChild;oChild;oChild=oFound.firstChild){oEl.appendChild(oChild);}oDummy.removeNode&&oDummy.removeNode(true);}oDummy=null;}}else{oEl.innerHTML=sHTML;}return this;}return this._element.innerHTML;};}else{jindo.$Element.prototype.html=function(sHTML){if(typeof sHTML!="undefined"&&arguments.length){sHTML+="";var oEl=this._element;oEl.innerHTML=sHTML;return this;}return this._element.innerHTML;};}}return this.html(sHTML);};jindo.$Element.prototype.outerHTML=function(){var e=this._element;if(typeof e.outerHTML!="undefined"){return e.outerHTML;}var oDoc=e.ownerDocument||e.document||document;
var div=oDoc.createElement("div");var par=e.parentNode;if(!par){return e.innerHTML;}par.insertBefore(div,e);div.style.display="none";div.appendChild(e);var s=div.innerHTML;par.insertBefore(e,div);par.removeChild(div);return s;};jindo.$Element.prototype.toString=jindo.$Element.prototype.outerHTML;jindo.$Element._getTransition=function(){var hasTransition=false,sTransitionName="";if(typeof document.body.style.trasition!="undefined"){hasTransition=true;sTransitionName="trasition";}else{if(typeof document.body.style.webkitTransition!=="undefined"){hasTransition=true;sTransitionName="webkitTransition";}else{if(typeof document.body.style.OTransition!=="undefined"){hasTransition=true;sTransitionName="OTransition";}}}return(jindo.$Element._getTransition=function(){return{hasTransition:hasTransition,name:sTransitionName};})();};jindo.$Element.prototype.appear=function(duration,callback){var oTransition=jindo.$Element._getTransition();if(oTransition.hasTransition){jindo.$Element.prototype.appear=function(duration,callback){callback=callback||function(){};
var bindFunc=function(){callback();this.show();this.removeEventListener(oTransition.name+"End",arguments.callee,false);};var ele=this._element;var self=this;if(!this.visible()){ele.style.opacity=ele.style.opacity||0;self.show();}ele.addEventListener(oTransition.name+"End",bindFunc,false);ele.style[oTransition.name+"Property"]="opacity";ele.style[oTransition.name+"Duration"]=duration+"s";ele.style[oTransition.name+"TimingFunction"]="linear";setTimeout(function(){ele.style.opacity="1";},1);return this;};}else{jindo.$Element.prototype.appear=function(duration,callback){var self=this;var op=this.opacity();if(!this.visible()){op=0;}if(op==1){return this;}try{clearTimeout(this._fade_timer);}catch(e){}callback=callback||function(){};var step=(1-op)/((duration||0.3)*100);var func=function(){op+=step;self.opacity(op);if(op>=1){callback(self);}else{self._fade_timer=setTimeout(func,10);}};this.show();func();return this;};}return this.appear(duration,callback);};jindo.$Element.prototype.disappear=function(duration,callback){var oTransition=jindo.$Element._getTransition();
if(oTransition.hasTransition){jindo.$Element.prototype.disappear=function(duration,callback){var self=this;callback=callback||function(){};var bindFunc=function(){callback();this.removeEventListener(oTransition.name+"End",arguments.callee,false);};var ele=this._element;ele.addEventListener(oTransition.name+"End",bindFunc,false);ele.style[oTransition.name+"Property"]="opacity";ele.style[oTransition.name+"Duration"]=duration+"s";ele.style[oTransition.name+"TimingFunction"]="linear";setTimeout(function(){ele.style.opacity="0";},1);return this;};}else{jindo.$Element.prototype.disappear=function(duration,callback){var self=this;var op=this.opacity();if(op==0){return this;}try{clearTimeout(this._fade_timer);}catch(e){}callback=callback||function(){};var step=op/((duration||0.3)*100);var func=function(){op-=step;self.opacity(op);if(op<=0){self.hide();self.opacity(1);callback(self);}else{self._fade_timer=setTimeout(func,10);}};func();return this;};}return this.disappear(duration,callback);};jindo.$Element.prototype.offset=function(nTop,nLeft){var oEl=this._element;
var oPhantom=null;if(typeof nTop=="number"&&typeof nLeft=="number"){if(isNaN(parseInt())){this.css("top",0);}if(isNaN(parseInt(this.css("left")))){this.css("left",0);}var oPos=this.offset();var oGap={top:nTop-oPos.top,left:nLeft-oPos.left};oEl.style.top=parseInt(this.css("top"))+oGap.top+"px";oEl.style.left=parseInt(this.css("left"))+oGap.left+"px";return this;}var bSafari=/Safari/.test(navigator.userAgent);var bIE=/MSIE/.test(navigator.userAgent);var nVer=bIE?navigator.userAgent.match(/(?:MSIE) ([0-9.]+)/)[1]:0;var fpSafari=function(oEl){var oPos={left:0,top:0};for(var oParent=oEl,oOffsetParent=oParent.offsetParent;oParent=oParent.parentNode;){if(oParent.offsetParent){oPos.left-=oParent.scrollLeft;oPos.top-=oParent.scrollTop;}if(oParent==oOffsetParent){oPos.left+=oEl.offsetLeft+oParent.clientLeft;oPos.top+=oEl.offsetTop+oParent.clientTop;if(!oParent.offsetParent){oPos.left+=oParent.offsetLeft;oPos.top+=oParent.offsetTop;}oOffsetParent=oParent.offsetParent;oEl=oParent;}}return oPos;};var fpOthers=function(oEl){var oPos={left:0,top:0};
var oDoc=oEl.ownerDocument||oEl.document||document;var oHtml=oDoc.documentElement;var oBody=oDoc.body;if(oEl.getBoundingClientRect){if(!oPhantom){var bHasFrameBorder=(window==top);if(!bHasFrameBorder){try{bHasFrameBorder=(window.frameElement&&window.frameElement.frameBorder==1);}catch(e){}}if((bIE&&nVer<8&&window.external)&&bHasFrameBorder){oPhantom={left:2,top:2};oBase=null;}else{oPhantom={left:0,top:0};}}var box=oEl.getBoundingClientRect();if(oEl!==oHtml&&oEl!==oBody){oPos.left=box.left-oPhantom.left;oPos.top=box.top-oPhantom.top;oPos.left+=oHtml.scrollLeft||oBody.scrollLeft;oPos.top+=oHtml.scrollTop||oBody.scrollTop;}}else{if(oDoc.getBoxObjectFor){var box=oDoc.getBoxObjectFor(oEl);var vpBox=oDoc.getBoxObjectFor(oHtml||oBody);oPos.left=box.screenX-vpBox.screenX;oPos.top=box.screenY-vpBox.screenY;}else{for(var o=oEl;o;o=o.offsetParent){oPos.left+=o.offsetLeft;oPos.top+=o.offsetTop;}for(var o=oEl.parentNode;o;o=o.parentNode){if(o.tagName=="BODY"){break;}if(o.tagName=="TR"){oPos.top+=2;}oPos.left-=o.scrollLeft;
oPos.top-=o.scrollTop;}}}return oPos;};return(bSafari?fpSafari:fpOthers)(oEl);};jindo.$Element.prototype.evalScripts=function(sHTML){var aJS=[];sHTML=sHTML.replace(new RegExp("<script(\\s[^>]+)*>(.*?)<\/script>","gi"),function(_1,_2,sPart){aJS.push(sPart);return"";});eval(aJS.join("\n"));return this;};jindo.$Element._append=function(oParent,oChild){if(typeof oChild=="string"){oChild=jindo.$(oChild);}else{if(oChild instanceof jindo.$Element){oChild=oChild.$value();}}oParent._element.appendChild(oChild);return oParent;};jindo.$Element._prepend=function(oParent,oChild){if(typeof oParent=="string"){oParent=jindo.$(oParent);}else{if(oParent instanceof jindo.$Element){oParent=oParent.$value();}}var nodes=oParent.childNodes;if(nodes.length>0){oParent.insertBefore(oChild._element,nodes[0]);}else{oParent.appendChild(oChild._element);}return oChild;};jindo.$Element.prototype.append=function(oElement){return jindo.$Element._append(this,oElement);};jindo.$Element.prototype.prepend=function(oElement){return jindo.$Element._prepend(this._element,jindo.$Element(oElement));
};jindo.$Element.prototype.replace=function(oElement){jindo.$$.release();var e=this._element;var oParentNode=e.parentNode;var o=jindo.$Element(oElement);if(oParentNode&&oParentNode.replaceChild){oParentNode.replaceChild(o.$value(),e);return o;}var o=o.$value();oParentNode.insertBefore(o,e);oParentNode.removeChild(e);return o;};jindo.$Element.prototype.appendTo=function(oElement){var ele=jindo.$Element(oElement);jindo.$Element._append(ele,this._element);return ele;};jindo.$Element.prototype.prependTo=function(oElement){jindo.$Element._prepend(oElement,this);return jindo.$Element(oElement);};jindo.$Element.prototype.before=function(oElement){var oRich=jindo.$Element(oElement);var o=oRich.$value();this._element.parentNode.insertBefore(o,this._element);return oRich;};jindo.$Element.prototype.after=function(oElement){var o=this.before(oElement);o.before(this);return o;};jindo.$Element.prototype.parent=function(pFunc,limit){var e=this._element;var a=[],p=null;if(typeof pFunc=="undefined"){return jindo.$Element(e.parentNode);
}if(typeof limit=="undefined"||limit==0){limit=-1;}while(e.parentNode&&limit--!=0){p=jindo.$Element(e.parentNode);if(e.parentNode==document.documentElement){break;}if(!pFunc||(pFunc&&pFunc(p))){a[a.length]=p;}e=e.parentNode;}return a;};jindo.$Element.prototype.child=function(pFunc,limit){var e=this._element;var a=[],c=null,f=null;if(typeof pFunc=="undefined"){return jindo.$A(e.childNodes).filter(function(v){return v.nodeType==1;}).map(function(v){return jindo.$Element(v);}).$value();}if(typeof limit=="undefined"||limit==0){limit=-1;}(f=function(el,lim){var ch=null,o=null;for(var i=0;i<el.childNodes.length;i++){ch=el.childNodes[i];if(ch.nodeType!=1){continue;}o=jindo.$Element(el.childNodes[i]);if(!pFunc||(pFunc&&pFunc(o))){a[a.length]=o;}if(lim!=0){f(el.childNodes[i],lim-1);}}})(e,limit-1);return a;};jindo.$Element.prototype.prev=function(pFunc){var e=this._element;var a=[];var b=(typeof pFunc=="undefined");if(!e){return b?jindo.$Element(null):a;}do{e=e.previousSibling;if(!e||e.nodeType!=1){continue;}if(b){return jindo.$Element(e);
}if(!pFunc||pFunc(e)){a[a.length]=jindo.$Element(e);}}while(e);return b?jindo.$Element(e):a;};jindo.$Element.prototype.next=function(pFunc){var e=this._element;var a=[];var b=(typeof pFunc=="undefined");if(!e){return b?jindo.$Element(null):a;}do{e=e.nextSibling;if(!e||e.nodeType!=1){continue;}if(b){return jindo.$Element(e);}if(!pFunc||pFunc(e)){a[a.length]=jindo.$Element(e);}}while(e);return b?jindo.$Element(e):a;};jindo.$Element.prototype.first=function(){var el=this._element.firstElementChild||this._element.firstChild;if(!el){return null;}while(el&&el.nodeType!=1){el=el.nextSibling;}return el?jindo.$Element(el):null;};jindo.$Element.prototype.last=function(){var el=this._element.lastElementChild||this._element.lastChild;if(!el){return null;}while(el&&el.nodeType!=1){el=el.previousSibling;}return el?jindo.$Element(el):null;};jindo.$Element.prototype.isChildOf=function(element){return jindo.$Element._contain(jindo.$Element(element).$value(),this._element);};jindo.$Element.prototype.isParentOf=function(element){return jindo.$Element._contain(this._element,jindo.$Element(element).$value());
};jindo.$Element._contain=function(eParent,eChild){if(document.compareDocumentPosition){jindo.$Element._contain=function(eParent,eChild){return !!(eParent.compareDocumentPosition(eChild)&16);};}else{if(document.body.contains){jindo.$Element._contain=function(eParent,eChild){return(eParent!==eChild)&&(eParent.contains?eParent.contains(eChild):true);};}else{jindo.$Element._contain=function(eParent,eChild){var e=eParent;var el=eChild;while(e&&e.parentNode){e=e.parentNode;if(e==el){return true;}}return false;};}}return jindo.$Element._contain(eParent,eChild);};jindo.$Element.prototype.isEqual=function(element){try{return(this._element===jindo.$Element(element).$value());}catch(e){return false;}};jindo.$Element.prototype.fireEvent=function(sEvent,oProps){function IE(sEvent,oProps){sEvent=(sEvent+"").toLowerCase();var oEvent=document.createEventObject();if(oProps){for(k in oProps){if(oProps.hasOwnProperty(k)){oEvent[k]=oProps[k];}}oEvent.button=(oProps.left?1:0)+(oProps.middle?4:0)+(oProps.right?2:0);oEvent.relatedTarget=oProps.relatedElement||null;
}this._element.fireEvent("on"+sEvent,oEvent);return this;}function DOM2(sEvent,oProps){var sType="HTMLEvents";sEvent=(sEvent+"").toLowerCase();if(sEvent=="click"||sEvent.indexOf("mouse")==0){sType="MouseEvent";if(sEvent=="mousewheel"){sEvent="dommousescroll";}}else{if(sEvent.indexOf("key")==0){sType="KeyboardEvent";}}var evt;if(oProps){oProps.button=0+(oProps.middle?1:0)+(oProps.right?2:0);oProps.ctrl=oProps.ctrl||false;oProps.alt=oProps.alt||false;oProps.shift=oProps.shift||false;oProps.meta=oProps.meta||false;switch(sType){case"MouseEvent":evt=document.createEvent(sType);evt.initMouseEvent(sEvent,true,true,null,oProps.detail||0,oProps.screenX||0,oProps.screenY||0,oProps.clientX||0,oProps.clientY||0,oProps.ctrl,oProps.alt,oProps.shift,oProps.meta,oProps.button,oProps.relatedElement||null);break;case"KeyboardEvent":if(window.KeyEvent){evt=document.createEvent("KeyEvents");evt.initKeyEvent(sEvent,true,true,window,oProps.ctrl,oProps.alt,oProps.shift,oProps.meta,oProps.keyCode,oProps.keyCode);}else{try{evt=document.createEvent("Events");
}catch(e){evt=document.createEvent("UIEvents");}finally{evt.initEvent(sEvent,true,true);evt.ctrlKey=oProps.ctrl;evt.altKey=oProps.alt;evt.shiftKey=oProps.shift;evt.metaKey=oProps.meta;evt.keyCode=oProps.keyCode;evt.which=oProps.keyCode;}}break;default:evt=document.createEvent(sType);evt.initEvent(sEvent,true,true);}}else{evt=document.createEvent(sType);evt.initEvent(sEvent,true,true);}this._element.dispatchEvent(evt);return this;}jindo.$Element.prototype.fireEvent=(typeof this._element.dispatchEvent!="undefined")?DOM2:IE;return this.fireEvent(sEvent,oProps);};jindo.$Element.prototype.empty=function(){jindo.$$.release();this.html("");return this;};jindo.$Element.prototype.remove=function(oChild){jindo.$$.release();jindo.$Element(oChild).leave();return this;};jindo.$Element.prototype.leave=function(){var e=this._element;if(e.parentNode){jindo.$$.release();e.parentNode.removeChild(e);}jindo.$Fn.freeElement(this._element);return this;};jindo.$Element.prototype.wrap=function(wrapper){var e=this._element;wrapper=jindo.$Element(wrapper).$value();
if(e.parentNode){e.parentNode.insertBefore(wrapper,e);}wrapper.appendChild(e);return this;};jindo.$Element.prototype.ellipsis=function(stringTail){stringTail=stringTail||"...";var txt=this.text();var len=txt.length;var padding=parseInt(this.css("paddingTop"))+parseInt(this.css("paddingBottom"));var cur_h=this.height()-padding;var i=0;var h=this.text("A").height()-padding;if(cur_h<h*1.5){return this.text(txt);}cur_h=h;while(cur_h<h*1.5){i+=Math.max(Math.ceil((len-i)/2),1);cur_h=this.text(txt.substring(0,i)+stringTail).height()-padding;}while(cur_h>h*1.5){i--;cur_h=this.text(txt.substring(0,i)+stringTail).height()-padding;}};jindo.$Element.prototype.indexOf=function(element){try{var e=jindo.$Element(element).$value();var n=this._element.childNodes;var c=0;var l=n.length;for(var i=0;i<l;i++){if(n[i].nodeType!=1){continue;}if(n[i]===e){return c;}c++;}}catch(e){}return -1;};jindo.$Element.prototype.queryAll=function(sSelector){return jindo.$$(sSelector,this._element);};jindo.$Element.prototype.query=function(sSelector){return jindo.$$.getSingle(sSelector,this._element);
};jindo.$Element.prototype.test=function(sSelector){return jindo.$$.test(this._element,sSelector);};jindo.$Element.prototype.xpathAll=function(sXPath){return jindo.$$.xpath(sXPath,this._element);};jindo.$Element.insertAdjacentHTML=function(ins,html,insertType,type,fn){var _ele=ins._element;if(_ele.insertAdjacentHTML&&!(/^<(option|tr|td|th)>/.test(html.replace(/^(\s|　)+|(\s|　)+$/g,"").toLowerCase()))){_ele.insertAdjacentHTML(insertType,html);}else{var oDoc=_ele.ownerDocument||_ele.document||document;var fragment=oDoc.createDocumentFragment();var defaultElement;var sTag=html.replace(/^(\s|　)+|(\s|　)+$/g,"");var oParentTag={option:"select",tr:"tbody",thead:"table",tbody:"table",td:"tr",th:"tr",div:"div"};var aMatch=/^\<(option|tr|thead|tbody|td|th)\>/i.exec(sTag);var sChild=aMatch===null?"div":aMatch[1].toLowerCase();var sParent=oParentTag[sChild];defaultElement=jindo._createEle(sParent,sTag,oDoc,true);var scripts=defaultElement.getElementsByTagName("script");for(var i=0,l=scripts.length;i<l;i++){scripts[i].parentNode.removeChild(scripts[i]);
}while(defaultElement[type]){fragment.appendChild(defaultElement[type]);}fn(fragment.cloneNode(true));}return ins;};jindo.$Element.prototype.appendHTML=function(sHTML){return jindo.$Element.insertAdjacentHTML(this,sHTML,"beforeEnd","firstChild",jindo.$Fn(function(oEle){this.append(oEle);},this).bind());};jindo.$Element.prototype.prependHTML=function(sHTML){return jindo.$Element.insertAdjacentHTML(this,sHTML,"afterBegin","lastChild",jindo.$Fn(function(oEle){this.prepend(oEle);},this).bind());};jindo.$Element.prototype.beforeHTML=function(sHTML){return jindo.$Element.insertAdjacentHTML(this,sHTML,"beforeBegin","firstChild",jindo.$Fn(function(oEle){this.before(oEle);},this).bind());};jindo.$Element.prototype.afterHTML=function(sHTML){return jindo.$Element.insertAdjacentHTML(this,sHTML,"afterEnd","lastChild",jindo.$Fn(function(oEle){this._element.parentNode.insertBefore(oEle,this._element.nextSibling);},this).bind());};jindo.$Element.prototype.delegate=function(sEvent,vFilter,fpCallback){if(!this._element["_delegate_"+sEvent]){this._element["_delegate_"+sEvent]={};
var fAroundFunc=jindo.$Fn(function(sEvent,wEvent){wEvent=wEvent||window.event;if(typeof wEvent.currentTarget=="undefined"){wEvent.currentTarget=this._element;}var oEle=wEvent.target||wEvent.srcElement;var aData=this._element["_delegate_"+sEvent];var data,func,event;for(var i in aData){data=aData[i];if(data.checker(oEle)){func=data.func;event=jindo.$Event(wEvent);for(var j=0,l=func.length;j<l;j++){func[j](event);}}}},this).bind(sEvent);jindo.$Element._eventBind(this._element,sEvent,fAroundFunc);var oEle=this._element;oEle["_delegate_"+sEvent+"_func"]=fAroundFunc;if(this._element._delegate_events){this._element._delegate_events.push(sEvent);}else{this._element._delegate_events=[sEvent];}oEle=null;}this._bind(sEvent,vFilter,fpCallback);return this;};jindo.$Element._eventBind=function(oEle,sEvent,fAroundFunc){if(oEle.addEventListener){jindo.$Element._eventBind=function(oEle,sEvent,fAroundFunc){oEle.addEventListener(sEvent,fAroundFunc,false);};}else{jindo.$Element._eventBind=function(oEle,sEvent,fAroundFunc){oEle.attachEvent("on"+sEvent,fAroundFunc);
};}jindo.$Element._eventBind(oEle,sEvent,fAroundFunc);};jindo.$Element.prototype.undelegate=function(sEvent,vFilter,fpCallback){this._unbind(sEvent,vFilter,fpCallback);return this;};jindo.$Element.prototype._bind=function(sEvent,vFilter,fpCallback){var _aDataOfEvent=this._element["_delegate_"+sEvent];if(_aDataOfEvent){var fpCheck;if(typeof vFilter=="string"){fpCheck=jindo.$Fn(function(sCssquery,oEle){return jindo.$$.test(oEle,sCssquery);},this).bind(vFilter);}else{if(typeof vFilter=="function"){fpCheck=jindo.$Fn(function(fpFilter,oEle){return fpFilter(this._element,oEle);},this).bind(vFilter);}}this._element["_delegate_"+sEvent]=jindo.$Element._addBind(_aDataOfEvent,vFilter,fpCallback,fpCheck);}else{alert("check your delegate event.");}};jindo.$Element._addBind=function(aDataOfEvent,vFilter,fpCallback,fpCheck){var aEvent=aDataOfEvent[vFilter];if(aEvent){var fpFuncs=aEvent.func;fpFuncs.push(fpCallback);aEvent.func=fpFuncs;}else{aEvent={checker:fpCheck,func:[fpCallback]};}aDataOfEvent[vFilter]=aEvent;return aDataOfEvent;
};jindo.$Element.prototype._unbind=function(sEvent,vFilter,fpCallback){var oEle=this._element;if(sEvent&&vFilter&&fpCallback){var oEventInfo=oEle["_delegate_"+sEvent];if(oEventInfo&&oEventInfo[vFilter]){var fpFuncs=oEventInfo[vFilter].func;fpFuncs=oEventInfo[vFilter].func=jindo.$A(fpFuncs).refuse(fpCallback).$value();if(!fpFuncs.length){jindo.$Element._deleteFilter(oEle,sEvent,vFilter);}}}else{if(sEvent&&vFilter){jindo.$Element._deleteFilter(oEle,sEvent,vFilter);}else{if(sEvent){jindo.$Element._deleteEvent(oEle,sEvent,vFilter);}else{var aEvents=oEle._delegate_events;var sEachEvent;for(var i=0,l=aEvents.length;i<l;i++){sEachEvent=aEvents[i];jindo.$Element._unEventBind(oEle,sEachEvent,oEle["_delegate_"+sEachEvent+"_func"]);jindo.$Element._delDelegateInfo(oEle,"_delegate_"+sEachEvent);jindo.$Element._delDelegateInfo(oEle,"_delegate_"+sEachEvent+"_func");}jindo.$Element._delDelegateInfo(oEle,"_delegate_events");}}}return this;};jindo.$Element._delDelegateInfo=function(oObj,sType){try{oObj[sType]=null;delete oObj[sType];
}catch(e){}return oObj;};jindo.$Element._deleteFilter=function(oEle,sEvent,vFilter){var oEventInfo=oEle["_delegate_"+sEvent];if(oEventInfo&&oEventInfo[vFilter]){if(jindo.$H(oEventInfo).keys().length==1){jindo.$Element._deleteEvent(oEle,sEvent,vFilter);}else{jindo.$Element._delDelegateInfo(oEventInfo,vFilter);}}};jindo.$Element._deleteEvent=function(oEle,sEvent,vFilter){var aEvents=oEle._delegate_events;jindo.$Element._unEventBind(oEle,sEvent,oEle["_delegate_"+sEvent+"_func"]);jindo.$Element._delDelegateInfo(oEle,"_delegate_"+sEvent);jindo.$Element._delDelegateInfo(oEle,"_delegate_"+sEvent+"_func");aEvents=jindo.$A(aEvents).refuse(sEvent).$value();if(!aEvents.length){jindo.$Element._delDelegateInfo(oEle,"_delegate_events");}else{oEle._delegate_events=jindo.$A(aEvents).refuse(sEvent).$value();}};jindo.$Element._unEventBind=function(oEle,sType,fAroundFunc){if(oEle.removeEventListener){jindo.$Element._unEventBind=function(oEle,sType,fAroundFunc){oEle.removeEventListener(sType,fAroundFunc,false);};}else{jindo.$Element._unEventBind=function(oEle,sType,fAroundFunc){oEle.detachEvent("on"+sType,fAroundFunc);
};}jindo.$Element._unEventBind(oEle,sType,fAroundFunc);};jindo.$Fn=function(func,thisObject){var cl=arguments.callee;if(func instanceof cl){return func;}if(!(this instanceof cl)){return new cl(func,thisObject);}this._events=[];this._tmpElm=null;this._key=null;if(typeof func=="function"){this._func=func;this._this=thisObject;}else{if(typeof func=="string"&&typeof thisObject=="string"){this._func=eval("false||function("+func+"){"+thisObject+"}");}}};var _ua=navigator.userAgent;jindo.$Fn.prototype.$value=function(){return this._func;};jindo.$Fn.prototype.bind=function(){var a=jindo.$A(arguments).$value();var f=this._func;var t=this._this;var b=function(){var args=jindo.$A(arguments).$value();if(a.length){args=a.concat(args);}return f.apply(t,args);};return b;};jindo.$Fn.prototype.bindForEvent=function(){var a=arguments;var f=this._func;var t=this._this;var m=this._tmpElm||null;var b=function(e){var args=Array.prototype.slice.apply(a);if(typeof e=="undefined"){e=window.event;}if(typeof e.currentTarget=="undefined"){e.currentTarget=m;
}var oEvent=jindo.$Event(e);args.unshift(oEvent);var returnValue=f.apply(t,args);if(typeof returnValue!="undefined"&&oEvent.type=="beforeunload"){e.returnValue=returnValue;}return returnValue;};return b;};jindo.$Fn.prototype.attach=function(oElement,sEvent,bUseCapture){var fn=null,l,ev=sEvent,el=oElement,ua=_ua;if(typeof bUseCapture=="undefined"){bUseCapture=false;}this._bUseCapture=bUseCapture;if((el instanceof Array)||(jindo.$A&&(el instanceof jindo.$A)&&(el=el.$value()))){for(var i=0;i<el.length;i++){this.attach(el[i],ev,bUseCapture);}return this;}if(!el||!ev){return this;}if(typeof el.$value=="function"){el=el.$value();}el=jindo.$(el);ev=ev.toLowerCase();this._tmpElm=el;fn=this.bindForEvent();this._tmpElm=null;var bIsIE=ua.indexOf("MSIE")>-1;if(typeof el.addEventListener!="undefined"){if(ev=="domready"){ev="DOMContentLoaded";}else{if(ev=="mousewheel"&&ua.indexOf("WebKit")<0&&!/Opera/.test(ua)&&!bIsIE){ev="DOMMouseScroll";}else{if(ev=="mouseenter"&&!bIsIE){ev="mouseover";fn=jindo.$Fn._fireWhenElementBoundary(el,fn);
}else{if(ev=="mouseleave"&&!bIsIE){ev="mouseout";fn=jindo.$Fn._fireWhenElementBoundary(el,fn);}}}}el.addEventListener(ev,fn,bUseCapture);}else{if(typeof el.attachEvent!="undefined"){if(ev=="domready"){if(window.top!=window){throw new Error("Domready Event doesn't work in the iframe.");}jindo.$Fn._domready(el,fn);return this;}else{el.attachEvent("on"+ev,fn);}}}if(!this._key){this._key="$"+jindo.$Fn.gc.count++;jindo.$Fn.gc.pool[this._key]=this;}this._events[this._events.length]={element:el,event:sEvent.toLowerCase(),func:fn};return this;};jindo.$Fn.prototype.detach=function(oElement,sEvent){var fn=null,l,el=oElement,ev=sEvent,ua=_ua;if((el instanceof Array)||(jindo.$A&&(el instanceof jindo.$A)&&(el=el.$value()))){for(var i=0;i<el.length;i++){this.detach(el[i],ev);}return this;}if(!el||!ev){return this;}if(jindo.$Element&&el instanceof jindo.$Element){el=el.$value();}el=jindo.$(el);ev=ev.toLowerCase();var e=this._events;for(var i=0;i<e.length;i++){if(e[i].element!==el||e[i].event!==ev){continue;}fn=e[i].func;this._events=jindo.$A(this._events).refuse(e[i]).$value();
break;}if(typeof el.removeEventListener!="undefined"){if(ev=="domready"){ev="DOMContentLoaded";}else{if(ev=="mousewheel"&&ua.indexOf("WebKit")<0){ev="DOMMouseScroll";}else{if(ev=="mouseenter"){ev="mouseover";}else{if(ev=="mouseleave"){ev="mouseout";}}}}el.removeEventListener(ev,fn,false);}else{if(typeof el.detachEvent!="undefined"){if(ev=="domready"){jindo.$Fn._domready.list=jindo.$Fn._domready.list.refuse(fn);return this;}else{el.detachEvent("on"+ev,fn);}}}return this;};jindo.$Fn.prototype.delay=function(nSec,args){if(typeof args=="undefined"){args=[];}this._delayKey=setTimeout(this.bind.apply(this,args),nSec*1000);return this;};jindo.$Fn.prototype.setInterval=function(nSec,args){if(typeof args=="undefined"){args=[];}this._repeatKey=setInterval(this.bind.apply(this,args),nSec*1000);return this._repeatKey;};jindo.$Fn.prototype.repeat=jindo.$Fn.prototype.setInterval;jindo.$Fn.prototype.stopDelay=function(){if(typeof this._delayKey!="undefined"){window.clearTimeout(this._delayKey);delete this._delayKey;}return this;
};jindo.$Fn.prototype.stopRepeat=function(){if(typeof this._repeatKey!="undefined"){window.clearInterval(this._repeatKey);delete this._repeatKey;}return this;};jindo.$Fn.prototype.free=function(oElement){var len=this._events.length;while(len>0){var el=this._events[--len].element;var sEvent=this._events[len].event;if(oElement&&el!==oElement){continue;}this.detach(el,sEvent);var isGCCall=!oElement;if(isGCCall&&window===el&&sEvent=="unload"){this.$value()();}delete this._events[len];}if(this._events.length==0){try{delete jindo.$Fn.gc.pool[this._key];}catch(e){}}};jindo.$Fn._domready=function(doc,func){if(typeof jindo.$Fn._domready.list=="undefined"){var f=null,l=jindo.$Fn._domready.list=jindo.$A([func]);var done=false,execFuncs=function(){if(!done){done=true;var evt={type:"domready",target:doc,currentTarget:doc};while(f=l.shift()){f(evt);}}};(function(){try{doc.documentElement.doScroll("left");}catch(e){setTimeout(arguments.callee,50);return;}execFuncs();})();doc.onreadystatechange=function(){if(doc.readyState=="complete"){doc.onreadystatechange=null;
execFuncs();}};}else{jindo.$Fn._domready.list.push(func);}};jindo.$Fn._fireWhenElementBoundary=function(doc,func){return function(evt){var oEvent=jindo.$Event(evt);var relatedElement=jindo.$Element(oEvent.relatedElement);if(relatedElement&&(relatedElement.isEqual(this)||relatedElement.isChildOf(this))){return;}func.call(this,evt);};};jindo.$Fn.gc=function(){var p=jindo.$Fn.gc.pool;for(var key in p){if(p.hasOwnProperty(key)){try{p[key].free();}catch(e){}}}jindo.$Fn.gc.pool=p={};};jindo.$Fn.freeElement=function(oElement){var p=jindo.$Fn.gc.pool;for(var key in p){if(p.hasOwnProperty(key)){try{p[key].free(oElement);}catch(e){}}}};jindo.$Fn.gc.count=0;jindo.$Fn.gc.pool={};function isUnCacheAgent(){var isIPad=(_ua.indexOf("iPad")>-1);var isAndroid=(_ua.indexOf("Android")>-1);var isMSafari=(!(_ua.indexOf("IEMobile")>-1)&&(_ua.indexOf("Mobile")>-1))||(isIPad&&(_ua.indexOf("Safari")>-1));return isMSafari&&!isIPad&&!isAndroid;}if(typeof window!="undefined"&&!isUnCacheAgent()){jindo.$Fn(jindo.$Fn.gc).attach(window,"unload");
}jindo.$Event=function(e){var cl=arguments.callee;if(e instanceof cl){return e;}if(!(this instanceof cl)){return new cl(e);}if(typeof e=="undefined"){e=window.event;}if(e===window.event&&document.createEventObject){e=document.createEventObject(e);}this._event=e;this._globalEvent=window.event;this.type=e.type.toLowerCase();if(this.type=="dommousescroll"){this.type="mousewheel";}else{if(this.type=="DOMContentLoaded"){this.type="domready";}}this.canceled=false;this.element=e.target||e.srcElement;this.currentElement=e.currentTarget;this.relatedElement=null;if(typeof e.relatedTarget!="undefined"){this.relatedElement=e.relatedTarget;}else{if(e.fromElement&&e.toElement){this.relatedElement=e[(this.type=="mouseout")?"toElement":"fromElement"];}}};jindo.$Event.prototype.mouse=function(){var e=this._event;var delta=0;var left=false,mid=false,right=false;var left=e.which?e.button==0:!!(e.button&1);var mid=e.which?e.button==1:!!(e.button&4);var right=e.which?e.button==2:!!(e.button&2);var ret={};if(e.wheelDelta){delta=e.wheelDelta/120;
}else{if(e.detail){delta=-e.detail/3;}}ret={delta:delta,left:left,middle:mid,right:right};this.mouse=function(){return ret;};return ret;};jindo.$Event.prototype.key=function(){var e=this._event;var k=e.keyCode||e.charCode;var ret={keyCode:k,alt:e.altKey,ctrl:e.ctrlKey,meta:e.metaKey,shift:e.shiftKey,up:(k==38),down:(k==40),left:(k==37),right:(k==39),enter:(k==13),esc:(k==27)};this.key=function(){return ret;};return ret;};jindo.$Event.prototype.pos=function(bGetOffset){var e=this._event;var b=(this.element.ownerDocument||document).body;var de=(this.element.ownerDocument||document).documentElement;var pos=[b.scrollLeft||de.scrollLeft,b.scrollTop||de.scrollTop];var ret={clientX:e.clientX,clientY:e.clientY,pageX:"pageX" in e?e.pageX:e.clientX+pos[0]-b.clientLeft,pageY:"pageY" in e?e.pageY:e.clientY+pos[1]-b.clientTop,layerX:"offsetX" in e?e.offsetX:e.layerX-1,layerY:"offsetY" in e?e.offsetY:e.layerY-1};if(bGetOffset&&jindo.$Element){var offset=jindo.$Element(this.element).offset();ret.offsetX=ret.pageX-offset.left;
ret.offsetY=ret.pageY-offset.top;}return ret;};jindo.$Event.prototype.stop=function(nCancel){nCancel=nCancel||jindo.$Event.CANCEL_ALL;var e=(window.event&&window.event==this._globalEvent)?this._globalEvent:this._event;var b=!!(nCancel&jindo.$Event.CANCEL_BUBBLE);var d=!!(nCancel&jindo.$Event.CANCEL_DEFAULT);this.canceled=true;if(typeof e.preventDefault!="undefined"&&d){e.preventDefault();}if(typeof e.stopPropagation!="undefined"&&b){e.stopPropagation();}if(d){e.returnValue=false;}if(b){e.cancelBubble=true;}return this;};jindo.$Event.prototype.stopDefault=function(){return this.stop(jindo.$Event.CANCEL_DEFAULT);};jindo.$Event.prototype.stopBubble=function(){return this.stop(jindo.$Event.CANCEL_BUBBLE);};jindo.$Event.prototype.$value=function(){return this._event;};jindo.$Event.CANCEL_BUBBLE=1;jindo.$Event.CANCEL_DEFAULT=2;jindo.$Event.CANCEL_ALL=3;jindo.$S=function(str){var cl=arguments.callee;if(typeof str=="undefined"){str="";}if(str instanceof cl){return str;}if(!(this instanceof cl)){return new cl(str);}this._str=str+"";
};jindo.$S.prototype.$value=function(){return this._str;};jindo.$S.prototype.toString=jindo.$S.prototype.$value;jindo.$S.prototype.trim=function(){if("".trim){jindo.$S.prototype.trim=function(){return jindo.$S(this._str.trim());};}else{jindo.$S.prototype.trim=function(){return jindo.$S(this._str.replace(/^(\s|　)+/g,"").replace(/(\s|　)+$/g,""));};}return jindo.$S(this.trim());};jindo.$S.prototype.escapeHTML=function(){var entities={'"':"quot","&":"amp","<":"lt",">":"gt","'":"#39"};var s=this._str.replace(/[<>&"']/g,function(m0){return entities[m0]?"&"+entities[m0]+";":m0;});return jindo.$S(s);};jindo.$S.prototype.stripTags=function(){return jindo.$S(this._str.replace(/<\/?(?:h[1-5]|[a-z]+(?:\:[a-z]+)?)[^>]*>/ig,""));};jindo.$S.prototype.times=function(nTimes){var buf=[];for(var i=0;i<nTimes;i++){buf[buf.length]=this._str;}return jindo.$S(buf.join(""));};jindo.$S.prototype.unescapeHTML=function(){var entities={quot:'"',amp:"&",lt:"<",gt:">","#39":"'"};var s=this._str.replace(/&([a-z]+|#[0-9]+);/g,function(m0,m1){return entities[m1]?entities[m1]:m0;
});return jindo.$S(s);};jindo.$S.prototype.escape=function(){var s=this._str.replace(/([\u0080-\uFFFF]+)|[\n\r\t"'\\]/g,function(m0,m1,_){if(m1){return escape(m1).replace(/%/g,"\\");}return(_={"\n":"\\n","\r":"\\r","\t":"\\t"})[m0]?_[m0]:"\\"+m0;});return jindo.$S(s);};jindo.$S.prototype.bytes=function(vConfig){var code=0,bytes=0,i=0,len=this._str.length;var charset=((document.charset||document.characterSet||document.defaultCharset)+"");var cut,nBytes;if(typeof vConfig=="undefined"){cut=false;}else{if(vConfig.constructor==Number){cut=true;nBytes=vConfig;}else{if(vConfig.constructor==Object){charset=vConfig.charset||charset;nBytes=vConfig.size||false;cut=!!nBytes;}else{cut=false;}}}if(charset.toLowerCase()=="utf-8"){for(i=0;i<len;i++){code=this._str.charCodeAt(i);if(code<128){bytes+=1;}else{if(code<2048){bytes+=2;}else{if(code<65536){bytes+=3;}else{bytes+=4;}}}if(cut&&bytes>nBytes){this._str=this._str.substr(0,i);break;}}}else{for(i=0;i<len;i++){bytes+=(this._str.charCodeAt(i)>128)?2:1;if(cut&&bytes>nBytes){this._str=this._str.substr(0,i);
break;}}}return cut?this:bytes;};jindo.$S.prototype.parseString=function(){var str=this._str.split(/&/g),pos,key,val,buf={},isescape=false;for(var i=0;i<str.length;i++){key=str[i].substring(0,pos=str[i].indexOf("=")),isescape=false;try{val=decodeURIComponent(str[i].substring(pos+1));}catch(e){isescape=true;val=decodeURIComponent(unescape(str[i].substring(pos+1)));}if(key.substr(key.length-2,2)=="[]"){key=key.substring(0,key.length-2);if(typeof buf[key]=="undefined"){buf[key]=[];}buf[key][buf[key].length]=isescape?escape(val):val;}else{buf[key]=isescape?escape(val):val;}}return buf;};jindo.$S.prototype.escapeRegex=function(){var s=this._str;var r=/([\?\.\*\+\-\/\(\)\{\}\[\]\:\!\^\$\\\|])/g;return jindo.$S(s.replace(r,"\\$1"));};jindo.$S.prototype.format=function(){var args=arguments;var idx=0;var s=this._str.replace(/%([ 0])?(-)?([1-9][0-9]*)?([bcdsoxX])/g,function(m0,m1,m2,m3,m4){var a=args[idx++];var ret="",pad="";m3=m3?+m3:0;if(m4=="s"){ret=a+"";}else{if(" bcdoxX".indexOf(m4)>0){if(typeof a!="number"){return"";
}ret=(m4=="c")?String.fromCharCode(a):a.toString(({b:2,d:10,o:8,x:16,X:16})[m4]);if(" X".indexOf(m4)>0){ret=ret.toUpperCase();}}}if(ret.length<m3){pad=jindo.$S(m1||" ").times(m3-ret.length).toString();}(m2=="-")?(ret+=pad):(ret=pad+ret);return ret;});return jindo.$S(s);};jindo.$Template=function(str){var obj=null,tag="";var cl=arguments.callee;if(str instanceof cl){return str;}if(!(this instanceof cl)){return new cl(str);}if(typeof str=="undefined"){str="";}else{if((obj=document.getElementById(str)||str)&&obj.tagName&&(tag=obj.tagName.toUpperCase())&&(tag=="TEXTAREA"||(tag=="SCRIPT"&&obj.getAttribute("type")=="text/template"))){str=(obj.value||obj.innerHTML).replace(/^\s+|\s+$/g,"");}}this._str=str+"";};jindo.$Template.splitter=/(?!\\)[\{\}]/g;jindo.$Template.pattern=/^(?:if (.+)|elseif (.+)|for (?:(.+)\:)?(.+) in (.+)|(else)|\/(if|for)|=(.+)|js (.+)|set (.+))$/;jindo.$Template.prototype.process=function(data){var key="\x01";var leftBrace="\x02";var rightBrace="\x03";var tpl=(" "+this._str+" ").replace(/\\{/g,leftBrace).replace(/\\}/g,rightBrace).replace(/(?!\\)\}\{/g,"}"+key+"{").split(jindo.$Template.splitter),i=tpl.length;
var map={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r","\t":"\\t","\f":"\\f"};var reg=[/(["'](?:(?:\\.)+|[^\\["']+)*["']|[a-zA-Z_][\w\.]*)/g,/[\n\r\t\f"\\]/g,/^\s+/,/\s+$/,/#/g];var cb=[function(m){return(m.substring(0,1)=='"'||m.substring(0,1)=="'"||m=="null")?m:"d."+m;},function(m){return map[m]||m;},"",""];var stm=[];var lev=0;tpl[0]=tpl[0].substr(1);tpl[i-1]=tpl[i-1].substr(0,tpl[i-1].length-1);if(i<2){return tpl[0];}tpl=jindo.$A(tpl).reverse().$value();var delete_info;while(i--){if(i%2){tpl[i]=tpl[i].replace(jindo.$Template.pattern,function(){var m=arguments;if(m[10]){return m[10].replace(/(\w+)(?:\s*)=(?:\s*)(?:([a-zA-Z0-9_]+)|(.+))$/g,function(){var mm=arguments;var str="d."+mm[1]+"=";if(mm[2]){str+="d."+mm[2];}else{str+=mm[3].replace(/(=(?:[a-zA-Z_][\w\.]*)+)/g,function(m){return(m.substring(0,1)=="=")?"d."+m.replace("=",""):m;});}return str;})+";";}if(m[9]){return"s[i++]="+m[9].replace(/(=(?:[a-zA-Z_][\w\.]*)+)/g,function(m){return(m.substring(0,1)=="=")?"d."+m.replace("=",""):m;})+";";}if(m[8]){return"s[i++]= d."+m[8]+";";
}if(m[1]){return"if("+m[1].replace(reg[0],cb[0]).replace(/d\.(typeof) /,"$1 ").replace(/ d\.(instanceof) d\./," $1 ")+"){";}if(m[2]){return"}else if("+m[2].replace(reg[0],cb[0]).replace(/d\.(typeof) /,"$1 ").replace(/ d\.(instanceof) d\./," $1 ")+"){";}if(m[5]){delete_info=m[4];var _aStr=[];_aStr.push("var t#=d."+m[5]+"||{},p#=isArray(t#),i#=0;");_aStr.push("for(var x# in t#){");_aStr.push("if(!t#.hasOwnProperty(x#)){continue;}");_aStr.push("	if( (p# && isNaN(i#=parseInt(x#))) || (!p# && !t#.propertyIsEnumerable(x#)) ) continue;");_aStr.push("	d."+m[4]+"=t#[x#];");_aStr.push(m[3]?"d."+m[3]+"=p#?i#:x#;":"");return _aStr.join("").replace(reg[4],lev++);}if(m[6]){return"}else{";}if(m[7]){if(m[7]=="for"){return"delete d."+delete_info+"; };";}else{return"};";}}return m[0];});}else{if(tpl[i]==key){tpl[i]="";}else{if(tpl[i]){tpl[i]='s[i++]="'+tpl[i].replace(reg[1],cb[1])+'";';}}}}tpl=jindo.$A(tpl).reverse().$value().join("").replace(new RegExp(leftBrace,"g"),"{").replace(new RegExp(rightBrace,"g"),"}");var _aStr=[];_aStr.push("var s=[],i=0;");
_aStr.push('function isArray(o){ return Object.prototype.toString.call(o) == "[object Array]" };');_aStr.push(tpl);_aStr.push('return s.join("");');tpl=eval("false||function(d){"+_aStr.join("")+"}");tpl=tpl(data);return tpl;};window[ns]=jindo;})("me2Jindo");if(me2Jindo.$Agent().navigator().version==6){try{document.execCommand("BackgroundImageCache",false,true);}catch(e){}}if(!window.console){window.console={};console.log=function(){};console.warn=function(){};console.error=function(){};}nhn.Me2Expand={_htMe2Data:{},_htEvent:{},_sFlashConnectId:null,_bInitialized:false,_bFlashInitialized:false,_bReceiverFlashAppended:false,_bMobileDevice:false,initialize:function(){this._checkMobileOs();this._attachEvent();},destroy:function(){for(var a in this._htMe2Data){var c=this._htMe2Data[a]["elButtonIframe"];if(c){me2Jindo.$Element(c).leave();}var b=this._htMe2Data[a]["elPostIframe"];if(b){me2Jindo.$Element(b).leave();}}this._detachEvent();this._htMe2Data=null;this._htEvent=null;this._sFlashConnectId=null;this._bInitialized=null;this._bFlashInitialized=null;this._bReceiverFlashAppended=null;this._bMobileDevice=null;nhn.Me2Expand.Common.destroy();},_attachEvent:function(){this._htEvent.unload=me2Jindo.$Fn(this.destroy,this).attach(window,"unload");},_detachEvent:function(){this._htEvent.unload.detach(window,"unload");
},_checkMobileOs:function(){var a=me2Jindo.$Agent().os();if(a.ipad||a.iphone||a.android||a.nokia||a.webos||a.blackberry||a.mwin){this._bMobileDevice=true;}},_setMe2Data:function(i,b){var d=b.type||"button_normal";var h=(d=="button_list")?21:22;var g=36;var c=(d=="button_highlight")?36:h;var f=parseInt(b.buttonHeight||c,10);f=Math.min(Math.max(f,h),g);var n=(d=="button_highlight")?"purple":"white";var m=b.buttonColor||n;var l=nhn.Me2Expand.Common.stripASCIICode(b.title);l=me2Jindo.$S(l).unescapeHTML().$value();if(l.length>50){l=l.substring(0,50);}var a=nhn.Me2Expand.Common.stripASCIICode(b.tag);var k=nhn.Me2Expand.Common.stripASCIICode(b.category1);k=(k.length>20)?k.substring(0,20):k;var j=nhn.Me2Expand.Common.stripASCIICode(b.category2);j=(j.length>20)?j.substring(0,20):j;this._htMe2Data[i]={id:i,type:d,align:b.layerAlign,height:f,color:m,href:b.href,title:l,tag:a,category1:k,category2:j,icon:b.iconUrl,callback:b.callbackUrl,me2script:b.me2script};b.me2script.setAttribute("id",i+"_Script");},_getMe2Data:function(a,b){if(b){return this._htMe2Data[a][b];
}else{return this._htMe2Data[a];}},_makeMe2Button:function(a){if(this._bMobileDevice){return false;}var g=a.id||this._getTimeId();this._setMe2Data(g,a);var c=this._getMe2Data(g);if(!c){return false;}var j=me2Jindo.$Element('<div class="me2day_me2box" id="'+g+'_Me2Holder" style="position:relative;width:1%;">');var f=g+"_ButtonIframe";var b=c.height+2;var h;if(c.type=="button_list"){h=46;}else{if(c.type=="button_highlight"){h=82;}else{h=(c.height>24)?77:70;}}j.html('<iframe class="button_frame" name="'+f+'" id="'+f+'" src="about:blank" title="미투하기" width="'+h+'" height="'+b+'" allowTransparency="true" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"><p>Your browser does not support i.</p></iframe>');me2Jindo.$Element(c.me2script).after(j.$value());var d=this.getFlashConnectId();var k=[];k.push("fId="+d);k.push("mid="+g);k.push("tp="+c.type);if(this._bMobileDevice){k.push("&im=true");}else{k.push("ht="+c.height);k.push("cl="+c.color);if(c.title){k.push("tt="+encodeURIComponent(c.title).replace(/\'/g,"%26%2339%3B"));
}if(c.tag){k.push("tg="+encodeURIComponent(c.tag));}if(c.category1){k.push("cg1="+encodeURIComponent(c.category1));}if(c.category2){k.push("cg2="+encodeURIComponent(c.category2));}if(c.href){k.push("href="+encodeURIComponent(c.href));}if(c.icon){k.push("ic="+encodeURIComponent(c.icon));}if(c.callback){k.push("cb="+encodeURIComponent(c.callback));}}var i=nhn.Me2Expand.Common.getAjaxAPI("API103")+"?"+k.join("&");me2Jindo.$(f).src=i;this._htMe2Data[g]["elButtonIframe"]=me2Jindo.$(f);},makeMe2Post:function(sMakePostData){sMakePostData=eval(sMakePostData);var sMe2Id=sMakePostData[0];var sErrorCode=sMakePostData[1];var sErrorMessage=sMakePostData[2];if(this._htMe2Data[sMe2Id]["elPostIframe"]){return false;}var welButtonIframe=me2Jindo.$Element(this._htMe2Data[sMe2Id]["elButtonIframe"]);var elHolder=welButtonIframe.parent().$value();elHolder.style.zIndex=1000;var sIframeName=sMe2Id+"_PostIframe";var htMe2Data=this._htMe2Data[sMe2Id];var nButtonHeight=htMe2Data.height+2;var nButtonIframeWidth=welButtonIframe.width();var nButtonIframeHeight=welButtonIframe.height();
var nTop=(htMe2Data.align=="top-right"||htMe2Data.align=="top-left")?-103:nButtonIframeHeight;var nLeft=(htMe2Data.align=="left"||htMe2Data.align=="top-left")?-(338-nButtonIframeWidth)+1:0;var sStyle="display:block;position:absolute;top:"+nTop+"px;left:"+nLeft+"px;";var welPostIframe=me2Jindo.$Element('<iframe class="layer_frame" name="'+sIframeName+'" id="'+sIframeName+'" src ="about:blank" title="미투하기 관련 레이어" width="338" height="102"  allowTransparency="true" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="'+sStyle+'"><p>Your browser does not support i.</p></iframe>');welPostIframe.appendTo(elHolder);var aIframeUrl=[];aIframeUrl.push("mid="+sMe2Id);if(sErrorCode){aIframeUrl.push("er="+sErrorCode);aIframeUrl.push("erm="+encodeURIComponent(sErrorMessage));}else{if(htMe2Data.title){aIframeUrl.push("tt="+encodeURIComponent(htMe2Data.title).replace(/\'/g,"%26%2339%3B"));}if(htMe2Data.tag){aIframeUrl.push("tg="+encodeURIComponent(htMe2Data.tag));}if(htMe2Data.category1){aIframeUrl.push("cg1="+encodeURIComponent(htMe2Data.category1));
}if(htMe2Data.category2){aIframeUrl.push("cg2="+encodeURIComponent(htMe2Data.category2));}if(htMe2Data.href){aIframeUrl.push("href="+encodeURIComponent(htMe2Data.href));}}var sIframeUrl=nhn.Me2Expand.Common.getAjaxAPI("API104")+"?"+aIframeUrl.join("&");welPostIframe.$value().src=sIframeUrl;this._htMe2Data[sMe2Id]["elPostIframe"]=welPostIframe.$value();},deleteMe2Post:function(b){var d;var c;if(b){d=this._htMe2Data[b]["elPostIframe"];if(d){c=me2Jindo.$Element(d).parent().$value();c.style.zIndex="";me2Jindo.$Element(d).leave();delete this._htMe2Data[b]["elPostIframe"];}}else{for(var a in this._htMe2Data){d=this._htMe2Data[a]["elPostIframe"];if(d){c=me2Jindo.$Element(d).parent().$value();c.style.zIndex="";me2Jindo.$Element(d).leave();delete this._htMe2Data[a]["elPostIframe"];}}}},_initReceiverFlash:function(){if(this._bMobileDevice){return false;}if(this._bFlashInitialized){return false;}if(this._bReceiverFlashAppended){return false;}var a={};a.initParams='{"prefix": "receiver_", "type": 0}';var b={};b.flashVars=a;
b.wmode="window";b.allowScriptAccess="always";b.color="#FFFFFF";b.flashVars=a;document.write('<div style="position:absolute;top:-1000px;left:-1000px">');nhn.FlashObject.show(nhn.Me2Expand.Common.getFlashUrl()+"?receiver","DomainBridgeReceiver","1","1",b);document.write("</div>");this._bReceiverFlashAppended=true;},initializedReceiverFlash:function(){if(this._bFlashInitialized){return false;}this._bFlashInitialized=true;},_getTimeId:function(){return new Date().getTime();},addMe2Button:function(a){if(!this._bInitialized){this.initialize();}if(!this._bFlashInitialized){this._initReceiverFlash();}this._makeMe2Button(a);},getFlashConnectId:function(){if(!this._sFlashConnectId){this._sFlashConnectId="_"+this._getTimeId();}return this._sFlashConnectId;},resizeButtonIframe:function(sResizeData){var aResizeData=eval(sResizeData);var elIframe=this._htMe2Data[aResizeData[0]]["elButtonIframe"];elIframe.width=aResizeData[1];}};nhn.Me2Expand.Common={_sFrameType:null,_nPostMaxLength:150,_sServiceUrl:"http://me2metoo.naver.com",_sImagePath:"http://static.me2metoo.naver.net/",_sDomainBridgeFlashUrl:"http://static.me2metoo.naver.net/plugins/NDomainBridge.swf",_htAjaxAPI:{API001:"/ajax/v1/metoo_count.nhn",API002:"/ajax/v1/metoo.nhn",API003:"/ajax/v1/post.nhn",API101:"https://nid.naver.com/nidlogin.login?svctype=64&url=http%3A%2F%2Fme2metoo.naver.com%2Fajax%2Fv1%2Fcheck_login.nhn%3Fredirect_url%3Dhttp%253A%252F%252Fme2metoo.naver.com%252Fajax%252Fv1%252Fcheck_login_result.nhn%253Fcheck_login%253D1",API102:"https://nid.naver.com/new_me2day/new_me2day.nhn?service_name=naver&popup_url=http%3A%2F%2Fme2metoo.naver.com%2Fajax%2Fv1%2Fcheck_login.nhn%3Fredirect_url%3Dhttp%253A%252F%252Fnid.naver.com%252Fnew_me2day%252Fme2day_done.nhn%253Fpopup%253Dno%2526ret_url%253Dhttp%25253A%25252F%25252Fme2metoo.naver.com%25252Fajax%25252Fv1%25252Fcheck_login_result.nhn%25253Fcheck_login%25253D1%252526check_connect%25253D1&consumer_name=me2day",API103:"http://static.me2metoo.naver.net/plugins/buttonPage.html",API104:"http://static.me2metoo.naver.net/plugins/postPage.html"},_htMessage:{E196:"팝업차단을 해제하셔야 미투하기 기능을 이용하실 수 있습니다.",E197:"미투하기를 할 수 없습니다.",E198:"입력한 글자수가 너무 많아서 등록할 수 없습니다.",E199:"죄송합니다. 모바일 미투 기능은 준비중입니다."},_htTemplate:{M001:"<strong>{=nickname}</strong>님의 미투로 등록되었습니다.",M002:"이미 미투한 글입니다. ",M003:'<p class="layer_message icon2"><strong>이미 미투한 글입니다.</strong><br>마이미투에서 글을 확인하실 수 있습니다.</p><p class="link_r"><a class="link_to_myme2" href="http://me2day.net/{=userid}" target="_blank">마이미투 가기</a></p>',M004:'<p class="layer_message icon2 single_line"><strong>미투하기를 누르신 후 관련글을 써주세요.</strong></p>',M005:'<p class="layer_message icon1"><strong>미투 글을 등록했습니다.</strong><br>마이미투에서 글을 확인하실 수 있습니다.</p><p class="link_r"><a class="link_to_myme2" href="http://me2day.net/{=userid}" target="_blank">마이미투 가기</a></p>',E001:'<p class="layer_message icon2 single_line"><strong>본 게시물은 데이터 오류로 미투할 수 없습니다.</strong></p>',E002:'<p class="layer_message icon2 single_line"><strong>단체 아이디는 미투기능을 지원하지 않습니다.</strong></p>',E003:'<p class="layer_message icon2"><strong>죄송합니다.<br>미투데이 서비스가 일시적인 장애중 입니다.</strong> <br>잠시후에 이용해 주세요.</p>',E004:'<p class="layer_message icon2 single_line"><strong>죄송합니다.<br>미투기능은 준비중입니다</strong></p>',E005:'<p class="layer_message icon2"><strong>죄송합니다.<br>지금은 미투데이 서비스 점검중 입니다.</strong> <br>점검시간 동안은 기능 이용이 제한됩니다. <br></p> <p class="link_r"><a class="link_to_myme2" href="http://me2day.net/me2/blog" target="_blank">미투데이 공지</a></p>',E006:'<p class="layer_message icon2 single_line"><strong>잘못된 접근입니다. 다시 시도해주세요.</strong></p>',E007:'<p class="layer_message icon2"><strong>죄송합니다.</strong><br>회원님은 미투 권한이 없습니다.</p>',E101:'<p class="layer_message">{=custom_message}</p>'},_htMe2Data:{},destroy:function(){this._sFrameType=null;
this._nPostMaxLength=null;this._sServiceUrl=null;this._sImagePath=null;this._sDomainBridgeFlashUrl=null;this._htAjaxAPI=null;this._htMessage=null;this._htTemplate=null;this._htMe2Data=null;},getImagePath:function(){return this._sImagePath;},getFlashUrl:function(){return this._sDomainBridgeFlashUrl;},setFrameType:function(a){this._sFrameType=a||"Button";},getAjaxAPI:function(b){var a=(/^https?:\/\//.test(this._htAjaxAPI[b])?"":this._sServiceUrl)+this._htAjaxAPI[b];return a;},getMessage:function(a){return this._htMessage[a];},getTemplate:function(c,a){var b=this._htTemplate[c];if(b&&a){b=me2Jindo.$Template(b).process(a);}return b;},getMe2Data:function(a){return(a?this._htMe2Data[a]:this._htMe2Data);},setMe2Data:function(b,a){this._htMe2Data[b]=a;},getIframe:function(c){var b=parent.frames;for(var d=0,a=b.length;d<a;d++){try{if(b[d].name==c){var f=b[d].contentWindow||b[d];}}catch(g){}}return(f)?(f.contentWindow||f):false;},getError:function(){return this._htMe2Data.htError;},setError:function(a){if(!this._htMe2Data.htError){this._htMe2Data.htError={};
}this._htMe2Data.htError["errorCode"]=a.errorCode.toString();this._htMe2Data.htError["errorMessage"]=a.errorMessage;},getMe2ableStatus:function(a){var b=this._htMe2Data.htError["errorCode"];if(b=="0"||b=="198"){return true;}else{if(a){this.executeExceptionHadling();}return false;}},getMessageTemplate:function(c){var b;switch(c){case"101":b="E001";break;case"104":b="E002";break;case"201":case"202":case"195":case"196":case"197":case"999":b="E003";break;case"301":b="E004";break;case"302":b="E005";break;case"105":b="E006";break;case"106":b="E007";break;case"399":b="E101";break;default:b="E003";break;}if(c=="399"){var a=this._htMe2Data.htError["errorMessage"];return this.getTemplate(b,{custom_message:a});}else{return this.getTemplate(b);}},executeExceptionHadling:function(){var a=this._htMe2Data.htError["errorCode"];switch(a){case"102":case"103":this._executeLoginError(a);break;case"199":alert(this.getMessage("E"+a));break;default:this._executeError();break;}},_executeLoginError:function(a){if(this._sFrameType=="Button"){nhn.Me2Expand.Button.openLoginPopup(a);
}else{sendNotification('{"methodName" : "nhn.Me2Expand.Button.openLoginPopup", "methodParam" : "'+a+'"}');}this.setError({errorCode:"198",errorMessage:"Executed Login Error"});},_executeError:function(){var b=this._htMe2Data.htError["errorCode"];var f=this._htMe2Data.htError["errorMessage"];var d=this.getMessageTemplate(b);var c;if(d){if(this._sFrameType=="Button"){var g=nhn.Me2Expand.Button.getPostIframe();if(g){c=nhn.Me2Expand.Common.getMessageTemplate(b);g.nhn.Me2Expand.Post.showMessage(c);}else{var a=[nhn.Me2Expand.Button.getMe2Data("me2Id"),"'"+b+"'","'"+f+"'"];sendNotification('{"methodName" : "nhn.Me2Expand.makeMe2Post", "methodParam" : "['+a.join(",")+']"}');}}else{c=nhn.Me2Expand.Common.getMessageTemplate(b);nhn.Me2Expand.Post.showMessage(c);}}else{f="[Error]"+b+(f?"\n"+f:"");alert(f);}},stripASCIICode:function(a){a=a.replace(/&#([0-9]+);/g,function(c,b){return String.fromCharCode(b)?String.fromCharCode(b):c;});return a;}};nhn.Me2Expand.Button={_htMe2Data:{},_htEvent:{},_htElement:{},_sFlashConnectId:null,_bInitialized:false,_bFlashInitialized:false,_bAjaxRequesting:false,_bAllowedNavigateIframe:null,initialize:function(){this._initSenderFlash();
var j=window.location.toString();var b=j.indexOf("?");var f=j.substring(b+1);var l=f.split("&");this._htMe2Data={};for(var g=0,k=l.length;g<k;g++){var h=l[g].split("=");var n;switch(h[0]){case"mid":n="me2Id";break;case"tp":n="type";break;case"im":n="ismobile";break;case"ht":n="height";break;case"cl":n="color";break;case"tt":n="title";break;case"tg":n="tag";break;case"cg1":n="category1";break;case"cg2":n="category2";break;case"ic":n="icon";break;case"cb":n="callback";break;default:n=h[0];break;}if(n=="title"||n=="href"||n=="tag"||n=="category1"||n=="category2"||n=="icon"||n=="callback"){this._htMe2Data[n]=decodeURIComponent(h[1]);}else{this._htMe2Data[n]=h[1];}if(h[0]=="fId"){this._sFlashConnectId=h[1];}}nhn.Me2Expand.Common.setFrameType("Button");if(this._htMe2Data.ismobile=="true"){nhn.Me2Expand.Common.setError({errorCode:"199",errorMessage:"Mobile Device"});}else{if(!this._htMe2Data.href||!this._htMe2Data.title){nhn.Me2Expand.Common.setError({errorCode:"101",errorMessage:"Paramter Error"});}else{nhn.Me2Expand.Common.setError({errorCode:"0",errorMessage:"Success"});
}}this._setElement();var a=this._htMe2Data.type.replace(/^button_/,"");var d=a+"_px"+this._htMe2Data.height+(this._htMe2Data.color=="purple"?"_b":"");var m=(me2Jindo.$Agent().navigator().ie&&me2Jindo.$Agent().navigator().version==6)?"gif":"png";var c=nhn.Me2Expand.Common.getImagePath()+"images/btn_me2_"+d+"."+m;this._htElement.holder.addClass(d);this._htElement.me2_btn.$value().src=c;this._attachEvent();this._checkAllowedNavigateIframe();},destroy:function(){this._detachEvent();this._htMe2Data=null;this._htEvent=null;this._htElement=null;this._sFlashConnectId=null;this._bInitialized=null;this._bFlashInitialized=null;this._bAjaxRequesting=null;this._bAllowedNavigateIframe=null;nhn.Me2Expand.Common.destroy();},_setElement:function(){this._htElement.holder=me2Jindo.$Element("me2btn_area");this._htElement.me2_btn=me2Jindo.$Element(me2Jindo.cssquery.getSingle("._me2_btn",this._htElement.holder.$value()));this._htElement.me2_count_area=me2Jindo.$Element(me2Jindo.cssquery.getSingle("._me2_count_area",this._htElement.holder.$value()));
this._htElement.me2_count=me2Jindo.$Element(me2Jindo.cssquery.getSingle("._me2_count",this._htElement.holder.$value()));},_attachEvent:function(){this._htEvent.load=me2Jindo.$Fn(this._setMe2Count,this).attach(window,"load");this._htEvent.unload=me2Jindo.$Fn(this.destroy,this).attach(window,"unload");this._htEvent.click=me2Jindo.$Fn(this._fireClick,this).attach(this._htElement.holder.$value(),"click");},_detachEvent:function(){this._htEvent.load.detach(window,"load");this._htEvent.unload.detach(window,"unload");this._htEvent.click.detach(this._htElement.holder.$value(),"click");},_checkAllowedNavigateIframe:function(){var a=this._htMe2Data.me2Id+"_ButtonIframe";var b=nhn.Me2Expand.Common.getIframe(a);this._bAllowedNavigateIframe=b?true:false;},_setMe2Count:function(){if(this._bAjaxRequesting){return false;}var b=nhn.Me2Expand.Common.getMe2ableStatus();if(b){this._bAjaxRequesting=true;var d=nhn.Me2Expand.Common.getAjaxAPI("API001");var a={};if(this._htMe2Data.href){a.href=this._htMe2Data.href;}var f=new me2Jindo.$Ajax(d,{type:"flash",onload:me2Jindo.$Fn(this._callbackGetMe2Count,this).bind(),timeout:5,ontimeout:me2Jindo.$Fn(this._errorGetMe2Count,this).bind({errorCode:"197",errorMessage:"Timeout"}),onerror:me2Jindo.$Fn(this._errorGetMe2Count,this).bind({errorCode:"196",errorMessage:"Unknown Error"})});
var c=function(){if(me2Jindo.$Ajax.SWFRequest.activeFlash){f.request(a);}else{setTimeout(me2Jindo.$Fn(function(){c();},this).bind(),100);}};c();}else{this._htElement.me2_count_area.addClass("display_none");}},_errorGetMe2Count:function(a){nhn.Me2Expand.Common.setError(a);this._resizeWindow();this._bAjaxRequesting=false;this._bInitialized=true;},_callbackGetMe2Count:function(sResponse){var htResult=eval("("+sResponse.text()+")");if(htResult.result=="success"){nhn.Me2Expand.Common.setError({errorCode:"0",errorMessage:"Success"});if(htResult.returnValue&&htResult.returnValue.count){this._htElement.me2_count.html(htResult.returnValue.count);this._htElement.me2_count_area.removeClass("display_none");}else{this._htElement.me2_count_area.addClass("display_none");}}else{nhn.Me2Expand.Common.setError(htResult.returnValue);this._htElement.me2_count_area.addClass("display_none");}this._resizeWindow();this._bAjaxRequesting=false;this._bInitialized=true;},_resizeWindow:function(c){if(!this._bFlashInitialized||!this._bInitialized){setTimeout(me2Jindo.$Fn(this._resizeWindow,this).bind(),10);
return false;}var a=this._htElement.me2_btn.width();if(!this._htElement.me2_count_area.hasClass("display_none")){var b=this._htElement.me2_count_area.width();a=a+b+4;}var f=this._htElement.holder.height();var d=[this._htMe2Data.me2Id,a,f];sendNotification('{"methodName" : "nhn.Me2Expand.resizeButtonIframe", "methodParam" : "['+d.join(",")+']"}');},_fireClick:function(b){var d=b.element;var a=me2Jindo.$Element(d);if(a.hasClass("_me2_btn")){if(this._bAllowedNavigateIframe){var c=nhn.Me2Expand.Button.getPostIframe();if(!c){this._executeMe2();}}else{alert(nhn.Me2Expand.Common.getMessage("E197"));}b.stopDefault();}},_showLoadingImage:function(){this._htElement.me2_btn.addClass("img_loding");},hideLoadingImage:function(){this._htElement.me2_btn.removeClass("img_loding");},openLoginPopup:function(f){var d;var c;var b;if(f=="102"){d=nhn.Me2Expand.Common.getAjaxAPI("API101");c=400;nHegiht=348;}else{d=nhn.Me2Expand.Common.getAjaxAPI("API102");c=400;nHegiht=348;}var a=window.open(d,"로그인","width="+c+",height="+b);if(!a||a.closed||typeof a.closed=="undefined"){alert(nhn.Me2Expand.Common.getMessage("E196"));
}else{a.focus();}},_executeMe2:function(){if(this._bAjaxRequesting){return false;}var c=nhn.Me2Expand.Common.getMe2ableStatus(true);if(c){this._showLoadingImage();this._bAjaxRequesting=true;var d=nhn.Me2Expand.Common.getAjaxAPI("API002");var b={};if(this._htMe2Data.title){b.title=me2Jindo.$S(this._htMe2Data.title).escapeRegex().$value();}if(this._htMe2Data.category1){b.category1=me2Jindo.$S(this._htMe2Data.category1).escapeRegex().$value();}if(this._htMe2Data.category2){b.category2=me2Jindo.$S(this._htMe2Data.category2).escapeRegex().$value();}if(this._htMe2Data.tag){b.tag=me2Jindo.$S(this._htMe2Data.tag).escapeRegex().$value();}if(this._htMe2Data.href){b.href=this._htMe2Data.href;}if(this._htMe2Data.icon){b.icon_url=this._htMe2Data.icon;}if(this._htMe2Data.callback){b.callback_url=this._htMe2Data.callback;}var f=new me2Jindo.$Ajax(d,{type:"flash",onload:me2Jindo.$Fn(this._callbackExecuteMe2,this).bind(),timeout:5,ontimeout:me2Jindo.$Fn(this._errorExecuteMe2,this).bind({errorCode:"197",errorMessage:"Timeout"}),onerror:me2Jindo.$Fn(this._errorExecuteMe2,this).bind({errorCode:"196",errorMessage:"Unknown Error"})});
var a=function(){if(me2Jindo.$Ajax.SWFRequest.activeFlash){f.request(b);}else{setTimeout(me2Jindo.$Fn(function(){a();},this).bind(),100);}};a();}},_errorExecuteMe2:function(a){nhn.Me2Expand.Common.setError(a);nhn.Me2Expand.Common.executeExceptionHadling();this._resizeWindow();this._bAjaxRequesting=false;},_callbackExecuteMe2:function(sResponse){var htResult=eval("("+sResponse.text()+")");if(htResult.result=="success"){nhn.Me2Expand.Common.setError({errorCode:"0",errorMessage:"Success"});nhn.Me2Expand.Common.setMe2Data("sNickName",htResult.returnValue.nickName);nhn.Me2Expand.Common.setMe2Data("sUserId",htResult.returnValue.userId);nhn.Me2Expand.Common.setMe2Data("nStatus",htResult.returnValue.status);if(htResult.returnValue.status==0){this._htElement.me2_count.html(htResult.returnValue.count);this._htElement.me2_count_area.removeClass("display_none");}this._showPostArea();}else{nhn.Me2Expand.Common.setError(htResult.returnValue);var sErrorCode=htResult.returnValue.errorCode.toString();if(sErrorCode=="102"||sErrorCode=="103"||sErrorCode=="199"){this.hideLoadingImage();
}nhn.Me2Expand.Common.executeExceptionHadling();}this._resizeWindow();this._bAjaxRequesting=false;},_initSenderFlash:function(){var a={};a.initParams='{"prefix": "sender_", "type": 1}';var b={};b.flashVars=a;b.wmode="window";b.allowScriptAccess="always";b.color="#FFFFFF";b.flashVars=a;document.write('<div style="position:absolute;top:-1000px;left:-1000px">');nhn.FlashObject.show(nhn.Me2Expand.Common.getFlashUrl()+"?sender","DomainBridgeSender","1","1",b);document.write("</div>");},initializedSenderFlash:function(){if(this._bFlashInitialized){return false;}this._bFlashInitialized=true;},getFlashConnectId:function(){return this._sFlashConnectId;},getMe2Data:function(a){return(a?this._htMe2Data[a]:this._htMe2Data);},_showPostArea:function(){var a=nhn.Me2Expand.Button.getPostIframe();if(a){a.nhn.Me2Expand.Post.showPostAreaByStatus();}else{sendNotification('{"methodName" : "nhn.Me2Expand.makeMe2Post", "methodParam" : "['+this._htMe2Data.me2Id+']"}');}},hidePostArea:function(a){sendNotification('{"methodName" : "nhn.Me2Expand.deleteMe2Post", "methodParam" : "'+a+'"}');
},getPostIframe:function(){var a=this._htMe2Data.me2Id+"_PostIframe";return nhn.Me2Expand.Common.getIframe(a);}};nhn.Me2Expand.Post={_htMe2Data:{},_htEvent:{},_htElement:{},_bAjaxRequesting:false,_oTimeout:null,_bShowAlert:false,initialize:function(){var d=window.location.toString();var b=d.indexOf("?");var c=d.substring(b+1);var h=c.split("&");this._htMe2Data={};for(var g=0,a=h.length;g<a;g++){var j=h[g].split("=");var f;switch(j[0]){case"mid":f="me2Id";break;case"er":f="error";break;case"erm":f="message";break;case"tt":f="title";break;case"tg":f="tag";break;case"cg1":f="category1";break;case"cg2":f="category2";break;default:f=j[0];break;}if(f=="title"||f=="href"||f=="tag"||f=="category1"||f=="category2"||f=="message"){this._htMe2Data[f]=decodeURIComponent(j[1]);}else{this._htMe2Data[f]=j[1];}}nhn.Me2Expand.Common.setFrameType("Post");if(this._htMe2Data.error){nhn.Me2Expand.Common.setError({errorCode:this._htMe2Data.error,errorMessage:this._htMe2Data.message});}else{nhn.Me2Expand.Common.setError({errorCode:"0",errorMessage:"Success"});
}this._setElement();this._attachEvent();this.showPostAreaByStatus();},destroy:function(){this._detachEvent();this._htMe2Data=null;this._htEvent=null;this._htElement=null;this._bAjaxRequesting=null;this._oTimeout=null;this._bShowAlert=null;nhn.Me2Expand.Common.destroy();},_setElement:function(){this._htElement.holder=me2Jindo.$Element(me2Jindo.cssquery.getSingle("._holder"));this._htElement.post_form=me2Jindo.$Element(me2Jindo.cssquery.getSingle("._post_form",this._htElement.holder.$value()));this._htElement.post_form_title=me2Jindo.$Element(me2Jindo.cssquery.getSingle("._post_form_title",this._htElement.post_form.$value()));this._htElement.post_write_area=me2Jindo.$Element(me2Jindo.cssquery.getSingle("._post_write_area",this._htElement.post_form.$value()));this._htElement.post_title=me2Jindo.$Element(me2Jindo.cssquery.getSingle("._post_title",this._htElement.post_write_area.$value()));this._htElement.post=me2Jindo.$Element(me2Jindo.cssquery.getSingle("._post",this._htElement.post_write_area.$value()));this._htElement.post_function_area=me2Jindo.$Element(me2Jindo.cssquery.getSingle("._post_function_area",this._htElement.post_form.$value()));
this._htElement.limited_count=me2Jindo.$Element(me2Jindo.cssquery.getSingle("._limited_count",this._htElement.post_function_area.$value()));this._htElement.btn_submit=me2Jindo.$Element(me2Jindo.cssquery.getSingle("._btn_submit",this._htElement.post_function_area.$value()));this._htElement.result_message=me2Jindo.$Element(me2Jindo.cssquery.getSingle("._result_message",this._htElement.holder.$value()));},_attachEvent:function(){this._htEvent.unload=me2Jindo.$Fn(this.destroy,this).attach(window,"unload");this._htEvent.click=me2Jindo.$Fn(this._fireClick,this).attach(this._htElement.holder.$value(),"click");this._htEvent.submit=me2Jindo.$Fn(this._submitPost,this).attach(this._htElement.post_form.$value(),"submit");this._htEvent.focus=me2Jindo.$Fn(this._focusPost,this).attach(this._htElement.post.$value(),"focus");this._htEvent.blur=me2Jindo.$Fn(this._blurPost,this).attach(this._htElement.post.$value(),"blur");this._htEvent.keydown=me2Jindo.$Fn(this._fireKeyDown,this).attach(document,"keydown");this._htEvent.mouseover=me2Jindo.$Fn(function(a){this._fireMouseOverOut("over",a);
},this).attach(this._htElement.holder.$value(),"mouseover");this._htEvent.mouseout=me2Jindo.$Fn(function(a){this._fireMouseOverOut("out",a);},this).attach(this._htElement.holder.$value(),"mouseout");},_detachEvent:function(){this._htEvent.unload.detach(window,"unload");this._htEvent.click.detach(this._htElement.holder.$value(),"click");this._htEvent.submit.detach(this._htElement.post_form.$value(),"submit");this._htEvent.focus.detach(this._htElement.post.$value(),"focus");this._htEvent.blur.detach(this._htElement.post.$value(),"blur");this._htEvent.keydown.detach(document,"keydown");this._htEvent.mouseover.detach(this._htElement.holder.$value(),"mouseover");this._htEvent.mouseout.detach(this._htElement.holder.$value(),"mouseout");},_setPostTitle:function(){var a=this._htMe2Data.title;a=me2Jindo.$S(a).unescapeHTML().$value();var b=a.length;b=(b>30?31:b)+3;a="'"+((a.length>16)?(a.substring(0,16)+"…"):a)+"'";a=me2Jindo.$S(a).escapeHTML().$value();this._htElement.post_title.html(a);Me2dayUtil.setMaxCount(150-b);},_focusPost:function(b){if(!this._htElement.post_write_area.hasClass("extend")){this._expandPostArea();
}Me2dayUtil.setTargetElement(this._htElement.post.$value());var a;var c=false;this._oTimeout=setInterval(me2Jindo.$Fn(function(){a=Me2dayUtil.changeContentsCountAndBtnStatus();if(a.btnState){this._htElement.btn_submit.addClass("activity");this._htElement.btn_submit.$value().disabled="";}else{this._htElement.btn_submit.removeClass("activity");this._htElement.btn_submit.$value().disabled="disabled";}if(a.contentsCount<0){this._htElement.limited_count.addClass("text_overflow");}else{this._htElement.limited_count.removeClass("text_overflow");}if(a.contentsCount<-9999){if(!this._bShowAlert){alert(nhn.Me2Expand.Common.getMessage("E198"));this._bShowAlert=true;this._htElement.limited_count.html(-9999);document.body.focus();}c=true;}else{c=false;this._bShowAlert=false;this._htElement.limited_count.html(a.contentsCount);}},this).bind(),50);},_blurPost:function(a){if(this._oTimeout){clearInterval(this._oTimeout);this._oTimeout=null;}},_fireKeyDown:function(a){if(!this._oTimeout){if(a.key().keyCode==8){a.stopDefault();}}},_fireMouseOverOut:function(a,c){var d=c.element;
if(!me2Jindo.cssquery.test(d,"button._btn_close")){return false;}var b=me2Jindo.$Element(d);if(a=="over"){b.addClass("mouse_over");}else{b.removeClass("mouse_over");}},_fireClick:function(b){var c=b.element;var a=me2Jindo.$Element(c);if(a.hasClass("_btn_close")){this._closePostPage();b.stopDefault();}else{if(a.hasClass("_post_write_area")||a.hasClass("_expand")){this._expandPostArea();b.stopDefault();}}},_expandPostArea:function(){this._htElement.post_write_area.addClass("extend");this._htElement.post_function_area.show();setTimeout(me2Jindo.$Fn(function(){this._htElement.post.$value().focus();},this).bind(),1000);},_submitPost:function(d){if(this._bAjaxRequesting){return false;}var b=nhn.Me2Expand.Common.getMe2ableStatus(true);if(b){this._bAjaxRequesting=true;var f=nhn.Me2Expand.Common.getAjaxAPI("API003");var a={};if(this._htMe2Data.href){a.href=this._htMe2Data.href;}if(this._htMe2Data.title){a.title=me2Jindo.$S(this._htMe2Data.title).escapeRegex().$value();}a.post=this._htElement.post.$value().value;a.post=me2Jindo.$S(a.post).escapeRegex().$value();
var g=new me2Jindo.$Ajax(f,{type:"flash",onload:me2Jindo.$Fn(this._callbackSubmitMe2Post,this).bind(),timeout:5,ontimeout:me2Jindo.$Fn(this._errorSubmitMe2Post,this).bind({errorCode:"197",errorMessage:"Timeout"}),onerror:me2Jindo.$Fn(this._errorSubmitMe2Post,this).bind({errorCode:"196",errorMessage:"Unknown Error"})});var c=function(){if(me2Jindo.$Ajax.SWFRequest.activeFlash){g.request(a);}else{setTimeout(me2Jindo.$Fn(function(){c();},this).bind(),100);}};c();}d.stopDefault();return false;},_errorSubmitMe2Post:function(a){var b=this._getButtonIframe();b.nhn.Me2Expand.Common.setError(a);b.nhn.Me2Expand.Common.executeExceptionHadling();this._bAjaxRequesting=false;},_callbackSubmitMe2Post:function(sResponse){var htResult=eval("("+sResponse.text()+")");if(htResult.result=="success"){nhn.Me2Expand.Common.setError({errorCode:"0",errorMessage:"Success"});if(htResult.returnValue.status==0){var sMessage=nhn.Me2Expand.Common.getTemplate("M005",{userid:htResult.returnValue.userId});this.showMessage(sMessage);}else{var htMe2Data={nStatus:htResult.returnValue.status,sUserId:htResult.returnValue.userId,sNickName:htResult.returnValue.nickName};
this.showPostAreaByStatus(htMe2Data);}}else{var elButtonIframe=this._getButtonIframe();elButtonIframe.nhn.Me2Expand.Common.setError(htResult.returnValue);elButtonIframe.nhn.Me2Expand.Common.executeExceptionHadling();}this._bAjaxRequesting=false;},_closePostPage:function(){var a=this._getButtonIframe();a.nhn.Me2Expand.Button.hidePostArea(this._htMe2Data.me2Id);},_getButtonIframe:function(){var a=this._htMe2Data.me2Id+"_ButtonIframe";return nhn.Me2Expand.Common.getIframe(a);},showPostAreaByStatus:function(g){var f=this._getButtonIframe();var b;if(this._htMe2Data.error){b=nhn.Me2Expand.Common.getMessageTemplate(this._htMe2Data.error);this.showMessage(b);}else{if(!g){g=f.nhn.Me2Expand.Common.getMe2Data();}var a=g.nStatus;var d=g.sUserId;var c=g.sNickName;c=(c.length>5)?(c.substring(0,5)+"…"):c;if(a==0){b=nhn.Me2Expand.Common.getTemplate("M001",{nickname:c});this._htElement.post_form_title.html(b);this._htElement.post_form_title.addClass("icon1");this._htElement.post_form_title.removeClass("icon2");this._setPostTitle();
this._showFostForm();}else{if(a==1){b=nhn.Me2Expand.Common.getTemplate("M002");this._htElement.post_form_title.removeClass("icon1");this._htElement.post_form_title.addClass("icon2");this._htElement.post_form_title.html(b);this._setPostTitle();this._showFostForm();}else{if(a==2){b=nhn.Me2Expand.Common.getTemplate("M003",{userid:d});this.showMessage(b);}else{if(a==3){b=nhn.Me2Expand.Common.getTemplate("M004");this.showMessage(b);}}}}}f.nhn.Me2Expand.Button.hideLoadingImage();},_showFostForm:function(){this._htElement.post_form.show();this._htElement.post_function_area.hide();this._htElement.result_message.hide();},showMessage:function(a){this._htElement.post_form.hide();this._htElement.result_message.html(a);this._htElement.result_message.show();}};var Me2dayUtil={_elTarget:null,_nMe2MaxCounts:150,me2PostingRex:{rxId:/(\s|^)\/([^\/]*)\/([!]{0,})/,rxNick:/[\\＼]([^\\＼]*)[\\＼]([!]{0,})/,rxMessageReg:/(^([@#][^\s]+\s)+)(.*)/,rxLink:/\"(.*?)\":(http[s]?:\/\/[^\s]*)(\s|$)([!]{0,})/,rxPageServer:/\"([^"]*)\":http:\/\/me2day\.net\/([\d|a-z|_|-]*)\/?(\s|$)([!]{0,})/},checkContentsCount:function(a){a=this.replaceMe2SpecialText(a);
return a.length;},replaceMe2SpecialText:function(a){a=a.replace(/\\\"/g,"”");a=a.replace(/\"([^"]*)\":(http[s]?:\/\/[^\s]*)(\s|$)/g,"$1");a=a.replace(/\"([^"]*)\"/,"“$1”");a=a.replace(/\(TM\)/g,"™");a=a.replace(/\.\.\./g,"…");a=a.replace(/\(R\)/g,"®");a=a.replace(/\(C\)/g,"ⓒ");a=a.replace(/--/g,"—");a=a.replace(/[\r]?\n/g,"");return a;},isIdOrNick:function(a){return this.me2PostingRex.rxLink.test(a)||this.me2PostingRex.rxId.test(a)||this.me2PostingRex.rxNick.test(a)||this.me2PostingRex.rxMessageReg.test(a);},getMe2Contents:function(){return this._elTarget.value;},changeContentsCountAndBtnStatus:function(){var a={contentsCount:0,btnState:true};var c="";c=this.getMe2Contents();var b=(c.replace(/\s/g,"").length)?Me2dayUtil.checkContentsCount(c):0;a.contentsCount=this._nMe2MaxCounts-b;a.btnState=this.isActiveButtonStatus(c,a.contentsCount);return a;},isActiveButtonStatus:function(b,a){if(b.replace(/\s/g,"").length==0||a<0){return false;}else{return true;}},setMaxCount:function(a){this._nMe2MaxCounts=a;},setTargetElement:function(a){this._elTarget=a;
}};function makeMe2Button(a){if(!a){return false;}var b=document.getElementsByTagName("script");a.me2script=b[b.length-1];nhn.Me2Expand.addMe2Button(a);}